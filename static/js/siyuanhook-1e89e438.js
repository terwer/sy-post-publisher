/Electron/.test(navigator.userAgent);const t=()=>null!=window.frameElement&&null!=window.frameElement.parentElement&&null!=window.frameElement.parentElement.parentElement&&""!==window.frameElement.parentElement.parentElement.getAttribute("data-node-id"),e=()=>void 0!==window.terwer,s=()=>t()?parent.window:(e(),window),i=()=>{const i=s();return t()?i.siyuan.config.system.dataDir:e()?null!=(n=window.terwer.dataDir)?n:"/notfound":i.siyuan.config.system.dataDir;var n},n=(t,e,i)=>s().require(e),o=t=>{const e=s(),o=i();if(e.JsonLocalStorage)return;n(0,`${o}/widgets/sy-post-publisher/lib/json-localstorage/json-localstorage.js`).init("../../../../storage/syp/")},r=t=>{const e=i();n(0,`${e}/widgets/sy-post-publisher/lib/siyuan/silot.js`)()},a=t=>{const e=s(),o=i();if(e.customstyle)return;const r=n(0,`${o}/widgets/sy-post-publisher/lib/siyuan/theme.js`);setTimeout(r,3e3)},l=t=>{const e=s(),o=i();if(e.syp)return;n(0,`${o}/widgets/sy-post-publisher/lib/siyuan/publish-helper.js`)()},c=t=>{const e=s(),o=i();if(e.SyPicgo)return;const r=n(0,`${o}/widgets/sy-post-publisher/lib/picgo/syPicgo.js`).default,a=r.getCrossPlatformAppDataFolder(),l=`${o}/widgets/sy-post-publisher/lib/picgo/picgo.cfg.json`,c=r.joinPath(a,"sy-picgo"),p="picgo.cfg.json",g=r.joinPath(c,p);r.upgradeCfg(l,c,p);const u=r.initPicgo(g);e.SyPicgo=u},p=t=>{const e=s(),o=i();if(e.SyCmd)return;const r=n(0,`${o}/widgets/sy-post-publisher/lib/cmd/syCmd.js`);e.SyCmd=r},g=()=>{/Electron/.test(navigator.userAgent)&&(t()?(o("iframe挂件"),a("iframe挂件"),l("iframe挂件"),c("iframe挂件"),p("iframe挂件")):e()?(o("思源笔记新窗口"),l("思源笔记新窗口"),c("思源笔记新窗口"),p("思源笔记新窗口")):(o("自定义js片段"),r("自定义js片段"),a("自定义js片段"),l("自定义js片段"),c("自定义js片段"),p("自定义js片段")))};try{g()}catch(u){}export{i as getSiyuanDataDir};
