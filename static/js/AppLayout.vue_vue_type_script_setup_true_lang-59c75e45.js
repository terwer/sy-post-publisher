var e,t,i=Object.defineProperty,a=(e,t,a)=>(((e,t,a)=>{t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a})(e,"symbol"!=typeof t?t+"":t,a),a);import{B as o}from"./vendor_rollup-plugin-node-polyfills-64e646dc.js";import{F as s,x as n,b3 as l,ax as r,bJ as c,bK as u,bL as p,bM as g,bN as d,bO as m,bP as h,bQ as b,bR as f,bS as y,bT as w,bU as v,bV as _,bW as P,bX as k,bY as C,bZ as E,b_ as T,b$ as S,c0 as U,c1 as I,c2 as A,c3 as O,c4 as x,c5 as N,c6 as D,aZ as L,aG as V,O as R,u as $,A as M,aN as j,P as Y,Q as B,a2 as G,V as K,U as H,_ as W,$ as q,ad as F,c7 as J,a0 as X,X as z,z as Q,ao as Z,a1 as ee,aD as te,aa as ie,Y as ae,M as oe,C as se,r as ne,W as le,c8 as re,c9 as ce,ca as ue,cb as pe,R as ge,J as de,Z as me}from"./vendor-42595716.js";import{c as he,d as be}from"./vendor_pinia-ecc357ef.js";import{c as fe,u as ye}from"./vendor_vue-i18n-8a61efa7.js";import{E as we,a as ve,b as _e,c as Pe,d as ke,e as Ce,f as Ee,g as Te,h as Se,i as Ue,j as Ie,k as Ae,l as Oe,m as xe,n as Ne,o as De,p as Le,q as Ve,r as Re,s as $e,t as Me,u as je,v as Ye,w as Be,x as Ge,y as Ke,z as He,A as We,B as qe,C as Fe,D as Je,F as Xe}from"./vendor_element-plus-6396cda2.js";import{H as ze,j as Qe,t as Ze,c as et,a as tt,b as it,k as at,d as ot,x as st,e as nt,p as lt,f as rt,g as ct,s as ut,m as pt}from"./vendor_highlight-js-1b1ee527.js";import{b as gt}from"./vendor_plantuml-encoder-18698577.js";import{l as dt}from"./vendor_loglevel-bd2e1c44.js";import{p as mt}from"./vendor_loglevel-plugin-prefix-34a2ac06.js";import{n as ht}from"./vendor_browser-fs-access-16ccdee9.js";import{d as bt}from"./vendor_transliteration-0556f169.js";import{d as ft}from"./vendor_shorthash2-e60185c0.js";import{v as yt}from"./vendor_uuid-520e9b68.js";import{j as wt}from"./vendor_js-yaml-c400b4ba.js";import{g as vt}from"./vendor_js-base64-2ae562d2.js";import"./vendor_sax-d77c0d7b.js";import{S as _t}from"./vendor_simple-xmlrpc-0d78c765.js";import"./vendor_cross-fetch-e4e57030.js";import{k as Pt,u as kt}from"./vendor_lodash-es-625d2651.js";import{l as Ct}from"./vendor_lodash-37b14d55.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const i of e)if("childList"===i.type)for(const e of i.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const Et=fe({legacy:!1,locale:"zh_CN",fallbackLocale:"en_US",messages:{zh_CN:{"lang.choose":"语言选择","lang.choose.placeholder":"请选择语言","theme.mode.choose":"切换模式","theme.mode.dark":"暗黑模式","theme.mode.light":"浅色模式","service.tab.publish.service":"发布服务","service.tab.publish.setting":"发布配置","service.tab.post.bind":"文章绑定","service.tab.service.switch":"服务开关","service.tab.change.local":"个性设置","main.publish.editmode":"编辑模式","main.publish.editmode.simple":"简洁模式","main.publish.editmode.complex":"详细模式","main.publish.editmode.source":"源码模式","main.publish.vuepress.tip":"推荐Vuepress的V1版本，配合 vuepress-theme-vdoing 使用，后续bug也只会对V1和此主题进行更新","main.publish.github.error.tip":"配置错误或者api不可用，请检查。若修改过配置，请刷新页面","main.publish.github":"发布页面","main.publish.github.tip":"自动将文章的markdown文本发布到Vuepress对应的Github仓库（需要先进行相关配置）","main.publish.github.no.tip":"您未开启Github pages发布，请切换源码模式复制YAML以及Markdown文本","main.publish.github.choose.path":"选择目录","main.publish.github.published.path":"发布路径","main.publish.github.choose.path.use.default":"默认目录","main.publish.github.choose.path.use.default.tip":"使用默认目录，则默认所有文章都发布在配置好的默认目录下（可在发布配置设置），无需每次发布的时候来选择目录，当前平台的默认目录为：","main.publish.github.choose.title":"文件名称","main.publish.github.choose.title.tip":"Vuepress-theme-vdoing支持文件名加上序号来标识，如果你不清楚此用法，请不要修改文件名","main.publish.github.failure":"发布失败，请自行复制右侧文本","main.publish.see.preview":"点击这里查看最新文章","main.publish.see.md.preview":"点击这里查看MD文件","main.publish.see.real.preview":"点击这里查看最新文章","main.publish.to.wordpress":"发布到Wordpress","main.title":"文章标题","main.slug":"文章别名","main.auto.fetch.slug":"自动生成别名","main.use.google.translate":"使用Google翻译API","main.use.hash":"别名后缀","main.use.hash.tip":"不使用hash会展示更有意义的url，但是可能导致文章别名重复（后果是Vuepress会Build失败除非手动解决别名唯一问题），请知悉。","main.force.refresh":"刷新别名","main.force.refresh.tip":"为了防止误操作更新别名，别名不为空的时候默认不会更新别名，如需更新，请勾选刷新别名。","main.desc":"文章摘要","main.auto.fetch.desc":"自动提取摘要","main.create.time":"发布时间","main.create.time.placeholder":"请选择发布时间","main.tag":"文章标签","main.tag.new":"新标签","main.auto.fetch.tag":"自动提取标签","main.tag.auto.switch":"自动标签","main.tag.auto.switch.no.tip":"自动标签已关闭，将不会自动生成标签","main.cat":"文章分类","main.cat.empty":"暂无分类","main.cat.select":"请选择分类","main.yaml.formatter":"YAML Formatter","main.siyuan.to.yaml":"文章属性转YAML","main.yaml.to.siyuan":"YAML转文章属性","main.save.attr.to.siyuan":"保存属性到思源","main.copy":"复制","main.publish":"发布","main.publish.loading":"发布中...","main.loading":"加载中...","main.update":"更新","main.cancel":"取消","main.publish.oneclick.attr":"一键生成属性","main.publish.oneclick.attr.finish":"属性已生成","main.publish.status.unpublish":"未发布","main.publish.status.published":"已发布","main.publish.to.vuepress":"发布到Vuepress","main.publish.to.hugo":"发布到Hugo","main.publish.to.hexo":"发布到Hexo","main.publish.to.jekyll":"发布到Jekyll","main.publish.to.jvue":"发布到JVue","main.publish.to.conf":"发布到Confluence","main.publish.to.cnblogs":"发布到博客园","main.publish.to.liandi":"发布到链滴","main.publish.to.yuque":"发布到语雀","main.publish.to.kms":"发布到KMS","main.opt.success":"操作成功","main.opt.failure":"操作失败","main.copy.success":"复制成功","main.copy.failure":"复制失败","main.opt.quick":"快捷操作","main.opt.status.publish":"文章已发布","main.opt.status.updated":"文章已更新","main.opt.status.cancel":"文章发布已取消","main.opt.loading":"操作中...","main.opt.warning":"警告信息","main.opt.tip":"温馨提示","main.opt.ok":"确认","main.opt.cancel":"取消","main.opt.warning.tip":"此操作不可恢复，是否继续？","setting.noneed":"无需配置","setting.blog.setting":"设置","setting.blog.index":"偏好设置","setting.blog.type":"博客类型","setting.blog.type.placeholder":"请选择博客类型","setting.blog.type.wordpress.value":"Wordpress","setting.blog.type.wordpress.label":"Wordpress","setting.blog.type.metaweblog.value":"MetaweblogApi","setting.blog.type.metaweblog.label":"Metaweblog API","setting.blog.type.github.value":"Github","setting.blog.type.github.label":"Github","setting.blog.type.github.user":"Github用户名","setting.blog.type.github.user.tip":"Github用户名，例如：terwer","setting.blog.type.github.repo":"Github仓库名","setting.blog.type.github.repo.tip":"Github仓库名，例如：terwer.github.io","setting.blog.type.github.token":"Github令牌","setting.blog.type.github.token.tip":"Github令牌，例如：ghp_XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX","setting.blog.type.github.token.gen":"Github 个人令牌生成地址","setting.blog.type.github.default.branch":"默认分支","setting.blog.type.github.default.branch.tip":"默认分支（旧版仓库为master，新版仓库默认为main），例如：main","setting.blog.type.github.default.path":"存储目录","setting.blog.type.github.default.path.tip":"存储目录（相对于仓库根目录的相对路径，默认所有文章都发布在这里），例如：docs/_posts","setting.blog.type.github.msg":"提交信息","setting.blog.type.github.msg.tip":"提交信息，例如：auto published by sy-post-publisher","setting.blog.type.github.author":"作者","setting.blog.type.github.author.tip":"作者，例如：terwer","setting.blog.type.github.email":"邮箱","setting.blog.type.github.email.tip":"邮箱","setting.blog.url":"博客网址","setting.blog.username":"账号","setting.blog.password":"密码/Token","setting.blog.apiurl":"API地址","setting.blog.previewUrl":"预览规则","setting.blog.previewUrl.tip":"预览规则（占位符：[yyyy] [MM] [dd] [postid]），例如：/post/[postid].html 或者 /[cats]/[yyyy]/[mm]/[dd]/[postid].html","setting.blog.previewMdUrl":"MD预览规则","setting.blog.previewMdUrl.tip":"MD文件预览规则（占位符：[user] [repo] [branch] [docpath]），例如：/[user]/[repo]/blob/[branch]/[docpath]","setting.blog.mdFilenameRule":"文件规则","setting.blog.mdFilenameRule.tip":"Markdown文件名规则（占位符：[yyyy] [MM] [dd] [slug] [filename] ），例如：[filename].md 或者 [yyyy]-[mm]-[dd]-[slug].md","setting.blog.pageType":"发布格式","setting.blog.validate":"验证","setting.blog.save":"保存","setting.blog.vali":"验证","setting.blog.vali.tip":"强烈建议保存之前先验证配置以保证api的可用性，验证过程中将发送一篇测试文章，您可以稍后在平台手动删除它。您也可以先保存，稍后修改，但是在验证通过之前该api将不可使用。","setting.blog.vali.tip.metaweblog":"配置错误或者api不可用，请检查。若修改过配置，请刷新页面","setting.blog.vali.ing":"验证中...","setting.blog.vali.ok":"验证通过，不要忘了点击下方保存哟(*^▽^*)","setting.blog.vali.ok.metaweblog":"配置已保存并验证通过","setting.blog.vali.error":"API验证失败，请检查配置","setting.blog.platform.support.github":"您当前操作的是支持Github的平台：","setting.blog.platform.support.metaweblog":"您当前操作的是支持metaweblog的平台：","setting.blog.cancel":"取消","setting.vuepress":"Vuepress","setting.hugo":"Hugo","setting.hexo":"Hexo","setting.jekyll":"Jekyll","setting.jvue":"JVue","setting.conf":"Confluence","setting.conf.tip":"发布到Confluence需要配合我的另一个适配器项目使用（强烈推荐），请参考：https://github.com/terwer/node-metaweblog-api-adaptor","setting.cnblogs":"博客园","setting.wordpress":"Wordpress","setting.liandi":"链滴","setting.yuque":"语雀","setting.kms":"KMS","setting.other1":"其他1","service.switch.vuepress":"Vuepress","service.switch.hugo":"Hugo","service.switch.hexo":"Hexo","service.switch.jekyll":"Jekyll","service.switch.jvue":"JVue","service.switch.conf":"Confluence","service.switch.cnblogs":"博客园","service.switch.wordpress":"Wordpress","service.switch.yuque":"语雀","service.switch.liandi":"链滴","service.switch.wechat":"微信聊天","service.switch.wemp":"微信公众号","service.switch.zhihu":"知乎","service.switch.kms":"知识仓库","service.switch.must.select.one":"您必须选择一个至少平台","post.bind.vuepress.slug":"Vuepress别名","post.bind.hugo.slug":"Hugo别名","post.bind.hexo.slug":"Hexo别名","post.bind.jekyll.slug":"Jekyll别名","post.bind.cnblogs.postid":"博客园别名","post.bind.jvue.postid":"JVue的ID","post.bind.conf.postid":"Conf的ID","post.bind.wordpress.postid":"WP的ID","post.bind.liandi.postid":"链滴的ID","post.bind.yuque.postid":"语雀的ID","post.bind.kms.postid":"KMS的ID","post.bind.conf.save":"保存","post.bind.conf.cancel":"取消","form.validate.name.required":"请输入名称","form.validate.name.length":"长度必须在0到1之间","form.validate.github.auto.delete":"自动删除","dynamic.platform.new":"平台管理","dynamic.platform.tip":"如果内置的发布服务无法满足或者需要添加多个实例，您可以在这里添加受支持的平台，目前支持Github（HUGO、HEXO、Jekyll等）、metaweblog API（开源中国等）和Wordpress API","dynamic.platform.type":"平台类型[必选]","dynamic.platform.subtype":"子平台名称","dynamic.platform.type.metaweblog":"metaweblog API","dynamic.platform.type.wordpress":"Wordpress","dynamic.platform.type.github":"Github","dynamic.platform.type.custom":"自定义","dynamic.platform.key":"平台key","dynamic.platform.key.tip":"平台唯一标识，不能重复，例如：myblog","dynamic.platform.name":"平台名称","dynamic.platform.name.tip":"平台名称，例如：我的博客","dynamic.platform.opt.add":"提交","dynamic.platform.opt.noselect":"请选择平台类型","dynamic.platform.opt.key.exist":"平台key已经存在","dynamic.platform.opt.del.confirm":"删除此平台将会彻底移除此平台相关配置信息，是否继续？","dynamic.platform.opt.del.select":"删除选中","dynamic.platform.opt.item.select":"未选择","dynamic.platform.opt.item.select.tip":"当前选择的是：","dynamic.platform.opt.item.no.select.tip":"请选择要删除的行","setting.common.home":"平台首页","setting.common.tip":"平台首页，用于预览文章，例如：https://terwer.space","setting.common.apiurl":"API地址","setting.common.token":"鉴权token","setting.common.token.gen":"Token生成地址","setting.common.username":"用户名","setting.common.username.gen":"访问策略设置","setting.common.password":"密码","setting.blog.platform.support.common":"您当前操作的平台是：","platform.must.select.one":"哇哦，离使用就差一步啦 o(╥﹏╥)o ，您必须启用至少一个平台。如果上面列出的平台没有你想要的，可以在新增平台动态添加，支持Wordpress和Metaweblog API（例如博客园、oschina、51cto等）。有任何疑问欢迎邮件 youweics#163.com ","blog.list.toptip":"温馨提示：单击表格行可以进入文章详情页，详情页有发布按钮哦! (〃'▽'〃)","config.error.msg":"配置错误，请前往对应发布配置修改","config.platform.none":"没有启用的发布平台，请前往服务开关开启","post.delete.by.platform":"文章已被平台自行删除，请点击取消强制解除关联","blog.top-data-tip":"温馨提示：1. 0.1.0+ 以后，可通过【偏好设置->思源地址】来修改默认伺服配置，支持本地和远程；如果是远程还需要设置token，如果使用浏览器插件或者挂件之外的访问方式还需要设置跨域请求代理。 2、升级新版之前强烈建议导出配置，防止配置丢失。 3、如果出现新版本不兼容的异常情况，建议清空配置。此操作不可恢复，请谨慎操作！","blog.top-data-tip.siyuan":"温馨提示：1、当前处于挂件模式，从 0.1.0 版本开始，无需在所有页面引用挂件了，只需要在父级页面引用一个挂件即可。具体规则如下：(1). 如果检测到没有子文档，会兼容 0.0.3 版本以前的方式，展示当前文档的发布页面。 (2). 如果检测到有子文档，会以列表加分页的方式展示所有子文档列表。可单独选择某个子文档进行发布操作。 2、升级新版之前强烈建议导出配置，防止配置丢失。 3、如果出现新版本不兼容的异常情况，建议清空配置。此操作不可恢复，请谨慎操作！","blog.newwin.open":"页签模式","blog.change.siyuan.api":"思源地址","setting.blog.siyuan.password":"思源笔记鉴权Token，请从【设置->关于】复制，如果是本地笔记留空即可","setting.blog.siyuan.apiurl":"思源笔记的API地址，包括端口，例如：http://127.0.0.1:6806","setting.blog.siyuan.current.apiurl":"当前API地址=>","setting.blog.middlewareUrl":"跨域请求代理","setting.blog.middlewareUrl.tip":"某些场景下需要（例如Firefox插件、自部署模式），其他情况可忽略","setting.blog.middlewareUrl.my.tip":"如果没有部署代理，可以使用我的共享地址：https://api.terwer.space/api/middleware 。出于性能考虑，建议自己部署一份，请使用 https://github.com/terwer/node-metaweblog-api-adaptor 此项目进行部署。","setting.conf.export":"导出配置","setting.conf.import":"导入配置","setting.conf.transport":"导入导出","setting.conf.clear":"清空配置","page.no.id":"请求非法，原因：pageId获取失败","yaml.show.type.yaml":"YAML","yaml.show.type.md":"MD正文","yaml.show.type.yamlmd":"YAML+MD正文","yaml.show.type.html":"HTML正文","main.read.mode":"只读模式","main.edit.mode":"编辑模式","main.read.mode.tip":"温馨提示：只读模式下点击可直接复制，编辑模式下需要点击复制按钮复制。YAML转文章属性仅支持title、permalink、date、description、tags","main.opt.onclick.confirm.tip":"此操作默认将重新生成除别名以外的所有属性，如果只想修改个别属性，请在详细模式点击单独的功能按钮进行对应操作，是否继续？","main.cat.list.error":"分类获取失败","main.yaml.no.save":"您编辑过YAML，点击确认可同步YAML到属性，取消将丢失YAML修改，是否继续？","setting.github.baseUrl":"Git平台地址","setting.github.baseUrl.tip":"Git平台地址，用于MD文件预览，默认是：https://github.com","preference.setting.fixTitle":"去除标题编号","preference.setting.removeH1":"去除正文H1","preference.setting.removeH1.tip":"删除H1可能会误删除Markdown里面的#开头的注释，如需开启，请使用2个以上的#注释，是否继续？","preference.setting.newWin":"新窗口操作","siyuan.browser.show.close.btn":"显示关闭按钮","siyuan.browser.menu.quick.btn":"一键快速发布","siyuan.browser.menu.publish.btn":"文章发布（自动检测，有子文档->列表页；无子文档->发布页）","siyuan.browser.menu.preview.btn":"文章预览（当前文章只读预览）","siyuan.browser.menu.manage.btn":"文章管理（全部文章统一管理）","siyuan.browser.menu.anki.btn":"Anki标记（配合ankisiyuan生成Anki标记）","siyuan.browser.menu.picture.btn":"PicGO图床（支持图床配置与图片上传）","siyuan.browser.menu.setting.btn":"偏好设置（系统设置统一入口）","anki.siyuan.deck":"牌组","anki.siyuan.deck.new":"新牌组","anki.siyuan.tag":"标签","anki.siyuan.tag.new":"新标签","picgo.chrome.tip":"您当前使用的是浏览器插件，需要从这里下载配置 PicGO 客户端：https://github.com/Molunerfinn/PicGo/releases","picgo.siyuan.tip":"您当前使用的是思源笔记挂件，PicGO已内置，只需配置即可","post.detail.button.copy.id":"复制本文ID","post.detail.button.share.link":"复制分享链接","post.detail.button.browser.open":"默认浏览器打开","post.detail.button.pic.manage":"图片管理","post.detail.button.anki.mark":"Anki标记","post.detail.index.send.to.publish":"发布到其他平台","post.detail.index.export.to.pdf":"导出为PDF","picgo.upload.status":"上传状态","picgo.upload.select.pic":"选择图片","picgo.upload.clipboard":"剪贴板图片","picgo.upload.onclick":"一键上传本地图片到图床","picgo.download.onclick":"一键下载远程图片到本地","picgo.download.local.to.bed":"上传本地图片到图床","picgo.download.bed.to.local":"下载远程图片到本地","picgo.pic.preview":"图片预览","picgo.pic.setting":"图床设置","picgo.pic.setting.no.tip":"由于您当前使用的是浏览器插件，无法直接集成 PicGO ，只能通过 HTTP 请求间接调用本地 PicGO 客户端上图片，请直接在本地 PicGO 客户端进行设置。如需体验更加完整的功能，请通过思源笔记挂件版挂载菜单打开新窗口的方式使用。详情请参考：https://docs.publish.terwer.space/post/the-pendant-mode-is-used-in-the-method-of-mounting-menu-169wrw.html","github.use.permalink":"永久链接","github.use.permalink.no.warn":"您已关闭永久链接，formatter将不会生成标记，这在某些特殊场景下可能有用，大部分情况下需要开启此选项，注意：目前仅仅在HUGO平台生效，主要是适配Docsy","github.menu.title":"菜单标题","github.menu.title.placeholder":"菜单栏标题（HUGO平台专用，为空则不显示在菜单）","github.weight":"显示权重","github.weight.placeholder":"权重（决定显示顺序，越小显示越靠前）","github.use.date":"显示日期","github.use.date.no.warn":"您已关闭日期显示，将不会在formatter生成date字段","github.post.picgo.use":"使用图床","github.post.picgo.use.tip":"启用此选项，将会自动将此文档包含的所有本地图片上传至自定义图床（远程图片不上传），请确保PicGO图床配置正确","github.post.picgo.start.upload":"图床已开启，即将上传本地图片到图床","github.post.picgo.picbed.error":"文档可能已经成功发布，但是图片上传失败或者当前场景不支持图片上传，详细信息","setting.yuque.home.tip":"语雀平台首页，通常固定是：https://www.yuque.com/","setting.yuque.username.tip":"语雀平台用户名，注意是【账户设置】里面固定连接里面的用户名，不是用户昵称哦(*^▽^*)","setting.yuque.password.tip":"语雀平台的Token，请按照链接点击获取，只需要勾选【读取你的知识库】和【修改和读取你的文档】两个权限即可","setting.yuque.apiurl.tip":"语雀平台的API地址，通常固定是：https://www.yuque.com/api/v2","setting.liandi.home.tip":"链滴平台首页，通常固定是：https://ld246.com/","setting.liandi.username.tip":"链滴平台用户名，注意是点击【个人主页】之后URL上member后面显示的用户名，不是用户昵称哦(*^▽^*)","setting.liandi.password.tip":"链滴平台的Token，请按照链接点击获取","setting.liandi.apiurl.tip":"链滴平台的API地址，通常固定是：https://ld246.com/api/v2","setting.kms.home.tip":"KMS平台首页，例如：http://localhost:9564/kms16_release/kms/multidoc","setting.kms.username.tip":"KMS平台Rest账户用户名，请按照链接指示创建","setting.kms.password.tip":"KMS平台Rest账户密码，请按照链接指示创建","setting.kms.apiurl.tip":"KMS平台的API地址，例如：http://localhost:9564/kms16_release/api/kms-multidoc/kmsMultidocKnowledgeRestService","siyuan.local.share.tip":"温馨提示：如果发现分享链接或者浏览器打开无法显示或者网络连接被拒绝，请按照下面操作排查。1：思源笔记->设置->关于->打开网络伺服；2：在浏览器打开之后，点击底部思源地址，修改对应地址为局域网ip地址。","setting.cnblogs.home.tip":"您的博客园首页，通常是：https://www.cnblogs.com/<您的用户名>","setting.cnblogs.username.tip":"您的博客园MetaWeblog登录名，可前往您的博客园后台->设置查看，注意：是登录名，不是用户昵称哦(*^▽^*)","setting.cnblogs.password.tip":"您的博客园MetaWeblog访问令牌，可前往您的博客园后台->设置查看","setting.cnblogs.apiUrl.tip":"您的博客园MetaWeblog访问地址，可前往您的博客园后台->设置查看，通常是：https://rpc.cnblogs.com/metaweblog/<您的用户名>","setting.cnblogs.previewUrl.tip":"博客园平台的文章预览规则，通常是：/p/[postid].html","setting.wordpress.home.tip":"WordPress首页","setting.wordpress.username.tip":"WordPress登录名，注意：是登录名，不是用户昵称哦(*^▽^*)","setting.wordpress.password.tip":"WordPress登录密码","setting.wordpress.apiUrl.tip":"WordPress的xmlrpc远程发布地址，通常是：https://<WordPress博客地址>/xmlrpc.php","setting.wordpress.previewUrl.tip":"WordPress平台的文章预览规则，通常是：?p=[postid]","setting.oschina.home.tip":"开源中国首页，通常是：https://my.oschina.net/<您的用户名>","setting.oschina.username.tip":"开源中国登录名，可以输入登录邮箱","setting.oschina.password.tip":"开源中国登录密码","setting.oschina.apiUrl.tip":"开源中国的xmlrpc远程发布地址，通常固定是：https://www.oschina.net/action/xmlrpc","setting.oschina.previewUrl.tip":"开源中国平台的文章预览规则，通常是：/blog/[postid]","setting.typecho.home.tip":"Typecho平台的首页","setting.typecho.username.tip":"Typecho平台登录名","setting.typecho.password.tip":"Typecho平台密码","setting.typecho.apiUrl.tip":"Typecho平台的xmlrpc远程发布地址，通常固定是：https://<平台地址>/index.php/action/xmlrpc","setting.typecho.previewUrl.tip":"Typecho平台的文章预览规则，通常是：/index.php/archives/[postid]","setting.jvue.home.tip":"JVue平台的首页","setting.jvue.username.tip":"JVue平台登录名","setting.jvue.password.tip":"JVue平台密码","setting.jvue.apiUrl.tip":"JVue平台的xmlrpc远程发布地址，通常固定是：https://<平台地址>/xmlrpc","setting.jvue.previewUrl.tip":"JVue平台的文章预览规则，通常是：/post/[postid].html","setting.conf.home.tip":"Confluence Cloud，首页，通常是：https://<您的用户名>.atlassian.net/wiki/spaces/<空间名>","setting.conf.username.tip":"Confluence登录名，可前往您的atlassian账户获取","setting.conf.password.tip":"Confluence访问令牌，可前往您的atlassian账户获取","setting.conf.apiUrl.tip":"可前往 https://developer.atlassian.com/cloud/confluence/rest/v1/#api-wiki-rest-api-content-get 查看文档","setting.conf.previewUrl.tip":"Confluence平台文章预览规则，通常是：/pages/[postid]","setting.picgo.refer.to":"详情请参考：","setting.picgo.refer.to.online.doc":"PicGO配置在线文档","setting.picgo.picbed":"图床设置","setting.picgo.picgo":"PicGO设置","main.opt.edit":"编辑","main.opt.delete":"删除","setting.picgo.picgo.open.config.file":"打开配置文件","setting.picgo.picgo.click.to.open":"点击打开","setting.picgo.picgo.choose.showed.picbed":"请选择显示的图床","setting.picgo.picbed.selected.tip":"已选中","setting.picgo.picbed.unselected.tip":"未选中","setting.picgo.picbed.set.default":"设为默认图床","setting.picgo.picbed.current.selected.tip":"已选中图床：","setting.picgo.picbed.current.tip":"当前默认图床是：","setting.picgo.picbed.uploader.config.name":"图床配置名","setting.picgo.picbed.uploader.config.name.placeholder":"请输入配置名称","setting.picgo.config.name":"配置名称","setting.picgo.config.name.placeholder":"请输入配置名称","setting.picgo.index.tip":"注意：1、此处上传的图片不会自动插入文档中，请手动点击按钮复制链接，然后 Ctrl+V 粘贴到文档中。2、对于文档当中原本已经存在的本地图片，点击上传之后不会直接替换原始图片，只会存储本地图片与图床图片的映射信息，需要在发布文章时手动勾选【使用图床】才会进行临时链接替换，请知悉。这样做是为了不破坏其他地方对文档图片的处理。当然，您也可以手动复制图床链接，然后删除原图片，替换为图床图片。3、该图片列表仅展示此文档包含的图片。","setting.picgo.index.copy.link":"复制链接","setting.picgo.setting.timestamp.rename":"时间戳重命名","setting.picgo.setting.close":"关","setting.picgo.setting.open":"开","setting.picgo.setting.log.file":"日志文件","setting.picgo.plugin":"插件设置","setting.picgo.plugin.list":"插件列表","setting.picgo.plugin.import.local":"导入本地插件","setting.picgo.plugin.install":"安装","setting.picgo.plugin.installing":"安装中","setting.picgo.plugin.installed":"已安装","setting.picgo.plugin.doing.something":"进行中","setting.picgo.plugin.search.placeholder":"搜索npm上的PicGo插件，或者点击上方按钮查看优秀插件列表。推荐：watermark-elec、s3","setting.picgo.plugin.gui.not.implemented":"该插件未对可视化界面进行优化, 是否继续安装?","setting.picgo.setting.node.path":"Node安装路径","setting.picgo.setting.node.path.tip":"请输入Node安装完整路径，例如：/opt/node16/bin，Node版本>=16","setting.picgo.setting.node.registry":"NPM的registry","setting.picgo.setting.node.registry.tip":"国内推荐：https://registry.npmmirror.com","setting.picgo.setting.node.proxy":"NPM代理","setting.picgo.setting.node.proxy.tip":"一般可留空，如有特殊需求可设置自定义代理","setting.picgo.setting.config.tip":"注意：横线以上的属性会改变上传图片的行为，配置可自动保存。横线以下的属性仅仅在安装插件时用到，并且需要点击【确认】按钮才能保存。","setting.picgo.plugin.install.success":"插件已经成功安装，请清除搜索关键字刷新列表。点击插件对应【设置】图标可查看插件详情，并对插件进行自定义设置。如果是图床扩展，请关闭重新打开，然后启用图床并进行设置。","syp.about":"关于作者","setting.picgo.plugin.uninstall":"卸载插件","setting.picgo.plugin.uninstall.success":"插件已经成功卸载。","setting.picgo.plugin.enable":"启用插件","setting.picgo.plugin.disable":"禁用插件","setting.picgo.plugin.update":"更新插件","setting.picgo.plugin.config.setting":"插件设置","setting.picgo.plugin.work":"已兼容","setting.picgo.plugin.nowork":"不兼容","setting.picgo.plugin.nouse":"不可用","setting.picgo.plugin.update.success":"更新成功","setting.conf.import.syp":"导入挂件配置","setting.conf.import.picgo":"导入PicGO配置","setting.conf.export.syp":"导出挂件配置","setting.conf.export.picgo":"导出PicGO配置","setting.conf.import.syp.tip":"请选择有效的历史备份json文件进行导入。注意：挂件配置会进行配置替换。","setting.conf.import.picgo.tip":"请选择有效的历史备份json文件进行导入。注意：PicGO插件的注册信息不导入。为了配置的兼容性，请卸载所有插件之后，进行PicGO配置导出操作。卸载PicGO插件不会删除插件配置，只会删除插件文件以及插件注册记录。请放心卸载。","setting.conf.export.syp.tip":"将导出对应的json配置文件，强烈建议定期进行配置备份。原则上支持向后兼容。如有不兼容问题，会特别说明。","setting.conf.export.picgo.tip":"将导出对应的json配置文件，强烈建议定期进行配置备份。原则上支持向后兼容。如有不兼容问题，会特别说明。","setting.conf.clear.syp":"清空挂件配置","setting.conf.clear.picgo":"清空PicGO配置","setting.conf.clear.tip":"清空配置不可恢复，请谨慎操作。强烈建议先备份配置。","setting.conf.clear.picgo.tip":"清空配置不可恢复，请谨慎操作。强烈建议先备份配置。此操作会删除PicGO相关配置文件夹，包括配置、插件、缓存等，仅在PicGO加载发生异常，并且完全无法使用的时候使用，否则丢失配置后果自负！","setting.main.background":"挂件背景","setting.main.background.tip":"支持16进制和rgb，例如：#000000，未设置或者留空不变。如果新窗口设置，请重新刷新文档。","setting.picgo.manage":"图床管理"},en_US:{"lang.choose":"Choose lang","lang.choose.placeholder":"Please select language","theme.mode.choose":"Mode","theme.mode.dark":"Dark mode","theme.mode.light":"Light mode","service.tab.publish.service":"Publish service","service.tab.publish.setting":"Publish setting","service.tab.post.bind":"Post bind","service.tab.service.switch":"Service switch","service.tab.change.local":"Change language","main.publish.editmode":"Edit mode","main.publish.editmode.simple":"Simple","main.publish.editmode.complex":"Complex","main.publish.editmode.source":"Source","main.publish.vuepress.tip":"Recommends use it with vuepress-theme-vdoing , and the subsequent bug will only update this theme","main.publish.github.error.tip":"Configure error or API is not available, please check. If you modify the configuration, please refresh the page","main.publish.github":"Send Github","main.publish.github.tip":"Checking the Markdown text of the article to the GitHub warehouse corresponding to Vuepress (need to perform related configuration first, unsatisfactory or configuration error will be ignored)","main.publish.github.choose.path":"Choose path","main.publish.github.published.path":"Published path","main.publish.github.choose.path.use.default":"Default path","main.publish.github.choose.path.use.default.tip":"Using the default directory, all articles are published in the configuration default directory, no need to select the directory every time it is published","main.publish.github.no.tip":"You have not opened github release, please copy the right text on your own","main.publish.github.choose.title":"File name","main.publish.github.choose.title.tip":"Vuepress-theme-VDoing support file name plus serial number to identify. If you don’t know this usage, please do not modify the file name","main.publish.see.preview":"Click here see new post","main.publish.see.md.preview":"Click here see new md file","main.publish.see.real.preview":"Click here see new post","main.publish.to.wordpress":"Send to WP","main.title":"Post title","main.slug":"Post slug","main.auto.fetch.slug":"Auto fetch slug","main.use.google.translate":"Use Google translate API","main.use.hash":"Use hash","main.use.hash.tip":"Do not use HASH to show more meaningful URLs, but it may cause the only path of the article to repeat (the consequence is that Vuepress will build a failure unless manual solution to the other problem), please know","main.force.refresh":"Force refresh","main.force.refresh.tip":"In order to prevent the wrongdoing aliases by mistake, the attribute will not be updated by default. If you need to update, please check for compulsory refresh.","main.desc":"Post desc","main.auto.fetch.desc":"Auto fetch desc","main.create.time":"Pub time","main.create.time.placeholder":"Please select time","main.tag":"Post tag","main.tag.new":"New tag","main.auto.fetch.tag":"Auto fetch tag","main.tag.auto.switch":"Tag switch","main.tag.auto.switch.no.tip":"Auto tag is closed","main.cat":"Category","main.cat.empty":"No Category","main.cat.select":"Please select category","main.yaml.formatter":"YAML Formatter","main.siyuan.to.yaml":"Siyuan attr to YAML","main.yaml.to.siyuan":"YAML to Siyuan attr","main.save.attr.to.siyuan":"Save attr to Siyuan","main.copy":"Copy","main.publish":"Publish","main.publish.loading":"Publishing...","main.loading":"Loading...","main.update":"Update","main.cancel":"Cancel","main.publish.oneclick.attr":"Click to attr","main.publish.oneclick.attr.finish":"Make attr finished","main.publish.status.unpublish":"Unpublish","main.publish.status.published":"Published","main.publish.to.vuepress":"Send to Vuepress","main.publish.to.hugo":"Send to Hugo","main.publish.to.hexo":"Send to Hexo","main.publish.to.jekyll":"Send to Jekyll","main.publish.to.jvue":"Send to JVue","main.publish.to.conf":"Send to Confluence","main.publish.to.cnblogs":"Send to Cnblogs","main.publish.to.liandi":"Send to Liandi","main.publish.to.yuque":"Send to Yuque","main.publish.to.kms":"Send to KMS","main.opt.success":"Success","main.opt.failure":"Error","main.copy.success":"Copy Success","main.copy.failure":"Copy Error","main.opt.quick":"Quick","main.opt.status.publish":"Post published success","main.opt.status.cancel":"Post publishing has been canceled","main.opt.loading":"Loading...","main.opt.warning":"Warning","main.opt.ok":"Confirm","main.opt.cancel":"Cancel","main.opt.warning.tip":"The operation will delete the data, whether to continue?","main.opt.tip":"Tips","setting.noneed":"No need setting","setting.blog.setting":" Setting","setting.blog.index":"System setting","setting.blog.type":"Blog type","setting.blog.type.placeholder":"Please select type","setting.blog.type.wordpress.value":"Wordpress","setting.blog.type.wordpress.label":"Wordpress","setting.blog.type.metaweblog.value":"MetaweblogApi","setting.blog.type.metaweblog.label":"Metaweblog API","setting.blog.type.github.value":"Github","setting.blog.type.github.label":"Github","setting.blog.type.github.user":"Github user","setting.blog.type.github.user.tip":"Github user, eg:terwer","setting.blog.type.github.repo":"Github repo","setting.blog.type.github.repo.tip":"Github repo, eg:terwer.github.io","setting.blog.type.github.token":"Github token","setting.blog.type.github.token.tip":"Github token, eg:ghp_XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX","setting.blog.type.github.token.gen":"Generate Github Personal Token","setting.blog.type.github.default.path":"Doc path","setting.blog.type.github.default.path.tip":"Doc path, eg:docs/_posts","setting.blog.type.github.msg":"Commit msg","setting.blog.type.github.msg.tip":"Commit msg, eg:auto published by sy-post-publisher","setting.blog.type.github.author":"Author","setting.blog.type.github.author.tip":"Author, eg:terwer","setting.blog.type.github.email":"Email","setting.blog.type.github.email.tip":"Email","setting.blog.url":"Blog addr","setting.blog.previewUrl":"Preview rule","setting.blog.previewUrl.tip":"Preview Rules (place occupied: [yyyy] [mm] [dd] [postid]), for example:/post/[postid].html or /[cats]/[yyyy]/[mm]/[dd]/[[dd]/[postid].html","setting.blog.previewMdUrl":"MD preview rule","setting.blog.previewMdUrl.tip":"MD file preview rules (place occupied: [user] [repo] [Branch] [docpath]), for example:/[user]/[repo]/blob/[branch]/[docpath]","setting.blog.mdFilenameRule":"File rule","setting.blog.mdFilenameRule.tip":"Markdown File Name Rules (Plasma: [yyyy] [MM] [dd] [slug] [filename]), for example: [filename].md or [yyyy]-[MM]-[dd]-[slug].md","setting.blog.username":"Username","setting.blog.password":"Password","setting.blog.apiurl":"API Url","setting.blog.pageType":"Page Type","setting.blog.validate":"Validate","setting.blog.save":"Save","setting.blog.vali":"Validate","setting.blog.vali.tip":"Please verify the configuration to ensure the availability of the API, and it will not be used without verification.","setting.blog.vali.tip.metaweblog":"Please verify the configuration to ensure the availability of the API, and it will not be used without verification.","setting.blog.vali.ing":"Validating...","setting.blog.vali.ok":"Available","setting.blog.vali.ok.metaweblog":"The configuration has been saved and verified","setting.blog.vali.error":"Validate error","setting.blog.platform.support.github":"Current github supported platform:","setting.blog.platform.support.metaweblog":"Current metaweblog supported platform:","setting.blog.cancel":"Cancel","setting.vuepress":"Vuepress","setting.hugo":"Hugo","setting.hexo":"Hexo","setting.jekyll":"Jekyll","setting.jvue":"JVue","setting.conf":"Confluence","setting.conf.tip":"Published to Confluence needs to cooperate with my other adapter project (strong recommendation), please refer to:https://github.com/terwer/node-metaweblog-api-adaptor","setting.cnblogs":"Cnblogs","setting.wordpress":"Wordpress","setting.liandi":"Liandi","setting.yuque":"Yuque","setting.kms":"KMS","setting.other1":"Other1","service.switch.vuepress":"Vuepress","service.switch.hugo":"Hugo","service.switch.hexo":"Hexo","service.switch.jekyll":"Jekyll","service.switch.jvue":"JVue","service.switch.conf":"Confluence","service.switch.cnblogs":"Cnblogs","service.switch.wordpress":"Wordpress","service.switch.yuque":"Yuque","service.switch.liandi":"Liandi","service.switch.wechat":"WeChat","service.switch.wemp":"WeMedia","service.switch.zhihu":"Zhihu","service.switch.kms":"LandrayKms","service.switch.must.select.one":"You must add at least one platform","post.bind.vuepress.slug":"Vuepress slug","post.bind.hugo.slug":"Hugo slug","post.bind.hexo.slug":"Hexo slug","post.bind.jekyll.slug":"Jekyll slug","post.bind.cnblogs.postid":"Cnblogs ID","post.bind.jvue.postid":"JVue ID","post.bind.conf.postid":"Conf ID","post.bind.wordpress.postid":"WP ID","post.bind.liandi.postid":"Liandi ID","post.bind.yuque.postid":"Yuque ID","post.bind.kms.postid":"KMS ID","post.bind.conf.save":"Save","post.bind.conf.cancel":"Cancel","form.validate.name.required":"Please input name","form.validate.name.length":"Length should be 0 to 1","form.validate.github.auto.delete":"Auto delete","dynamic.platform.new":"New platform","dynamic.platform.tip":"If the built -in release service cannot be satisfied or multiple instances need to be added, you can add supporting platforms here. Currently supporting Metaweblog API and WordPress API","dynamic.platform.type":"Platform type","dynamic.platform.subtype":"Platform subtype","dynamic.platform.type.metaweblog":"metaweblog API","dynamic.platform.type.wordpress":"Wordpress","dynamic.platform.type.custom":"Custom","dynamic.platform.key":"Platform key","dynamic.platform.key.tip":"The unique logo of the platform, cannot be repeated, for example: myblog","dynamic.platform.type.github":"Github","dynamic.platform.name":"Platform name","dynamic.platform.name.tip":"Platform name, for example: my blog","dynamic.platform.opt.add":"Submit","dynamic.platform.opt.noselect":"Please select platform type","dynamic.platform.opt.key.exist":"Platform key exists","dynamic.platform.opt.del.select":"Delete selected","dynamic.platform.opt.del.confirm":"Deleting this platform will completely remove the relevant configuration information of this platform. Do you continue?","dynamic.platform.opt.item.select":"Item no select","dynamic.platform.opt.item.select.tip":"The current selection is:","dynamic.platform.opt.item.no.select.tip":"Please select the line to be deleted","setting.common.home":"Home","setting.common.tip":"The platform homepage is used to preview articles, for example: https://terwork.space","setting.common.apiurl":"API","setting.common.token":"Token","setting.common.token.gen":"Token addr","setting.common.username":"Username","setting.common.username.gen":"Username setting","setting.common.password":"Password","setting.blog.platform.support.common":"Current platform：","platform.must.select.one":"You must enable at least one platform","blog.list.toptip":"Reminder: Click the table line to enter the article details page. The details page has the release button! (〃'▽'〃)","config.error.msg":"Network or config error, no data fetched","config.platform.none":"No available platform, please go to switch","post.delete.by.platform":"The article has been deleted by the platform by itself, please click to cancel the compulsory lifting connection","blog.top-data-tip":"Reminder: Please ensure that the Siyuan notes are started and opened the servo. The default servo address: http://127.0.0.0.1: 6806.0.0. Note: The modification will cover the value of the startup setting.","blog.top-data-tip.siyuan":"It is currently in the pendant mode. Starting from version 0.1.0, there is no need to reference the pendant on all pages. You only need to reference a pendant on the parent page. The specific rules are as follows: 1. If there are no subsidiaries, it will be compatible with the previous method of version 0.0.3 to display the release page of the current document. 2. If a subsidiary document is detected, all the subsidiaries will be displayed in a list and paging. You can choose a sub -document separately for release operations.","blog.newwin.open":"Open in a new window","blog.change.siyuan.api":"Modify Siyuan API address","setting.blog.siyuan.password":"Siyuan Note token, please copying from【set up-> about 】","setting.blog.siyuan.apiurl":"The API address of Siyuan Note, including ports, for example: http://127.0.0.0.1: 6806","setting.blog.siyuan.current.apiurl":"Current apiUrl=>","setting.conf.export":"Export config","setting.conf.import":"Import config","setting.conf.transport":"Transport","setting.conf.clear":"Clear config","page.no.id":"pageId fetch error","main.read.mode":"Readonly","main.edit.mode":"Editable","main.read.mode.tip":"Readonly tips","main.opt.onclick.confirm.tip":"This operation will re -generate all attributes other than alias. If you just want to modify individual attributes, please click the individual function button to operate in the detailed mode. Do you continue?","main.cat.list.error":"Category list get error","main.yaml.no.save":"Have you edited YAML, do you synchronize to attributes, and cancel the loss of YAML modification?","setting.github.baseUrl":"Git repo index","setting.github.baseUrl.tip":"Git platform address is used for md file preview, the default is: https://github.com","preference.setting.fixTitle":"Fix title","preference.setting.removeH1":"Remove h1","preference.setting.removeH1.tip":"Delete H1 may accidentally delete the beginning of the beginning of Markdown. If you need to open it, please use more than 2 ones.","preference.setting.newWin":"New win","siyuan.browser.show.close.btn":"Show close btn","siyuan.browser.menu.quick.btn":"Quick publish","siyuan.browser.menu.publish.btn":"Publish","siyuan.browser.menu.preview.btn":"Preview","siyuan.browser.menu.manage.btn":"Manage","siyuan.browser.menu.anki.btn":"Anki","siyuan.browser.menu.picture.btn":"PicGO","siyuan.browser.menu.setting.btn":"Setting","anki.siyuan.deck":"Deck","anki.siyuan.deck.new":"New deck","anki.siyuan.tag":"Tag","anki.siyuan.tag.new":"New tag","picgo.chrome.tip":"If you are using a browser plug -in, you need to download the configuration Picgo client from here: https://github.com/Molunerfinn/PicGo/releases","picgo.siyuan.tip":"If you are using Siyuan notes pendants, you need to configure your own integration of PICGO. The pendant version of the PICGO configuration file is:`[Siyuan Workspace]/data/widgets/sy-post-publisher/lib/picgo/picgo.cfg.json`，Please refer to the official picgo document for configuration：https://picgo.github.io/PicGo-Core-Doc/zh/guide/config.html#%E6%89%8B%E5%8A%A8%E7%94%9F%E6%88%90","post.detail.button.copy.id":"Copy post ID","post.detail.button.share.link":"Copy share link","post.detail.button.browser.open":"Open with default browser","post.detail.button.pic.manage":"Picture manage","post.detail.button.anki.mark":"Anki mark","post.detail.index.send.to.publish":"Send to other platform","post.detail.index.export.to.pdf":"Export to PDF","picgo.upload.status":"Upload status","picgo.upload.select.pic":"Select picture","picgo.upload.clipboard":"Clipboard picture","picgo.upload.onclick":"One click upload","picgo.download.onclick":"One click download","picgo.download.local.to.bed":"Upload picture to bed","picgo.download.bed.to.local":"Upload picture from bed","picgo.pic.preview":"Picture preview","picgo.pic.setting":"Picture setting","picgo.pic.setting.no.tip":"You are currently using the browser plug -in and cannot inherit PicGo. You can only call the local Picgo client on the local Picgo client through HTTP","github.use.permalink":"Use permalink","github.use.permalink.no.warn":"You have closed the permanent link, and Formatter will not generate a mark, which may be useful in some scenarios","github.menu.title":"Menu title","github.menu.title.placeholder":"The menu column title (HUGO platform is dedicated, but the empty is not displayed in the menu)","github.weight":"Weight","github.weight.placeholder":"Weight (decide to display the order, the smaller the display, the more upward)","github.use.date":"Show date","github.use.date.no.warn":"You have closed the date show that it will not generate the date field in Formatter","github.post.picgo.use":"Use picbed","github.post.picgo.use.tip":"To enable this option, the local picture will be uploaded to the custom diagram bed (the remote picture is not uploaded), please make sure that the PICGO diagram bed configuration is correct","github.post.picgo.start.upload":"The picture bed has been opened, and the picture bed is about to upload the picture bed to the bed","github.post.picgo.picbed.error":"The picture uploaded to the picture bed failed, it may be an error in the configuration of the graph, please check the picture bed configuration","setting.yuque.home.tip":"The homepage of the language bird platform is usually fixed: https://www.yuque.com/","setting.yuque.username.tip":"The user name of the spark platform, note that the user name is fixed in [account settings], not the user nickname (*^▽^*)","setting.yuque.password.tip":"For the token of the spark platform, please follow the link to get it. You only need to grant the document to read and modify the two permissions.","setting.yuque.apiurl.tip":"The API address of the language bird platform is usually fixed: https://www.yuque.com/api/v2","setting.liandi.home.tip":"The homepage of the chain drop platform is usually fixed: https://ld246.com/","setting.liandi.username.tip":"The user name of the chain drop platform, note that after clicking [Personal Homepage], the user name displayed behind the MEMBER on the URL is not a user nickname (*^▽^*)","setting.liandi.password.tip":"Token on the chain drop platform, please click on the link to get","setting.liandi.apiurl.tip":"The API address of the chain drop platform is usually fixed: https://ld246.com/api/v2","setting.kms.home.tip":"KMS platform homepage, for example: http:// localhost: 9564/kms16_release/kms/multidoc","setting.kms.username.tip":"KMS platform REST account user name, please create according to the link instruction","setting.kms.password.tip":"KMS platform REST account password, please create according to the link instruction","setting.kms.apiurl.tip":"The API address of the KMS platform, for example: http:// localhost: 9564/kms16_release/API/KMS-Multidoc/KMSMultidOWRESTSERVICE","siyuan.local.share.tip":"Reminder: If you find that the sharing link or the browser can be displayed or the network connection is rejected, please check according to the following operation. 1: Siyuan Note-> Settings-> About-> Open the network servo; 2: After the browser is opened, click the bottom Siyuan address at the bottom to modify the corresponding address to the local area network IP address.","setting.cnblogs.home.tip":"The homepage of your blog park is usually: https://www.cnblogs.com/ <your username>","setting.cnblogs.username.tip":"Your blog garden MetaWeblog login name, you can go to your blog garden background-> Settings, note: login name, not a user nickname (*^▽^*)","setting.cnblogs.password.tip":"Your blog garden Metaweblog access token, you can go to your blog garden backstage-> Settings","setting.cnblogs.apiUrl.tip":"Your blog garden Metaweblog access address, you can go to your blog park background-> settings, usually: https://rpc.cnblogs.com/metaweblog/ <Your username>","setting.cnblogs.previewUrl.tip":"Preview rules for your blog garden article","setting.wordpress.home.tip":"Wordpress homepage","setting.wordpress.username.tip":"WordPress login name, note: it is login name, not a user nickname (*^▽^*)","setting.wordpress.password.tip":"Wordpress login password","setting.wordpress.apiUrl.tip":"WordPress's XMLRPC remote release address, usually: https:// <WordPress blog address> /xmlrpc.php","setting.wordpress.previewUrl.tip":"The preview rules of the WordPress platform are usually :? P = [Postid]","setting.oschina.home.tip":"Homepage of open source China, usually: https://my.oschina.net/ <Your username>","setting.oschina.username.tip":"Open source China login name, you can enter the login mailbox","setting.oschina.password.tip":"Open source China login password","setting.oschina.apiUrl.tip":"Open source China XMLRPC remote publishing address, usually fixed: https://www.oschina.net/ACTION/xmlrpc","setting.oschina.previewUrl.tip":"The preview rules of the open source China platform are usually:/blog/[postid]","setting.typecho.home.tip":"Homepage of the Typecho platform","setting.typecho.username.tip":"Typecho platform login name","setting.typecho.password.tip":"Typecho platform password","setting.typecho.apiUrl.tip":"The XMLRPC remote publishing address of the Typecho platform is usually fixed: https: // <platform address> /index.php/xmlrpc","setting.typecho.previewUrl.tip":"The preview rules of the Typecho platform are usually: /index.php/archives/ [Postid]","setting.jvue.home.tip":"Homepage of the Jvue platform","setting.jvue.username.tip":"Jvue platform login name","setting.jvue.password.tip":"Jvue platform password","setting.jvue.apiUrl.tip":"The XMLRPC remote release address of the JVUE platform is usually fixed: https: // <platform address>/xmlrpc","setting.jvue.previewUrl.tip":"The preview rules of the Jvue platform are usually:/post/[postid] .html","setting.conf.home.tip":"Confluence Cloud, homepage, usually: https: // <your user name> .atlassian.net/wiki/spaces/<Space name>","setting.conf.username.tip":"CONFLUENCE login name, you can go to your Atlassian account to get","setting.conf.password.tip":"Confluence access token, you can go to your Atlassian account to get","setting.conf.apiUrl.tip":"You can go to https://developper.atlassian.com/Cloud/confluence/rest/v1/1/1/","setting.conf.previewUrl.tip":"CONFLUENCE platform articles preview rules, usually:/pages/[postid]","setting.picgo.refer.to":"For details, please refer to:","setting.picgo.refer.to.online.doc":"Picgo configuration online documentation","setting.picgo.picbed":"Picbed setting","setting.picgo.picgo":"PicGO setting","main.opt.edit":"Edit","main.opt.delete":"Delete","setting.picgo.picgo.open.config.file":"Open config file","setting.picgo.picgo.click.to.open":"Click open","setting.picgo.picgo.choose.showed.picbed":"Please select showed picbed","setting.picgo.picbed.selected.tip":"Selected","setting.picgo.picbed.unselected.tip":"Unselected","setting.picgo.picbed.set.default":"Set as default picbed","setting.picgo.picbed.current.selected.tip":"Current selected picbed is:","setting.picgo.picbed.current.tip":"Current picbed is:","setting.picgo.picbed.uploader.config.name":"Picbed config name","setting.picgo.picbed.uploader.config.name.placeholder":"Please input config name","setting.picgo.config.name":"Config name","setting.picgo.config.name.placeholder":"Please input config name","setting.picgo.index.tip":"Note: The image uploaded here will not be automatically inserted into the document. Please manually click the copy button to copy the link, and then Ctrl+V to paste it into the document. This picture list only shows the pictures contained in this document.","setting.picgo.index.copy.link":"Copy link","setting.picgo.setting.timestamp.rename":"Timestamp rename","setting.picgo.setting.close":"Close","setting.picgo.setting.open":"Open","setting.picgo.setting.log.file":"Log file","setting.picgo.plugin":"Plugin setting","setting.picgo.plugin.list":"Plugin list","setting.picgo.plugin.import.local":"Import local plugin","setting.picgo.plugin.install":"Install","setting.picgo.plugin.installing":"Installing","setting.picgo.plugin.installed":"Installed","setting.picgo.plugin.doing.something":"Loading","setting.picgo.plugin.search.placeholder":"Search the picgo plug -in on NPM, or click the button above to view the excellent plug -in list","setting.picgo.plugin.gui.not.implemented":"This plug -in does not optimize the visual interface, is it continued to be installed?","setting.picgo.setting.node.path":"Node install path","setting.picgo.setting.node.path.tip":"Please enter Node to install the full path, for example: /opt/node-v16.14.0-darwin-x64/bin, node version> = 16","setting.picgo.setting.node.registry":"NPM registry","setting.picgo.setting.node.registry.tip":"Mainland recommend：https://registry.npmmirror.com","setting.picgo.setting.node.proxy":"NPM proxy","setting.picgo.setting.node.proxy.tip":"Generally, you can leave empty. If you have special needs, you can set a custom agent","setting.picgo.setting.config.tip":"Note: The attributes above the horizontal line will change the behavior of uploading pictures, and the configuration can be stored automatically. The attribute below the horizontal line is only used when installing the plug -in, and you need to click the [Confirm] button to save.","setting.picgo.plugin.install.success":"The plug -in has been successfully installed, please clear the search keyword refresh list. Click the plug -in corresponding [Settings] icon to view the plug -in details and customize the plug -in","syp.about":"About me","setting.picgo.plugin.uninstall":"Uninstall plugin","setting.picgo.plugin.uninstall.success":"Plugin is uninstalled successfully","setting.picgo.plugin.enable":"Enable plugin","setting.picgo.plugin.disable":"Disable plugin","setting.picgo.plugin.update":"Update plugin","setting.picgo.plugin.config.setting":"Plugin setting","setting.picgo.plugin.work":"Work","setting.picgo.plugin.nowork":"Nowork","setting.picgo.plugin.nouse":"Nouse","setting.picgo.plugin.update.success":"Update success","setting.conf.import.syp":"Import pendant configuration","setting.conf.import.picgo":"Import picgo configuration","setting.conf.export.syp":"Export pendant configuration","setting.conf.export.picgo":"Export picgo configuration","setting.conf.import.syp.tip":"Please select effective historical backup JSON files for import. Note: The pendant configuration will be replaced.","setting.conf.import.picgo.tip":"Please select effective historical backup JSON files for import. Note: PICGO configuration will be replaced directly. For the compatibility of configuration, please uninstall all plug -in and perform the picgo configuration export operation. Uninstall the PICGO plugin will not delete the plug -in configuration, only the plug -in file and the plug -in registration record will be deleted. Please rest assured.","setting.conf.export.syp.tip":"The corresponding JSON configuration file will be exported, and configuration backups are strongly recommended. In principle, support is compatible. If there is any compatibility problem, it will be specifically explained.","setting.conf.export.picgo.tip":"The corresponding JSON configuration file will be exported, and configuration backups are strongly recommended. In principle, support is compatible. If there is any compatibility problem, it will be specifically explained.","setting.conf.clear.syp":"Clear pendant configuration","setting.conf.clear.picgo":"Clear picgo configuration","setting.conf.clear.tip":"Clear configuration cannot be restored, please do it carefully. It is strongly recommended to backup configuration first.","setting.conf.clear.picgo.tip":"Clear configuration cannot be restored, please do it carefully. It is strongly recommended to backup configuration first. This operation will delete PicGo -related configuration folders, including configuration, plug -in, cache, etc. It is used only when picgo is completely unavailable, otherwise the consequences of the loss of configuration will be at your own risk!","setting.main.background":"Widget background","setting.main.background.tip":"Support hexadecimal and RGB, for example: #000000, no settings or staying empty unchanged","setting.picgo.manage":"Picture manage"}}});class Tt{constructor(e={}){self.hook=e.hook,self.callback=e.callback}"after:highlightElement"({el:e,text:t}){const i=Object.assign(document.createElement("button"),{innerHTML:"Copy",className:"hljs-copy-button"});i.dataset.copied=!1,e.parentElement.classList.add("hljs-copy-wrapper"),e.parentElement.appendChild(i),e.parentElement.style.setProperty("--hljs-theme-background",window.getComputedStyle(e).backgroundColor),i.onclick=function(){if(!navigator.clipboard)return;let a=t;hook&&"function"==typeof hook&&(a=hook(t,e)||t),navigator.clipboard.writeText(a).then((function(){i.innerHTML="复制成功",i.dataset.copied=!0;let t=Object.assign(document.createElement("div"),{role:"status",className:"hljs-copy-alert",innerHTML:"复制到剪贴板"});e.parentElement.appendChild(t),setTimeout((()=>{i.innerHTML="Copy",i.dataset.copied=!1,e.parentElement.removeChild(t),t=null}),2e3)})).then((function(){if("function"==typeof callback)return callback(a,e)}))}}}function St(e){return function(e){if("undefined"==typeof Lute)return e;const t=Lute.New();return t.SetJSRenderers({renderers:{Md2HTML:{}}}),t.MarkdownStr("",e)}(e)}const Ut=e=>{let t=e;return t=t.replace(/([0-9]*)\./,""),t},It=e=>{let t=e.toString();t=t.replace(/<iframe.*src="\/widgets\/publisher.*<\/iframe>/g,"");t=t.replace(/<iframe.*src="\/widgets\/sy-post-publisher.*<\/iframe>/g,"");return t=t.replace(/<iframe.*\/widgets\/Note*\sAttrs.*\/iframe>/g,""),t},At=e=>{let t=e.toString();return t=It(t),t},Ot=e=>{e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/<style((.|\n|\r)*?)<\/style>/g,"")).replace(/<script((.|\n|\r)*?)<\/script>/g,"")).replace(/<[^>]*>/g,"")).replace(/&.*;/g,"")).replace(/(^\s*)|(\s*$)/g,"")).replace(/</g,"").replace(/>/g,"")).replace(/"/g,"").replace(/'/g,"")).replace(/\*/g,"")).replace(/\$/g,"")).replace(/\./g,"")).replace(/\+/g,"")).replace(/\s+/g,"")).replace(/[:|：]/g,"_")).replace(/[;|；]/g,"_")).replace(/\^/g,"_")).replace(/!/g,"_")).replace(/@/g,"at_");const t=["\\d*/\\d/\\d*","[、|\\\\]","[，|,]","\\d","/","-"];for(let i=0;i<t.length;i++){const a=new RegExp(t[i],"g");e=e.replaceAll(a,"")}return e=e.toLowerCase()},xt=(e,t,i)=>{const a=Ot(e);return a.length<t?a:!0===i?a.substring(0,t):a.substring(0,t)+"..."},Nt=e=>{const t=St(e);return It(t)},Dt=e=>{let t=Nt(e);return Ot(t)},Lt=e=>{let t=e;return t=t.replace(/<h1.*\/h1>/g,""),t},Vt=e=>{let t=e;return t=t.replace(/^# .*$/gm,""),t},Rt=(e,t,i)=>{const a=e;return a.length<t?a:i?a.substring(0,t):a.substring(0,t)+"..."},$t=e=>e.substring(0,1).toUpperCase()+e.substring(1).toLowerCase(),Mt=(...e)=>e.join(""),jt=e=>(e.includes(".md")&&(e=e.replace(/\.md/g,"")),e.includes(".")&&(e=Ut(e)),e),Yt=e=>{if(Array.isArray(e)){return e.map((e=>s(e)?n(e):l(e)?r(e):Yt(e)))}if("object"==typeof e){const t={};return Object.keys(e).forEach((i=>{const a=e[i];s(a)?t[i]=n(a):l(a)?t[i]=r(a):t[i]=Yt(a)})),t}return e},Bt={trimValues:e=>{const t={};return Object.keys(e).forEach((i=>{t[i]="string"==typeof e[i]?e[i].trim():e[i]})),t},getRawData:Yt,includeInArray:(e,t)=>{let i=!1;for(let a=0;a<t.length;a++){const o=t[a];e.includes(o)&&(i=!0)}return i}},Gt=()=>"undefined"!=typeof window&&void 0!==window.document,Kt=e=>e.indexOf("127.0.0.1")>-1,Ht="undefined"!=typeof navigator&&/Electron/.test(navigator.userAgent),Wt=e=>{if(!Gt())return"";const t=window.location.search.substring(1).split("&");for(let i=0;i<t.length;i++){const a=t[i].split("=");if(a[0]===e)return a[1]}return""},qt=(e,t,i)=>Gt()?e.includes(t)?((e,t,i)=>{null==i&&(i="");const a=new RegExp("\\b("+t+"=).*?(&|#|$)");return e.search(a)>=0?e.replace(a,"$1"+i+"$2"):(e=e.replace(/[?#]$/,""))+(e.indexOf("?")>0?"&":"?")+t+"="+i})(e,t,i):e+=(null!=e.match(/[?]/g)?"&":"?")+t+"="+i:"",Ft=()=>{setTimeout((function(){Gt()&&window.location.reload()}),200)},Jt=e=>{if(navigator&&navigator.clipboard)navigator.clipboard.writeText(e).then((function(){we.success("复制成功")}),(function(e){we.error("复制失败=>"+e)}));else try{const t=document.createElement("input");t.style.position="fixed",t.style.opacity="0",t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),we.success("复制成功")}catch(t){we.error("复制失败=>"+t)}};function Xt(){return!!Gt()&&window.location.href.indexOf("chrome-extension://")>-1}const zt={reloadPageWithMessage:(e,t="success")=>{"success"==t?we.success(e):"warn"==t&&we.warning(e),setTimeout((function(){Gt()&&window.location.reload()}),200)}},Qt={install:e=>{ze.registerLanguage("javascript",Qe),ze.registerLanguage("js",Qe),ze.registerLanguage("typescript",Ze),ze.registerLanguage("ts",Ze),ze.registerLanguage("c",et),ze.registerLanguage("cpp",tt),ze.registerLanguage("java",it),ze.registerLanguage("kotlin",at),ze.registerLanguage("csharp",it),ze.registerLanguage("cs",it),ze.registerLanguage("bash",ot),ze.registerLanguage("shell",ot),ze.registerLanguage("xml",st),ze.registerLanguage("html",st),ze.registerLanguage("css",nt),ze.registerLanguage("plaintext",lt),ze.registerLanguage("plantuml",lt),ze.registerLanguage("php",rt),ze.registerLanguage("properties",ct),ze.registerLanguage("sql",ut),ze.registerLanguage("markdown",pt),ze.registerLanguage("md",pt),ze.addPlugin(new Tt({callback:(e,t)=>{}})),e.directive("highlight",(e=>{const t=e.querySelectorAll("pre code");Array.prototype.forEach.call(t,ze.highlightBlock);e.querySelectorAll("code-group").forEach((e=>{var t;if(0===e.getElementsByTagName("ul").length){const i=document.createElement("ul");i.setAttribute("class","code-tab");const a=e.querySelectorAll("code-block");a.forEach((e=>{var t,o;const s=null==(t=e.attributes.getNamedItem("title"))?void 0:t.value,n=void 0!==(null==(o=e.attributes.getNamedItem("active"))?void 0:o.value),l=document.createElement("li");l.setAttribute("class",n?"code-tab-item current":"code-tab-item"),l.innerHTML=s||"",l.addEventListener("click",(function(e){const t=e.target;t.parentElement.querySelectorAll("li").forEach((e=>{e.setAttribute("class","code-tab-item")})),t.setAttribute("class","code-tab-item current"),a.forEach((e=>{var i;(null==(i=e.attributes.getNamedItem("title"))?void 0:i.value)===t.innerHTML?e.setAttribute("active",""):e.removeAttribute("active")}))})),i.append(l)}));const o=a[0];null==(t=null==o?void 0:o.parentNode)||t.insertBefore(i,o)}}));e.querySelectorAll("div.language-plantuml").forEach((e=>{var t;const i=(""+e.innerHTML).replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">");const a=gt.encode(i),o=({VITE_LOG_INFO_ENABLED:"false",VITE_DEBUG_MODE:"false",VITE_MIDDLEWARE_URL:"https://api.terwer.space/api/middleware"}.PLANT_UML_SERVR||"https://www.plantuml.com/plantuml/svg/")+a,s=document.createElement("img");s.setAttribute("src",o),null==(t=null==e?void 0:e.parentNode)||t.insertBefore(s,e),e.remove()}));e.querySelectorAll("span.language-math").forEach((e=>{if(Xt()){let t=e.innerHTML;t=t.replace(/，/g,","),t=t.replace(/。/g,"."),t=t.replace(/并且/g,"AND"),t=t.replace(/或者/g,"OR"),t=encodeURIComponent(t);const i='<img src="https://latex.codecogs.com/svg.image?'+t+'" />';e.innerHTML=i}else{const t="$"+e.innerHTML+"$";e.innerHTML=t}}));e.querySelectorAll("div.language-math").forEach((e=>{if(Xt()){let t=e.innerHTML;t=t.replace(/，/g,","),t=t.replace(/。/g,"."),t=t.replace(/并且/g,"AND"),t=t.replace(/或者/g,"OR"),t=encodeURIComponent(t);const i='<img src="https://latex.codecogs.com/svg.image?'+t+'" />';e.innerHTML=i}else{const t="$$"+e.innerHTML+"$$";e.innerHTML=t}})),Xt()||MathJax.typeset()}))}},Zt=e=>{let t="";try{({VITE_LOG_INFO_ENABLED:"false",VITE_DEBUG_MODE:"false",VITE_MIDDLEWARE_URL:"https://api.terwer.space/api/middleware",BASE_URL:"/widgets/sy-post-publisher/",MODE:"production",DEV:!1,PROD:!0})[e]&&(t={VITE_LOG_INFO_ENABLED:"false",VITE_DEBUG_MODE:"false",VITE_MIDDLEWARE_URL:"https://api.terwer.space/api/middleware",BASE_URL:"/widgets/sy-post-publisher/",MODE:"production",DEV:!1,PROD:!0}[e])}catch(i){throw new Error(i)}return t},ei=e=>{let t=!1;return Zt(e)&&(t="true"===Zt(e).toLowerCase()),t},ti={isNodeDev:!1,isDev:ei("VITE_DEBUG_MODE")},ii=e=>e.toString(),ai=e=>e.toString(),oi=e=>e.toString(),si=e=>e.toString(),ni="true"==={VITE_LOG_INFO_ENABLED:"false",VITE_DEBUG_MODE:"false",VITE_MIDDLEWARE_URL:"https://api.terwer.space/api/middleware"}.TEST,li=ti.isDev,ri=null!=(e=ei("VITE_LOG_INFO_ENABLED"))&&e,ci="INFO",ui="ERROR";mt.reg(dt),ni||li?dt.setLevel("DEBUG"):dt.setLevel(ri?ci:ui),mt.apply(dt,{format(e,t,i){const a=[];switch(a.push(ii("[")+ai(i).toString()+ii("]")),e){case ci:a.push(ai(e.toUpperCase().toString()));break;case"WARN":a.push(oi(e.toUpperCase().toString()));break;case ui:a.push(si(e.toUpperCase().toString()))}return a.push(ai(t).toString()),a.push(ii(":")),a.join(" ")}});const pi={getLogger:e=>dt.getLogger(null!=e?e:"console")},gi={MAX_TITLE_LENGTH:10,MAX_PREVIEW_LENGTH:255,DYNAMIC_CONFIG_KEY:"dynamic-config",DEFAULT_JIEBA_WORD_LENGTH:5,PUBLISH_PREFERENCE_CONFIG_KEY:"publish-preference",PUBLISH_DYNAMIC_SLUG:"[dynamic-generated-on-publish]",PICGO_FILE_MAP_KEY:"custom-picgo-file-map-key"},di=pi.getLogger(),mi=async e=>{const t=await fetch("https://api.terwer.space/api/translate?q="+e);let i=(await t.json())[0][0];return i=i.replaceAll(/-/g,""),i=i.replaceAll(/\./g,""),i=i.replaceAll(/~/g,""),i=bt(i),i=i.replaceAll(/@/g,""),i},hi=e=>bt(e),bi=async e=>{e=Dt(e),di.debug("准备开始分词，原文=>",e);const t=await fetch("https://api.terwer.space/api/jieba?q="+e),i=await t.json();return di.debug("分词完毕，结果=>",i.result),i.result};function fi(e,t){const i=["页面"];di.debug("文本清洗，统计，排序，去除无意义的单词unUseWords=>",i);const a=e.reduce((function(e,t){return 1===t.length||i.includes(t)?(e[t]=0,e):(e[t]=e.hasOwnProperty(t)?parseInt(e[t])+1:1,e)}),{}),o=Object.keys(a).sort((function(e,t){return a[t]-a[e]}));return di.debug("文本清洗结束wordarr=>",o),t&&0!==t?o.slice(0,t):o}function yi(e,t){let i;const a=gi.DEFAULT_JIEBA_WORD_LENGTH;return i=fi(e,t||a),di.debug("jiebaToHotWords=>",i),i}const wi=e=>!e||Object.getPrototypeOf(e)===Object.prototype&&0===Object.getOwnPropertyNames(e).length&&0===Object.getOwnPropertySymbols(e).length,vi=e=>!e||("string"!=typeof e||0===e.trim().length),_i=(e,t)=>{let i=e;const a=e.lastIndexOf("/");a+1===e.length&&(i=e.substring(0,a));return t.indexOf("/")>0?i=i+"/"+t:i+=t,i},Pi=e=>(e||(e="false"),"true"===e.toString().toLowerCase()),ki=e=>{let t="undefined"!=typeof window?window.localStorage:global.localStorage;if(Ht){t=Xi()?parent.window.JsonLocalStorage:window.JsonLocalStorage;let i="sy-p-cfg.json";e&&(i=e),t.switchCfg(i)}return t},Ci=pi.getLogger(),Ei=e=>{const t=ki().getItem(e);return t||""},Ti=e=>{const t="true"===Ei(e).toLowerCase();return Ci.debug("从localStorage获取Boolean数据=>"),Ci.debug(t),t};function Si(e){Ci.debug("------------------------------"),Ci.debug("尝试从localStorage获取JSON数据，key=>",e);let t={};const i=Ei(e);if(""!==i)try{t=JSON.parse(i)}catch(a){throw Ci.error("JSON格式不正确",a),a}return Ci.debug("从localStorage获取JSON数据=>",t),Ci.debug("------------------------------"),t}function Ui(e){Ci.debug("------------------------------"),Ci.debug("尝试从JSON字符串解析Object，objstr=>",e);let t={};const i=e;if(""!==i)try{t=JSON.parse(i)}catch(a){Ci.error("JSON格式不正确，将直接返回{}=>",a)}return Ci.debug("从JSON字符串解析Object=>",t),Ci.debug("------------------------------"),t}const Ii=(e,t)=>{if(!t||""===t)return void Ci.warn("空值，不保存");ki().setItem(e,t)},Ai=(e,t)=>{const i=t.toString();Ii(e,i)},Oi=(e,t)=>{Ci.debug("++++++++++++++++++++++++++++++"),Ci.debug("尝试保存JSON数据到localStorage里key=>",e),Ci.debug("保存JSON数据到localStorage=>",t);const i=JSON.stringify(t);Ii(e,i),Ci.debug("++++++++++++++++++++++++++++++")},xi=e=>{Ci.debug("++++++++++++++++++++++++++++++"),Ci.debug("尝试将Object转换为JSON字符串",e);const t=JSON.stringify(e);return Ci.debug("将Object转换为JSON字符串=>",t),Ci.debug("++++++++++++++++++++++++++++++"),t},Ni=e=>{const t=ki();let i=!1;for(let a=0;a<t.length;a++){if(e===t.key(a)){i=!0;break}}return i},Di=(e,t)=>{const i=new Blob([e],{type:"application/json"}),a=document.createElement("a");a.download=null!=t?t:"data.json",a.href=URL.createObjectURL(i),document.body.appendChild(a),a.click()},Li=e=>{const t=(()=>{const e=ki(),t={};for(let i=0;i<e.length;i++){const a=e.key(i),o=e.getItem(a);t[a]=o}return t})(),i=JSON.stringify(t);Di(i,e)},Vi=Di,Ri="siyuan-cfg";class $i{constructor(e,t,i){a(this,"baseUrl"),a(this,"token"),a(this,"middlewareUrl"),this.baseUrl=e,this.token=t,this.middlewareUrl=i}}const Mi=()=>{var e,t,i;let a=null!=(e=Zt("VITE_SIYUAN_API_URL"))?e:"",o=null!=(t=Zt("VITE_SIYUAN_CONFIG_TOKEN"))?t:"",s=null!=(i=Zt("VITE_MIDDLEWARE_URL"))?i:"";const n=Si(Ri);return vi(n.baseUrl)||(a=n.baseUrl),vi(n.token)||(o=n.token),vi(n.middlewareUrl)||(s=n.middlewareUrl),vi(a)&&(a=Xt()||ti.isDev?"http://127.0.0.1:6806":window.location.protocol+"//"+window.location.host),vi(o)&&(o=""),vi(s)&&(s="https://api.terwer.space/api/middleware"),new $i(a,o,s)};class ji{constructor(){a(this,"logger",pi.getLogger("utils/platform/siyuan/siYuanApi.ts"))}async getRootBlocksCount(e){const t=`SELECT COUNT(DISTINCT b1.root_id) as count\n        FROM blocks b1\n        WHERE 1 = 1\n        AND (b1.root_id ='${e}' OR (b1.content LIKE '%${e}%') OR (b1.tag LIKE '%${e}%')\n    )`,i=await this.sql(t);return this.logger.debug("getRootBlocksCount data=>",i[0].count),i[0].count}async getRootBlocks(e,t,i){const a=`select DISTINCT b2.root_id,b2.parent_id,b2.content from blocks b2 \n        WHERE 1==1\n        AND b2.id IN (\n             SELECT DISTINCT b1.root_id\n                FROM blocks b1\n                WHERE 1 = 1\n                AND (b1.root_id ='${i}' OR (b1.content LIKE '%${i}%') OR (b1.tag LIKE '%${i}%'))\n                ORDER BY b1.updated DESC,b1.created DESC LIMIT ${e*t},${t}\n        )\n        ORDER BY b2.updated DESC,b2.created DESC`;return await this.sql(a)}async getSubdocCount(e){const t=`SELECT COUNT(DISTINCT b1.root_id) AS count\n        FROM blocks b1\n        WHERE b1.root_id='${e}' OR b1.path LIKE '%/${e}%'`;return(await this.sql(t))[0].count}async getSubdocs(e,t,i,a){const o=`SELECT DISTINCT b2.root_id,b2.content,b2.path FROM blocks b2\n        WHERE b2.id IN (\n          SELECT DISTINCT b1.root_id\n             FROM blocks b1\n             WHERE b1.root_id='${e}' OR b1.path like '%/${e}%'\n             AND ((b1.content LIKE '%${a}%') OR (b1.tag LIKE '%${a}%'))\n             ORDER BY b1.updated DESC,b1.created DESC LIMIT ${t*i},${i}\n        )\n        ORDER BY b2.content,b2.updated DESC,b2.created DESC,id`;return this.logger.debug("siyuanApi getSubdocs sql=>",o),await this.sql(o)}async getAnkilinkInfo(e){const t=`select distinct b.id, b.content,ifnull(attr.name,'custom-ankilink') as name, attr.value\nfrom blocks b\nleft join attributes attr on attr.name = 'custom-ankilink' and attr.block_id = b.id\nwhere b.root_id = '${e}'\n  and b.type = 'h'`;return this.logger.debug("siyuanApi getAnkilinkInfo sql=>",t),await this.sql(t)}async getImageBlocksByID(e){const t=`select *\n                from blocks\n                where root_id = '${e}' and markdown like '%![%'`,i=await this.sql(t);if(!i)throw new Error("通过ID查询图片块信息失败");return i}async getBlockByID(e){const t=`select *\n                from blocks\n                where id = '${e}'`,i=await this.sql(t);if(!i||0===i.length)throw new Error("通过ID查询块信息失败");return i[0]}async getRootBlockBySlug(e){const t=`select root_id from attributes where name='custom-slug' and value='${e}' limit 1`;return(await this.sql(t))[0]}async getRootBlock(e){const t=`select root_id from blocks where id='${e}' limit 1`;return(await this.sql(t))[0]}async exportMdContent(e){const t={id:e};return await this.siyuanRequest("/api/export/exportMdContent",t)}async getBlockAttrs(e){const t={id:e};return await this.siyuanRequest("/api/attr/getBlockAttrs",t)}async getRootBlockAttrs(e){const t={id:e};return await this.siyuanRequest("/api/attr/getBlockAttrs",t)}async setBlockAttrs(e,t){return await this.siyuanRequest("/api/attr/setBlockAttrs",{id:e,attrs:t})}async getDoc(e){const t={id:e,k:"",mode:2,size:36};return await this.siyuanRequest("/api/filetree/getDoc",t)}async sql(e){const t={stmt:e};return this.logger.debug("sql=>",e),await this.siyuanRequest("/api/query/sql",t)}async siyuanRequest(e,t,i,a){const o=Mi();""!==o.baseUrl&&(e=Mt(o.baseUrl,e));let s="POST";null!=i&&(s=i);const n={body:JSON.stringify(t),method:s};a&&Object.assign(n,{headers:{Authorization:`Token ${o.token}`}}),this.logger.debug("开始向思源请求数据，url=>",e),this.logger.debug("开始向思源请求数据，fetchOps=>",n);const l=await fetch(e,n),r=await l.json();if(this.logger.debug("思源请求数据返回，resJson=>",r),-1===r.code)throw new Error(r.msg);return 0===r.code?r.data:null}}const Yi=()=>void 0!==window.terwer,Bi=()=>Xi()?parent.window:(Yi(),window),Gi=()=>{var e;return null!=(e=window.terwer.dataDir)?e:"/notfound"},Ki=async(e,t)=>{const i=Bi();i.syp&&i.syp.renderPublishHelper?i.syp.renderPublishHelper(e,t,i,ti.isDev):we.warning("renderPublishHelper失败，未找到hook方法，请在自定义js片段添加 import('/widgets/sy-post-publisher/lib/siyuanhook.js') ，并重启思源笔记")},Hi=()=>{let e;return window&&window.terwer&&window.terwer.pageId&&(e=window.terwer.pageId),e},Wi=e=>{const t=getComputedStyle(document.documentElement).getPropertyValue("--custom-app-bg-color");vi(e.backgroundColor)||e.backgroundColor===t||document.documentElement.style.setProperty("--custom-app-bg-color",e.backgroundColor)},qi={fitTheme:()=>{const e=parent.window.customstyle;Wi(e)},fitThemeCustom:Wi,getSiyuanWindow:Bi,openPath:e=>{const t=Bi();t.syp&&t.syp.openPath?t.syp.openPath(e):we.warning("openPath失败，未找到hook方法，请在自定义js片段添加 import('/widgets/sy-post-publisher/lib/siyuanhook.js') ，并重启思源笔记")}},Fi=pi.getLogger("utils/platform/siyuan/siyuanUtil.ts"),Ji=()=>{if(null==window.frameElement||null==window.frameElement.parentElement||null==window.frameElement.parentElement.parentElement)return{isInSiyuan:!1,widgetId:""};const e=window.frameElement.parentElement.parentElement;if(!e)return{isInSiyuan:!1,widgetId:""};const t=e.getAttribute("data-node-id");return t?{isInSiyuan:!0,widgetId:t}:{isInSiyuan:!1,widgetId:""}},Xi=()=>Ji().isInSiyuan,zi=()=>Ht,Qi=async e=>{const t=await(async e=>{const t=Ji();if(!t.isInSiyuan)return;const i=t.widgetId;Fi.debug("获取挂件的widgetId=>",i);const a=Si(i);if(!e&&a)return Fi.debug("获取本地缓存的思源笔记页面信息（不是实时的）=>",a),a;const o=new ji,s=await o.getBlockByID(i);return s&&(Oi(i,s),Fi.debug("调用API设置查询思源页面信息并更新本地缓存",s)),s})(e);if(!t)return;const i=t.root_id;return Fi.debug("获取思源笔记页面ID=>",i),i},Zi=async(e,t)=>{let i;if(t&&(Fi.debug("显示指定pageId=>",t),i=t),!i){Ji().isInSiyuan&&(i=await Qi(e)),Yi()&&(i=Hi())}if(!i){if(Gt()){const e=Wt("id");""!==e&&(i=e)}if(!i){const e=Zt("VITE_SIYUAN_DEV_PAGE_ID");e&&(i=e)}}return i};var ea=(e=>(e.DeviceType_Siyuan_NewWin="Siyuan_NewWin",e.DeviceType_Siyuan_Widget="Siyuan_Widget",e.DeviceType_Chrome_Extension="Chrome_Extension",e.DeviceType_Chrome_Browser="Chrome_Browser",e))(ea||{});class ta{static getDevice(){return Xi()?"Siyuan_Widget":Yi()?"Siyuan_NewWin":Xt()?"Chrome_Extension":"Chrome_Browser"}}const ia=pi.getLogger(),aa="siyuan",oa="siyuanNewWin",sa="chrome",na=(e,t,i)=>{let a=t,o=window.location.protocol+"//"+e;return i&&""!==i&&(o=window.location.protocol+"//"+e+i),a=_i(o,a),a},la=(e,t)=>{let i=e;if(i.startsWith("http")||i.startsWith("https"))return ia.debug("当前是外部链接，直接跳转"),i;const a=ta.getDevice();let o=Wt("from");if(a===ea.DeviceType_Siyuan_Widget||a===ea.DeviceType_Siyuan_NewWin||aa===o||oa===o){i="/widgets/sy-post-publisher"+i,Xi()&&(o=aa),Yi()&&(o=oa),Xt()&&(o=sa),vi(o)||(i=qt(i,"from",o));let e=window.location.host;if(Yi()){e=window.terwer.ip+":"+window.location.port}i=na(e,i,t)}else if(a===ea.DeviceType_Chrome_Extension)i=chrome.runtime.getURL(i);else{let e=window.location.host;i=na(e,i,t)}return ia.warn("将要打开页面=>",i),i};function ra(e){const t=la(e,"");window.open(t)}const ca=async e=>{const t=await(async()=>await ht({description:"JSON files",mimeTypes:["application/json"],extensions:[".json"],multiple:!0}))(),i=new FileReader;i.addEventListener("load",(()=>{const t=JSON.parse(i.result);e(t)})),i.readAsText(t[0])},ua=async()=>{const e=ki();await ca((function(t){for(const[i,a]of Object.entries(t))e.setItem(i,a)}))},pa="undefined"!=typeof navigator&&"Windows"===(null==(t=null==navigator?void 0:navigator.userAgentData)?void 0:t.platform),ga="true"===Wt("isSlot"),da=e=>!!require("fs").existsSync(e),ma=pi.getLogger("plugins/page-beauty/page-beauty.ts"),ha={install(e){e.directive("beauty",(e=>{ma.debug("PageBeauty is rendering ...");const t=e.querySelectorAll("a");t&&t.length>0&&(t.forEach((e=>{const t=e.getAttribute("href");if(t.includes("siyuan://blocks/")){let i=t.replace(/siyuan:\/\/blocks\//g,"");i="/detail/index.html?id="+i,e.setAttribute("href",i)}e.addEventListener("click",(function(t){t.preventDefault();const i=e.getAttribute("href");ma.debug("href=>",i),vi(i)||ra(i)}))})),ma.debug("链接处理完毕，全部新窗口打开."));const i=e.querySelectorAll("img");i&&i.length>0&&(i.forEach((e=>{const t=e.getAttribute("src");if(t.indexOf("assets")>-1){const i=Mi().baseUrl,a=_i(i,"/"+t);e.setAttribute("src",a)}})),ma.debug("本地图片处理完毕，已修复图片展示."))}))}},ba=pi.getLogger("plugins/font-awesome/font-awesome.ts"),fa={install(e){c.add(u),c.add(p),c.add(g),c.add(d),c.add(m),c.add(h),c.add(b),c.add(f),c.add(y),c.add(w),c.add(v),c.add(_),c.add(P),c.add(k),c.add(C),c.add(E),c.add(T),c.add(S),c.add(U),c.add(I),c.add(A),c.add(O),c.add(x),c.add(N),e.component("font-awesome-icon",D),ba.debug("FontAwesome inited")}},ya={},wa=async()=>{await function(e,t,i){if(!t||0===t.length)return e();const a=document.getElementsByTagName("link");return Promise.all(t.map((e=>{if((e=function(e){return"/widgets/sy-post-publisher/"+e}(e))in ya)return;ya[e]=!0;const t=e.endsWith(".css"),o=t?'[rel="stylesheet"]':"";if(i)for(let i=a.length-1;i>=0;i--){const o=a[i];if(o.href===e&&(!t||"stylesheet"===o.rel))return}else if(document.querySelector(`link[href="${e}"]${o}`))return;const s=document.createElement("link");return s.rel=t?"stylesheet":"modulepreload",t||(s.as="script",s.crossOrigin=""),s.href=e,document.head.appendChild(s),t?new Promise(((t,i)=>{s.addEventListener("load",t),s.addEventListener("error",(()=>i(new Error(`Unable to preload CSS for ${e}`))))})):void 0}))).then((()=>e()))}((()=>import("./siyuanhook-1e89e438.js")),[])},va={createPage:async e=>{if(Ht){"undefined"==typeof Buffer&&(window.Buffer=o);const e=qi.getSiyuanWindow();void 0===e.Buffer&&(e.Buffer=Buffer)}else"undefined"==typeof Buffer&&(window.Buffer=o);await wa();const t=L({render:()=>V(e)}),i=he();return t.use(i),t.use(Et),t.use(Qt),t.use(ha),t.use(fa),t.directive("focus",{mounted(e){e.focus()}}),t}},_a={API_TYPE_VUEPRESS:"vuepress",API_TYPE_HUGO:"hugo",API_TYPE_HEXO:"hexo",API_TYPE_JEKYLL:"jekyll",API_TYPE_CNBLOGS:"cnblogs",API_TYPE_WORDPRESS:"wordpress",API_TYPE_CONFLUENCE:"confluence",API_TYPE_JVUE:"jvue",API_TYPE_YUQUE:"yuque",API_TYPE_WECHAT:"wechat",API_TYPE_LIANDI:"liandi",API_TYPE_SIYUAN:"siyuan",API_TYPE_KMS:"kms"};const Pa=()=>yt();class ka{convertToYaml(e,t){throw new Error("YamlConvertAdaptor.convertToYaml: 该功能未实现，请在子类重写该方法")}convertToAttr(e,t){throw new Error("YamlConvertAdaptor.convertToAttr: 该功能未实现，请在子类重写该方法")}}class Ca{constructor(){a(this,"formData",{title:"",customSlug:"",desc:"",created:"",tag:{inputValue:"",dynamicTags:[],inputVisible:!1},customPath:"",categories:["默认分类"],mdContent:"",htmlContent:"",usePermalink:!0,useDate:!0,linkTitle:"",weight:0})}}class Ea{constructor(){a(this,"yamlObj",{}),a(this,"formatter",""),a(this,"mdContent",""),a(this,"mdFullContent"),a(this,"htmlContent")}}const Ta=pi.getLogger(),Sa=function(e,t){return e.setTime(e.getTime()+60*t*60*1e3),e},Ua=(e,t,i)=>{if(!e)return"";let a=e;const o=a.match(/(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(.\d{3})Z$/gm);if(null==o)return e;for(let s=0;s<o.length;s++){const e=o[s];let n=e;t&&(n=Sa(new Date(e),8).toISOString());const l=n.split("T"),r=l[0];let c=r+" "+l[1].split(".")[0];i&&(c=r),a=a.replace(e,c)}return a},Ia=e=>{if(!e)return"";const t=e.replace(/\D/g,""),i=t.slice(0,4),a=t.slice(4,6),o=t.slice(6,8),s=t.slice(8,10),n=t.slice(10,12),l=t.slice(12,14);let r=i;return r=a?o?s?n?l?i+"-"+a+"-"+o+" "+s+":"+n+":"+l:i+"-"+a+"-"+o+" "+s+":"+n:i+"-"+a+"-"+o+" "+s:i+"-"+a+"-"+o:i+"-"+a:i,Ta.debug("formatNumToZhDate str=>",e),Ta.debug("formatNumToZhDate datestr=>",r),r},Aa=e=>{const t=Ia(e);return Ta.debug("datestr=>",t),a="Asia/Shanghai","string"==typeof(i=t)?new Date(new Date(i).toLocaleString("zh-CN",{timeZone:a})):new Date(i.toLocaleString("zh-CN",{timeZone:a}));var i,a},Oa=function(e){const t=((e,t)=>{if(!e)return"";let i=e;const a=i.match(/(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(.\d{3})Z$/gm);if(null==a)return"";for(let o=0;o<a.length;o++){const e=a[o];let s=e;t&&(Ta.debug("修复时区，ISO日期默认晚8小时"),Ta.debug(Sa(new Date(e),8)),s=Sa(new Date(e),8).toISOString());const n=s.split("T"),l=n[0].replaceAll(/-/g,"")+n[1].split(".")[0].replaceAll(/:/g,"");i=i.replace(e,l),Ta.debug("formatIsoDate match=>",e),Ta.debug("formatIsoDate result=>",l)}return i})(e,!0),i=Aa(t),a=((new Date).getTime()-i.getTime())/1e3;return parseInt(a.toString())},xa=()=>(new Date).getFullYear(),Na={formatTimestampToZhDate:e=>("string"==typeof e&&(e=parseInt(e)),Ua(new Date(e).toISOString(),!0))},Da=e=>(e=(e=e.replace("---\n","")).replace("---",""),wt.load(e,{})),La=e=>{let t=wt.dump(e,{});return t=Mt("---\n",t,"---"),t};class Va extends ka{constructor(){super(...arguments),a(this,"logger",pi.getLogger("utils/platform/github/vuepress/VuepressYamlConvertAdaptor.ts"))}convertToYaml(e,t){var i;let a=new Ea;this.logger.debug("您正在使用 Vuepress Yaml Converter",e),a.yamlObj.title=e.formData.title;let o="/post/"+e.formData.customSlug+".html";t&&!vi(t.previewUrl)&&(o=t.previewUrl.replace("[postid]",e.formData.customSlug)),this.logger.debug("link=>",o),a.yamlObj.permalink=o,a.yamlObj.date=Aa(e.formData.created),a.yamlObj.meta=[{name:"keywords",content:e.formData.tag.dynamicTags.join(" ")},{name:"description",content:e.formData.desc}],a.yamlObj.tags=e.formData.tag.dynamicTags,a.yamlObj.categories=e.formData.categories;let s="https://github.com/terwer";t.baseUrl&&(s=_i(t.baseUrl,"/"+t.githubUser)),a.yamlObj.author={name:null!=(i=t.author)?i:"terwer",link:s};let n=La(a.yamlObj);return n=Ua(n,!0),a.formatter=n,a.mdContent=e.formData.mdContent,a.mdFullContent=a.formatter+"\n\n"+a.mdContent,a.htmlContent=e.formData.htmlContent,a}convertToAttr(e,t){const i=e.yamlObj,a=new Ca;a.formData.title=i.title,a.formData.customSlug=i.permalink.replace("/pages/","").replace("/post/","").replace(".html","").replace("/",""),a.formData.created=Ua(i.date.toISOString(),!1);const o=i.meta;for(let s=0;s<o.length;s++){const e=o[s];if("description"===e.name){a.formData.desc=e.content;break}}for(let s=0;s<i.tags.length;s++){const e=i.tags[s];a.formData.tag.dynamicTags.includes(e)||""===e||a.formData.tag.dynamicTags.push(e)}return a.formData.categories=i.categories,a}}class Ra extends ka{constructor(){super(...arguments),a(this,"logger",pi.getLogger("utils/platform/github/jekyll/JekyllYamlConverterAdaptor.ts"))}convertToYaml(e,t){let i=new Ea;this.logger.debug("您正在使用 Jekyll Yaml Converter",e),i.yamlObj.layout="post",i.yamlObj.date=Aa(e.formData.created),i.yamlObj.categories=e.formData.categories,i.yamlObj.title=e.formData.title;let a="/post/"+e.formData.customSlug+".html";if(t&&!vi(t.previewUrl)){a=t.previewUrl.replace("[postid]",e.formData.customSlug);const o=Ua(i.yamlObj.date.toISOString()).split(" ")[0].split("-");this.logger.debug("created numarr=>",o);const s=o[0],n=o[1],l=o[2];a=a.replace(/\[yyyy]/g,s),a=a.replace(/\[MM]/g,n),a=a.replace(/\[mm]/g,n),a=a.replace(/\[dd]/g,l),a=i.yamlObj.categories.length>0?a.replace(/\[cats]/,i.yamlObj.categories.join("/")):a.replace(/\/\[cats]/,"")}this.logger.debug("link=>",a),i.yamlObj.permalink=a,i.yamlObj.tagline=e.formData.desc,i.yamlObj.tags=e.formData.tag.dynamicTags,i.yamlObj.published=!0;let o=La(i.yamlObj);return o=Ua(o,!0),i.formatter=o,i.mdContent=e.formData.mdContent,i.mdFullContent=i.formatter+"\n\n"+i.mdContent,i.htmlContent=e.formData.htmlContent,i}convertToAttr(e,t){return super.convertToAttr(e,t)}}class $a extends ka{constructor(){super(...arguments),a(this,"logger",pi.getLogger("utils/platform/github/hugo/HugoYamlConverterAdaptor.ts"))}convertToYaml(e,t){let i=new Ea;this.logger.debug("您正在使用 Hugo Yaml Converter",e),i.yamlObj.title=e.formData.title,i.yamlObj.slug=e.formData.customSlug,e.formData.usePermalink&&(i.yamlObj.url="/post/"+e.formData.customSlug+".html"),e.formData.useDate&&(i.yamlObj.date=e.formData.created),i.yamlObj.tags=e.formData.tag.dynamicTags,i.yamlObj.categories=e.formData.categories,i.yamlObj.lastmod=Ua((new Date).toISOString(),!0),i.yamlObj.toc=!0,i.yamlObj.keywords=e.formData.tag.dynamicTags.join(","),i.yamlObj.description=e.formData.desc,i.yamlObj.isCJKLanguage=!0;const a=e.formData.linkTitle,o=parseInt(e.formData.weight.toString());o>0&&(i.yamlObj.weight=o),vi(a)||(i.yamlObj.linkTitle=a,o>0&&(i.yamlObj.menu={main:{weight:o}}));let s=La(i.yamlObj);return s=Ua(s,!0),i.formatter=s,i.mdContent=e.formData.mdContent,i.mdFullContent=i.formatter+"\n\n"+i.mdContent,i.htmlContent=e.formData.htmlContent,i}convertToAttr(e,t){return super.convertToAttr(e,t)}}class Ma extends ka{constructor(){super(...arguments),a(this,"logger",pi.getLogger("utils/platform/github/hexo/hexoYamlConverterAdaptor.ts"))}convertToYaml(e,t){let i=new Ea;this.logger.debug("您正在使用 Hexo Yaml Converter",e),i.yamlObj.title=e.formData.title,i.yamlObj.updated=Ua((new Date).toISOString(),!0),i.yamlObj.excerpt=e.formData.desc,i.yamlObj.tags=e.formData.tag.dynamicTags,i.yamlObj.categories=e.formData.categories;let a="/post/"+e.formData.customSlug+".html";if(t&&!vi(t.previewUrl)){a=t.previewUrl.replace("[postid]",e.formData.customSlug);const o=e.formData.created.split(" ")[0].split("-");this.logger.debug("created numarr=>",o);const s=o[0],n=o[1],l=o[2];a=a.replace(/\[yyyy]/g,s),a=a.replace(/\[MM]/g,n),a=a.replace(/\[mm]/g,n),a=a.replace(/\[dd]/g,l),a=i.yamlObj.categories.length>0?a.replace(/\[cats]/,i.yamlObj.categories.join("/")):a.replace(/\/\[cats]/,"")}i.yamlObj.permalink=a,i.yamlObj.comments=!0;let o=La(i.yamlObj);return o=Ua(o,!0),i.formatter=o,i.mdContent=e.formData.mdContent,i.mdFullContent=i.formatter+"\n\n"+i.mdContent,i.htmlContent=e.formData.htmlContent,i}convertToAttr(e,t){return super.convertToAttr(e,t)}}class ja extends ka{constructor(){super(...arguments),a(this,"logger",pi.getLogger("utils/platform/github/other/VitepressYamlConverterAdaptor.ts"))}convertToYaml(e,t){let i=new Ea;this.logger.debug("您正在使用 Vitepress Yaml Converter",e),i.yamlObj.title=e.formData.title,i.yamlObj.titleTemplate="Vite & Vue powered static site generator",i.yamlObj.description=e.formData.title+" description",i.yamlObj.layout="doc",i.yamlObj.aside=!0,i.yamlObj.outline=!0,i.yamlObj.lastUpdated=!0;let a=La(i.yamlObj);return a=Ua(a,!0),i.formatter=a,i.mdContent=e.formData.mdContent,i.mdFullContent=i.formatter+"\n\n"+i.mdContent,i.htmlContent=e.formData.htmlContent,i}convertToAttr(e,t){return super.convertToAttr(e,t)}}class Ya extends ka{constructor(){super(...arguments),a(this,"logger",pi.getLogger("utils/platform/github/other/NuxtYamlConverterAdaptor.ts"))}convertToYaml(e,t){let i=new Ea;this.logger.debug("您正在使用 Vitepress Yaml Converter",e),i.yamlObj.title=e.formData.title,i.yamlObj.description=e.formData.desc,i.yamlObj.head={title:e.formData.title,description:e.formData.desc,meta:[{name:"keywords",content:e.formData.tag.dynamicTags.join(",")},{name:"author",content:"terwer"},{name:"copyright",content:"© 2022 sy-post-publisher"}]};let a=La(i.yamlObj);return a=Ua(a,!0),i.formatter=a,i.mdContent=e.formData.mdContent,i.mdFullContent=i.formatter+"\n\n"+i.mdContent,i.htmlContent=e.formData.htmlContent,i}convertToAttr(e,t){return super.convertToAttr(e,t)}}class Ba extends ka{constructor(){super(...arguments),a(this,"logger",pi.getLogger("utils/platform/github/other/NextYamlConvertAdaptor.ts"))}convertToYaml(e,t){let i=new Ea;return this.logger.debug("您正在使用 Next Yaml Converter",e),i.yamlObj.title=e.formData.title,i.yamlObj.date=Aa(e.formData.created),i.yamlObj.description=e.formData.desc,i.yamlObj.tag=e.formData.tag.dynamicTags,i.formatter=La(i.yamlObj),i.mdContent=e.formData.mdContent,i.mdFullContent=i.formatter+"\n\n"+i.mdContent,i.htmlContent=e.formData.htmlContent,i}convertToAttr(e,t){return super.convertToAttr(e,t)}}pi.getLogger("utils/platform/dynamicConfig.ts");class Ga{constructor(e,t,i){a(this,"posid"),a(this,"modelValue"),a(this,"platformType"),a(this,"subPlatformType"),a(this,"platformKey"),a(this,"platformName"),a(this,"yamlConverter"),this.platformType=e,this.platformKey=t,this.platformName=i}}var Ka=(e=>(e.Metaweblog="Metaweblog",e.Wordpress="Wordpress",e.Github="Github",e.Custom="Custom",e))(Ka||{}),Ha=(e=>(e.Github_Hugo="Hugo",e.Github_Hexo="Hexo",e.Github_Jekyll="Jekyll",e.Github_Vuepress="Vuepress",e.Github_Vitepress="Vitepress",e.Github_Nuxt="Nuxt",e.Github_Next="Next",e.NONE="none",e))(Ha||{});function Wa(e){const t=[];if("Github"===e)t.push("Hugo"),t.push("Hexo"),t.push("Jekyll"),t.push("Vuepress"),t.push("Vitepress"),t.push("Nuxt"),t.push("Next");return t}function qa(){return Si(gi.DYNAMIC_CONFIG_KEY)}function Fa(e){const t=e,i=[],a=[],o=[];t.forEach((e=>{switch(e.platformType){case"Github":i.push(e);break;case"Metaweblog":a.push(e);break;case"Wordpress":o.push(e)}}));const s={totalCfg:t,githubCfg:i,metaweblogCfg:a,wordpressCfg:o};Oi(gi.DYNAMIC_CONFIG_KEY,s)}function Ja(e,t){let i;const a=function(){const e=(new Date).toISOString();return ft(e).toLowerCase()}();return i=e.toLowerCase(),vi(t)||"none"===t||(i=Mt(i,$t(t))),Mt(i,"-",a)}function Xa(e,t){let i=!1;for(let a=0;a<e.length;a++)if(e[a].platformKey===t){i=!0;break}return i}function za(e){return"switch-"+e}function Qa(e){return e+"_true"}function Za(e){return e+"_false"}function eo(e){return"custom-"+e+"-post-id"}const to=e=>{let t=new ka;if(e.includes("-")){const i=e.split("-");if(i.length>0){const e=i[0].toLowerCase();e.includes("Vuepress".toLowerCase())?t=new Va:e.includes("Hugo".toLowerCase())?t=new $a:e.includes("Hexo".toLowerCase())?t=new Ma:e.includes("Jekyll".toLowerCase())?t=new Ra:e.includes("Vitepress".toLowerCase())?t=new ja:e.includes("Nuxt".toLowerCase())?t=new Ya:e.includes("Next".toLowerCase())&&(t=new Ba)}}return t};class io{constructor(){a(this,"editMode"),a(this,"contentShowType"),a(this,"fixTitle"),a(this,"useGoogleTranslate"),a(this,"removeH1"),a(this,"autoTag"),a(this,"renderSiyuanVirtualLink"),a(this,"makeAttrOnFirstLoad"),a(this,"newWin"),a(this,"showCloseBtn"),a(this,"usePicgo"),a(this,"mainBg")}}var ao=(e=>(e[e.EditMode_simple=0]="EditMode_simple",e[e.EditMode_complex=1]="EditMode_complex",e[e.EditMode_source=2]="EditMode_source",e))(ao||{}),oo=(e=>(e[e.YAML=0]="YAML",e[e.CONTENT=1]="CONTENT",e[e.YAML_CONTENT=2]="YAML_CONTENT",e[e.HTML_CONTENT=3]="HTML_CONTENT",e))(oo||{});const so=pi.getLogger("utils/publishUtil.ts");function no(e){return Si(e)}const lo=(e,t)=>{so.debug("根据平台类型获取发布状态，apiType=>",e);const i=[_a.API_TYPE_VUEPRESS,_a.API_TYPE_HUGO,_a.API_TYPE_HEXO,_a.API_TYPE_JEKYLL],a=[_a.API_TYPE_JVUE,_a.API_TYPE_CONFLUENCE,_a.API_TYPE_CNBLOGS,_a.API_TYPE_WORDPRESS],o=[_a.API_TYPE_LIANDI,_a.API_TYPE_YUQUE,_a.API_TYPE_KMS],s=qa(),n=s.githubCfg||[],l=s.metaweblogCfg||[],r=s.wordpressCfg||[];let c;if(n.forEach((e=>{const t=e.platformKey,a=za(e.platformKey);Ti(a)&&i.push(t)})),l.forEach((e=>{const t=e.platformKey,i=za(e.platformKey);Ti(i)&&a.push(t)})),r.forEach((e=>{const t=e.platformKey,i=za(e.platformKey);Ti(i)&&a.push(t)})),i.includes(e)){const i=no(e).posidKey;c=t[i]||"",so.debug("平台=>",e),so.debug("meta=>",t),so.debug("postidKey=>",i),so.debug("postidKey的值=>",c)}else if(a.includes(e)){const i=no(e).posidKey;c=t[i]||"",so.debug("平台=>",e),so.debug("meta=>",t),so.debug("postidKey=>",i),so.debug("postidKey的值=>",c)}else if(o.includes(e)){const i=no(e).posidKey;c=t[null!=i?i:""]||"",so.debug("平台=>",e),so.debug("meta=>",t),so.debug("postidKey=>",i),so.debug("postidKey的值=>",c)}return!vi(c)},ro=()=>{let e=Si(gi.PUBLISH_PREFERENCE_CONFIG_KEY);return wi(e)?(e=new io,e.fixTitle=!1,e.useGoogleTranslate=!0,e.editMode=ao.EditMode_simple,e.contentShowType=oo.YAML_CONTENT,e.removeH1=!1,e.autoTag=!1,e.renderSiyuanVirtualLink=!0,e.makeAttrOnFirstLoad=!1,e.newWin=!1,e.showCloseBtn=!1):(e.fixTitle=Pi(e.fixTitle),e.removeH1=Pi(e.removeH1),e.newWin=Pi(e.newWin),e.autoTag=Pi(e.autoTag),e.showCloseBtn=Pi(e.showCloseBtn)),e},co={class:"header-default"},uo={key:0},po={key:1,class:"header-title-default"},go=(e,t)=>{const i=e.__vccOpts||e;for(const[a,o]of t)i[a]=o;return i},mo=go(R({__name:"DefaultHeader",setup(e){const{t:t}=ye(),i=pi.getLogger("layouts/default/DefaultHeader.vue"),a=$(!1),o=$(!1),s=$(!1),n=async()=>{if(o.value)try{const e=Ji();await Ki(e.widgetId,"index.html"),d()}catch(e){we.info("发生异常，已暂时关闭此按钮，如需永久关闭，请前往通用设置关闭=>"+e)}},l=async()=>{if(o.value)try{const e=Ji();await Ki(e.widgetId,"detail/index.html"),d()}catch(e){we.info("发生异常，已暂时关闭此按钮，如需永久关闭，请前往通用设置关闭=>"+e)}},r=async()=>{if(o.value)try{await Ki(void 0,"blog/index.html"),d()}catch(e){we.info("发生异常，已暂时关闭此按钮，如需永久关闭，请前往通用设置关闭=>"+e)}},c=async()=>{if(o.value)try{const e=Ji();await Ki(e.widgetId,"anki/index.html"),d()}catch(e){we.info("发生异常，已暂时关闭此按钮，如需永久关闭，请前往通用设置关闭=>"+e)}},u=async()=>{try{const e=Ji();await Ki(e.widgetId,"picgo/index.html"),d()}catch(e){i.error(t("main.opt.failure"),"=>",e),we.error(Mt(t("main.opt.failure"),"=>",e))}},p=async()=>{try{await Ki(void 0,"set/index.html"),d()}catch(e){i.error(t("main.opt.failure"),"=>",e),we.error(Mt(t("main.opt.failure"),"=>",e))}},g=()=>{if(a.value)try{(()=>{const e=Bi(),{getCurrentWindow:t}=e.require("@electron/remote");t().close()})(),d()}catch(e){we.info("非弹窗点击，已暂时关闭此按钮，如需永久关闭，请前往通用设置关闭=>"+e)}},d=()=>{Yi()?(o.value=!1,a.value=!0,pa&&Ht&&(a.value=!1)):(o.value=!0,a.value=!1,ga||(o.value=!1,a.value=!1,s.value=!0))};return M((()=>{if(Yi()||Xi()){const e=ro();a.value=Yi()||e.showCloseBtn,o.value=a.value,s.value=!1,d()}else o.value=!1,a.value=!0,s.value=!0})),(e,t)=>{const i=j("font-awesome-icon"),d=ve,m=_e,h=Pe;return Y(),B("div",co,[G(h,{id:"publisher-header"},{default:K((()=>[s.value?W("",!0):(Y(),B("div",uo,[G(m,{content:e.$t("siyuan.browser.menu.publish.btn"),class:"box-item",effect:"light",placement:"right","popper-class":"publish-menu-tooltip"},{default:K((()=>[o.value?(Y(),H(d,{key:0,class:"b3-button--open",type:"success",onClick:n},{default:K((()=>[G(i,{icon:"fa-solid fa-upload"})])),_:1})):W("",!0)])),_:1},8,["content"]),G(m,{content:e.$t("siyuan.browser.menu.preview.btn"),class:"box-item",effect:"light",placement:"right","popper-class":"publish-menu-tooltip"},{default:K((()=>[o.value?(Y(),H(d,{key:0,class:"b3-button--preview",type:"success",onClick:l},{default:K((()=>[G(i,{icon:"fa-solid fa-book-open-reader"})])),_:1})):W("",!0)])),_:1},8,["content"]),G(m,{content:e.$t("siyuan.browser.menu.manage.btn"),class:"box-item",effect:"light",placement:"right","popper-class":"publish-menu-tooltip"},{default:K((()=>[o.value?(Y(),H(d,{key:0,class:"b3-button--preview",type:"success",onClick:r},{default:K((()=>[G(i,{icon:"fa-solid fa-rectangle-list"})])),_:1})):W("",!0)])),_:1},8,["content"]),G(m,{content:e.$t("siyuan.browser.menu.anki.btn"),class:"box-item",effect:"light",placement:"right","popper-class":"publish-menu-tooltip"},{default:K((()=>[o.value?(Y(),H(d,{key:0,class:"b3-button--anki",type:"success",onClick:c},{default:K((()=>[G(i,{icon:"fa-solid fa-credit-card"})])),_:1})):W("",!0)])),_:1},8,["content"]),G(m,{content:e.$t("siyuan.browser.menu.picture.btn"),class:"box-item",effect:"light",placement:"right","popper-class":"publish-menu-tooltip"},{default:K((()=>[o.value?(Y(),H(d,{key:0,class:"b3-button--picture",type:"success",onClick:u},{default:K((()=>[G(i,{icon:"fa-solid fa-image"})])),_:1})):W("",!0)])),_:1},8,["content"]),G(m,{content:e.$t("siyuan.browser.menu.setting.btn"),class:"box-item",effect:"light",placement:"right","popper-class":"publish-menu-tooltip"},{default:K((()=>[o.value?(Y(),H(d,{key:0,class:"b3-button--picture",type:"success",onClick:p},{default:K((()=>[G(i,{icon:"fa-solid fa-gear"})])),_:1})):W("",!0)])),_:1},8,["content"]),a.value?(Y(),H(d,{key:0,class:"b3-button--cancel",type:"danger",onClick:g},{default:K((()=>[G(i,{icon:"fa-solid fa-xmark"})])),_:1})):W("",!0)])),s.value?(Y(),B("h1",po,[G(d,{class:"header-title-btn disabled-click"},{default:K((()=>[q(" 思源笔记发布工具 ")])),_:1})])):W("",!0)])),_:1})])}}}),[["__scopeId","data-v-dcd39782"]]),ho=be("tabCount",(()=>{const e=$(0);return{tabCount:e,resetCount:function(){e.value=0},incrementIf:function(t){t&&e.value++}}})),bo={SWITCH_VUEPRESS_KEY:"switch-vuepress",SWITCH_HUGO_KEY:"switch-hugo",SWITCH_HEXO_KEY:"switch-hexo",SWITCH_JEKYLL_KEY:"switch-jekyll",SWITCH_JVUE_KEY:"switch-jvue",SWITCH_CONF_KEY:"switch-conf",SWITCH_CNBLOGS_KEY:"switch-cnblogs",SWITCH_WORDPRESS_KEY:"switch-wordpress",SWITCH_LIANDI_KEY:"switch-liandi",SWITCH_YUQUE_KEY:"switch-yuque",SWITCH_KMS_KEY:"switch-kms"},fo=()=>{const e=ho(),t=$(!1),i=$(!1),a=$(!1),o=$(!1),s=$(!1),n=$(!1),l=$(!1),r=$(!1),c=$(!1),u=$(!1),p=$(!1),g=F({dynamicConfigArray:[]});return{tabCountStore:e,vuepressEnabled:t,hugoEnabled:i,hexoEnabled:a,jekyllEnabled:o,jvueEnabled:s,confEnabled:n,cnblogsEnabled:l,wordpressEnabled:r,liandiEnabled:c,yuqueEnabled:u,kmsEnabled:p,switchFormData:g,doCount:function(){e.resetCount(),t.value=Ti(bo.SWITCH_VUEPRESS_KEY),e.incrementIf(t.value),i.value=Ti(bo.SWITCH_HUGO_KEY),e.incrementIf(i.value),a.value=Ti(bo.SWITCH_HEXO_KEY),e.incrementIf(a.value),o.value=Ti(bo.SWITCH_JEKYLL_KEY),e.incrementIf(o.value),s.value=Ti(bo.SWITCH_JVUE_KEY),e.incrementIf(s.value),n.value=Ti(bo.SWITCH_CONF_KEY),e.incrementIf(n.value),l.value=Ti(bo.SWITCH_CNBLOGS_KEY),e.incrementIf(l.value),r.value=Ti(bo.SWITCH_WORDPRESS_KEY),e.incrementIf(r.value),c.value=Ti(bo.SWITCH_LIANDI_KEY),e.incrementIf(c.value),u.value=Ti(bo.SWITCH_YUQUE_KEY),e.incrementIf(u.value),p.value=Ti(bo.SWITCH_KMS_KEY),e.incrementIf(p.value);const d=qa().totalCfg||[];g.dynamicConfigArray=[],d.forEach((t=>{const i=za(t.platformKey),a=Ti(i);var o;t.modelValue=(o={switchKey:t.platformKey,switchValue:a}).switchKey+"_"+o.switchValue.toString(),e.incrementIf(a),g.dynamicConfigArray.push(t)}))}}};class yo{constructor(e,t,i,o,s){a(this,"githubUser"),a(this,"githubRepo"),a(this,"githubToken"),a(this,"defaultBranch"),a(this,"defaultPath"),a(this,"defaultMsg"),a(this,"author"),a(this,"email"),a(this,"posidKey"),a(this,"home"),a(this,"blogName"),a(this,"previewMdUrl"),a(this,"previewUrl"),a(this,"baseUrl"),a(this,"mdFilenameRule"),a(this,"useMetaJson"),a(this,"apiStatus"),this.home=e,this.blogName=t,this.githubUser=i,this.githubRepo=o,this.githubToken=s,this.defaultBranch="main",this.defaultPath="docs/_posts",this.defaultMsg="auto published by sy-post-publisher",this.author="terwer",this.email="youweics@163.com",this.previewMdUrl="",this.previewUrl="",this.baseUrl="https://github.com",this.mdFilenameRule="[filename].md",this.useMetaJson=!1,this.apiStatus=!1}}class wo extends yo{constructor(e){switch(super("","","","",""),this.previewMdUrl="/[user]/[repo]/blob/[branch]/[docpath]",this.previewUrl="/post/[postid].html",this.posidKey=eo(e.platformKey),this.blogName=e.subPlatformType,e.subPlatformType){case Ha.Github_Vuepress:this.defaultPath="docs",this.mdFilenameRule="[filename].md";break;case Ha.Github_Hugo:this.defaultPath="content/post",this.mdFilenameRule="[slug].md";break;case Ha.Github_Hexo:this.defaultPath="source/_posts",this.mdFilenameRule="[slug].md";break;case Ha.Github_Jekyll:this.defaultPath="_posts",this.mdFilenameRule="[yyyy]-[mm]-[dd]-[slug].md";break;case Ha.Github_Vitepress:this.defaultPath="docs",this.previewUrl="/[docpath].html",this.mdFilenameRule="[slug].md";break;case Ha.Github_Nuxt:this.defaultPath="content",this.previewUrl="/[docpath]",this.mdFilenameRule="[slug].md";break;case Ha.Github_Next:this.defaultPath="pages",this.previewUrl="/[docpath]",this.mdFilenameRule="[slug].md"}}}var vo=(e=>(e[e.Markdown=0]="Markdown",e[e.Html=1]="Html",e))(vo||{});class _o{constructor(){a(this,"homePlaceholder"),a(this,"apiUrlPlaceholder"),a(this,"usernamePlaceholder"),a(this,"passwordPlaceholder"),a(this,"apiStatusPlaceholder"),a(this,"blogNamePlaceholder"),a(this,"posidKeyPlaceholder"),a(this,"previewUrlPlaceholder"),a(this,"pageTypePlaceholder")}}class Po{constructor(e,t,i,o){a(this,"home"),a(this,"apiUrl"),a(this,"username"),a(this,"password"),a(this,"apiStatus"),a(this,"blogName"),a(this,"posidKey"),a(this,"previewUrl"),a(this,"pageType"),a(this,"placeholder"),this.home=e,this.apiUrl=t,this.username=i,this.password=o,this.apiStatus=!1,this.blogName="",this.posidKey="",this.previewUrl="",this.pageType=vo.Markdown,this.placeholder=new _o}}class ko extends Po{constructor(e){super("","","",""),this.posidKey=e,this.previewUrl="/p/[postid].html",this.pageType=vo.Html;let t=new _o;t.homePlaceholder="平台首页",t.usernamePlaceholder="用户名",t.passwordPlaceholder="密码",t.apiUrlPlaceholder="xmlrpc请求的API地址",t.previewUrlPlaceholder="预览规则",this.placeholder=t}}class Co extends Po{constructor(e){super("http://localhost:8000","http://localhost:8000/xmlrpc.php","",""),this.posidKey=e,this.previewUrl="/?p=[postid]",this.pageType=vo.Html;let t=new _o;t.homePlaceholder="平台首页",t.usernamePlaceholder="用户名",t.passwordPlaceholder="密码",t.apiUrlPlaceholder="xmlrpc请求的API地址",t.previewUrlPlaceholder="预览规则",this.placeholder=t}}class Eo{constructor(){a(this,"blogid"),a(this,"url"),a(this,"blogName"),a(this,"isAdmin"),a(this,"xmlrpc"),this.blogid="",this.url="",this.blogName=""}}const To="publish",So="draft";class Uo{constructor(){a(this,"postid"),a(this,"title"),a(this,"mt_keywords"),a(this,"link"),a(this,"permalink"),a(this,"shortDesc"),a(this,"description"),a(this,"mt_excerpt"),a(this,"wp_slug"),a(this,"dateCreated"),a(this,"categories"),a(this,"cate_slugs"),a(this,"mt_text_more"),a(this,"post_status"),a(this,"wp_password"),this.postid="",this.title="",this.mt_keywords="",this.permalink="",this.description="",this.wp_slug="",this.dateCreated=new Date,this.categories=[],this.cate_slugs=[],this.post_status=To,this.wp_password=""}}class Io{constructor(){a(this,"logger",pi.getLogger("utils/platform/siyuan/siYuanApiAdaptor.ts")),a(this,"siyuanApi"),this.siyuanApi=new ji}async getUsersBlogs(){var e;const t=[],i=new Eo;return i.blogid=_a.API_TYPE_SIYUAN,i.blogName=_a.API_TYPE_SIYUAN,i.url=null!=(e={VITE_LOG_INFO_ENABLED:"false",VITE_DEBUG_MODE:"false",VITE_MIDDLEWARE_URL:"https://api.terwer.space/api/middleware"}.SIYUAN_API_URL)?e:"",t.push(i),t}async getRecentPostsCount(e){return await this.siyuanApi.getRootBlocksCount(null!=e?e:"")}async getRecentPosts(e,t,i){const a=[];let o=0;t&&(o=t);const s=null!=i?i:"",n=await this.siyuanApi.getRootBlocks(o,e,s);for(let l=0;l<n.length;l++){const e=n[l],t=await this.siyuanApi.getBlockAttrs(e.root_id),i=await this.getPost(e.root_id),o=t["custom-slug"]||"",s=new Uo;s.postid=e.root_id,s.title=e.content,s.permalink=""===o?Mt("/post/",e.root_id):Mt("/post/",o,".html"),s.mt_keywords=i.mt_keywords,s.description=i.description,a.push(s)}return a}async getPost(e,t){var i;const a=ro();let o=e;if(t){const t=await this.siyuanApi.getRootBlockBySlug(e);t&&(o=t.root_id)}const s=await this.siyuanApi.getBlockByID(o);if(!s)throw new Error("文章不存存在，postid=>"+o);const n=await this.siyuanApi.getBlockAttrs(o),l=await this.siyuanApi.exportMdContent(o);let r=!0;"secret"===(n["custom-publish-status"]||"draft")&&(r=!1);const c=n["custom-post-password"]||"",u=n["custom-desc"]||"";let p=null!=(i=s.content)?i:"";a.fixTitle&&(p=Ut(p));let g=St(l.content);g=It(g),a.fixTitle&&(g=Lt(g));const d=new Uo;return d.postid=s.root_id||"",d.title=p||"",d.description=g||"",d.shortDesc=u||"",d.mt_keywords=n.tags||"",d.post_status=r?To:So,d.wp_password=c,d}async editPost(e,t,i){return!1}async newPost(e,t){return""}async deletePost(e){return!1}async getCategories(){return[]}async getPreviewUrl(e){return""}async getSubPostCount(e){return await this.siyuanApi.getSubdocCount(e)}async getSubPosts(e,t,i,a){const o=[];let s=0;0!==i&&(s=i);const n=null!=a?a:"",l=await this.siyuanApi.getSubdocs(e,s,t,n);this.logger.debug("siyuanPosts=>",l);for(let r=0;r<l.length;r++){const e=l[r],t=await this.siyuanApi.getBlockAttrs(e.root_id),i=await this.getPost(e.root_id),a=t["custom-slug"]||"",s=new Uo;s.postid=e.root_id,s.title=e.content,s.permalink=""===a?Mt("/post/",e.root_id):Mt("/post/",a,".html"),s.mt_keywords=i.mt_keywords,s.description=i.description,o.push(s)}return o}}class Ao{constructor(e){a(this,"logger"),a(this,"githubCfg"),a(this,"octokit"),this.logger=pi.getLogger("utils/platform/github/githubApi.ts"),this.githubCfg=e,this.octokit=new J({auth:e.githubToken})}async getPageSha(e){let t;const i=await this.getPageData(e);return i&&(t=i.sha),t}async getPageData(e){let t;if(vi(this.githubCfg.githubUser)||vi(this.githubCfg.githubRepo))throw new Error("分类获取失败");const i="GET /repos/"+this.githubCfg.githubUser+"/"+this.githubCfg.githubRepo+"/contents/"+e+"?ref="+this.githubCfg.defaultBranch;this.logger.debug("getPage route=>",i);const a=await this.octokit.request(i,{owner:this.githubCfg.githubUser,repo:this.githubCfg.githubRepo,path:e});return this.logger.debug("getPage res=>",a),a&&(t=a.data),t}async createOrUpdatePage(e,t,i){let a;const o=vt.toBase64(t),s="PUT /repos/"+this.githubCfg.githubUser+"/"+this.githubCfg.githubRepo+"/contents/"+e,n={owner:this.githubCfg.githubUser,repo:this.githubCfg.githubRepo,path:e,message:this.githubCfg.defaultMsg,committer:{name:this.githubCfg.author,email:this.githubCfg.email},content:o,branch:this.githubCfg.defaultBranch};i&&Object.assign(n,{sha:i});const l=await this.octokit.request(s,n);return this.logger.debug("createOrUpdatePage res=>",l),l&&(a=l.data),a}async deletePage(e,t){let i;const a="DELETE /repos/"+this.githubCfg.githubUser+"/"+this.githubCfg.githubRepo+"/contents/"+e,o={owner:this.githubCfg.githubUser,repo:this.githubCfg.githubRepo,path:e,message:this.githubCfg.defaultMsg,committer:{name:this.githubCfg.author,email:this.githubCfg.email},sha:t,branch:this.githubCfg.defaultBranch},s=await this.octokit.request(a,o);return this.logger.debug("deletePage res=>",s),s&&(i=s.data),i}async publishGithubPage(e,t){const i=await this.createOrUpdatePage(e,t,void 0);return this.logger.debug("Github publishPage,res=>",i),i}async updateGithubPage(e,t){const i=await this.getPageSha(e),a=await this.createOrUpdatePage(e,t,i);return this.logger.debug("Github updatePage,res=>",a),a}async deleteGithubPage(e){const t=await this.getPageSha(e),i=await this.deletePage(e,t);return this.logger.debug("Github deletePage,res=>",i),i}async getGithubPageTreeNode(e){const t=await this.getPageData(e),i=[];if(t&&t.length>0){for(let e=0;e<t.length;e++){const a=t[e],o={value:a.path,label:a.name,isLeaf:a.name.indexOf(".md")>-1};i.push(o)}this.logger.debug("getPageTreeNode,data=>",t)}return i}}class Oo{constructor(e){a(this,"logger"),a(this,"apiType"),a(this,"cfg"),a(this,"githubApi"),this.logger=pi.getLogger("utils/platform/github/githubApiAdaptor.ts"),this.apiType=e;const t=Si(e);this.cfg=t,this.githubApi=new Ao(t)}async getUsersBlogs(){const e=[],t=new Eo;return t.blogid=this.apiType,t.blogName=_i(this.cfg.githubUser,"/"+this.cfg.githubRepo),t.url=_i("https://github.com/"+this.cfg.githubUser,"/"+this.cfg.githubRepo),e.push(t),e}async getPost(e,t){const i=new Uo,a=await this.githubApi.getPageData(e);return i.postid=a.path,i.title=a.path,i.description=vt.fromBase64(a.content),i.link=a.path,i.permalink=a.html_url,this.logger.debug("page=>",a),i}async newPost(e,t){var i;const a=await this.githubApi.publishGithubPage(e.postid,e.description);if(!(null==(i=null==a?void 0:a.content)?void 0:i.path))throw new Error(this.apiType+"调用API异常");return a.content.path}async editPost(e,t,i){var a;const o=await this.githubApi.updateGithubPage(t.postid,t.description);if(!(null==(a=null==o?void 0:o.content)?void 0:a.path))throw new Error("Hugo调用API异常");return!0}async deletePost(e){var t;const i=await this.githubApi.deleteGithubPage(e);if(!(null==(t=null==i?void 0:i.commit)?void 0:t.sha))throw new Error("Hugo调用API异常");return!0}async getCategories(){return await Promise.resolve([])}async getPreviewUrl(e){var t;let i;const a=e.substring(e.lastIndexOf("/")+1).replace(".md","");return i=this.cfg.previewUrl.replace("[postid]",a),i=_i(null!=(t=this.cfg.home)?t:"",i),i}async getRecentPosts(e,t,i){return[]}async getRecentPostsCount(e){return 0}}const xo="blogger.getUsersBlogs",No="metaWeblog.newPost",Do="metaWeblog.editPost",Lo="blogger.deletePost",Vo="metaWeblog.getPost",Ro="metaWeblog.getCategories";class $o{constructor(){a(this,"categoryId"),a(this,"parentId"),a(this,"description"),a(this,"categoryDescription"),a(this,"categoryName"),a(this,"htmlUrl"),a(this,"rssUrl"),this.categoryId="",this.parentId="0",this.description="",this.categoryDescription="",this.categoryName="",this.htmlUrl="",this.rssUrl=""}}const Mo=pi.getLogger("utils/xmlrpc/impl/nodeXmlrpc.ts");const jo=new class{safeParse(e,t){let i;return vi(e)&&(i=t),i=JSON.parse(e)||t,"string"==typeof i&&(i=JSON.parse(i)||t),i}},Yo=pi.getLogger("utils/xmlrpc/impl/middlewareXmlrpc.ts");async function Bo(e,t,i){const a=Mi().middlewareUrl+"/xmlrpc";Yo.debug("apiUrl=>",e);const o={reqMethod:t,reqParams:i};Yo.debug("fetchCORSParams=>",o);const s={fetchParams:{apiUrl:e,fetchCORSParams:o}},n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)};Yo.debug("middleApiUrl=>",a),Yo.debug("middleFetchOption=>",n);const l=await fetch(a,n),r=await l.text();Yo.debug("fetchMiddleware结束，resText",r);const c=jo.safeParse(r,[]);if(Yo.debug("fetchMiddleware结束，resJson",c),c.faultCode)throw Yo.error("代理请求异常，错误信息如下：",c.faultString),new Error(c.faultString);return c}const Go=pi.getLogger("utils/xmlrpc/impl/chromeXmlrpc.ts");async function Ko(e,t,i){Go.debug("fetchChrome apiUrl=>",e);const a={reqMethod:t,reqParams:i};Go.debug("fetchChrome fetchCORSParams=>",a);const o=await async function(e,t,i){try{return await Bo(e,t,i)}catch(a){throw new Error(a)}}(e,t,i);if(!o||""===o)throw new Error("请求错误或者返回结果为空");return Go.debug("fetchCustom result=>",o),o}class Ho{constructor(e,t,i,o){a(this,"logger"),a(this,"apiType"),a(this,"apiUrl"),a(this,"username"),a(this,"password"),this.logger=pi.getLogger("utils/platform/metaweblog/xmlrpc.ts"),this.apiType=e,this.apiUrl=t,this.username=i,this.password=o}async fetchXmlrpc(e,t,i){let a;if(Ht?(this.logger.info("当前处于挂件模式，使用electron的fetch获取数据"),a=await async function(e,t,i){try{Mo.debug("SimpleXmlRpcClient开始"),Mo.debug("xmlrpcNodeParams.reqMethod=>",t),Mo.debug("xmlrpcNodeParams.reqParams=>",i);const a=new _t(e),o=await a.methodCall(t,i);return Mo.debug("SimpleXmlRpcClient结束，ret=>",o),o}catch(a){throw Mo.error(a),new Error("请求处理异常")}}(e,t,i)):Xt()?(this.logger.info("当前处于Chrome插件中，需要模拟fetch解决CORS跨域问题"),a=await Ko(e,t,i)):(this.logger.info("当前处于服务器伺服模式，已开启请求代理解决CORS跨域问题"),a=await Bo(e,t,i)),""===a)throw new Error("请求错误或者返回结果为空");return this.logger.debug("最终返回给前端的数据=>",a),a}async methodCall(e,t){const i=await this.fetchXmlrpc(this.apiUrl,e,t);return this.logger.debug("请求结果，result=>",i),i}}class Wo{constructor(e){a(this,"logger"),a(this,"apiType"),a(this,"cfg"),a(this,"commonXmlrpcClient"),this.logger=pi.getLogger("utils/platform/metaweblog/metaWeblogApi.ts"),this.apiType=e,this.cfg=Si(e),this.commonXmlrpcClient=new Ho(this.apiType,this.cfg.apiUrl,this.cfg.username,this.cfg.password)}async getUsersBlogs(e,t,i){const a=[],o=await this.commonXmlrpcClient.methodCall(xo,[this.apiType,t,i]);this.logger.debug("ret=>",o);const s=o;for(let n=0;n<s.length;n++){const e=new Eo,t=s[n];e.blogid=t.blogid||"",e.url=t.url,e.blogName=t.blogName,a.push(e)}return a}async getRecentPosts(e,t,i,a){return[]}async getPost(e,t,i){const a=new Uo;try{const o=await this.commonXmlrpcClient.methodCall(Vo,[e,t,i]);this.logger.debug("获取的文章信息，dataObj=>",o),a.categories=o.categories}catch(o){this.logger.error("文章信息获取失败",o)}return a}async newPost(e,t,i,a,o){o||(a.post_status=So);const s=this.createPostStruct(a);this.logger.debug("postStruct=>",s);let n=await this.commonXmlrpcClient.methodCall(No,[this.apiType,t,i,s,o]);return n+="",n=n.replace(/"/g,""),this.logger.debug("ret=>",n),n}async editPost(e,t,i,a,o){o||(a.post_status=So);const s=this.createPostStruct(a);this.logger.debug("postStruct=>",s);const n=await this.commonXmlrpcClient.methodCall(Do,[e,t,i,s,o]);return this.logger.debug("ret=>",n),n}async deletePost(e,t,i,a,o){const s=await this.commonXmlrpcClient.methodCall(Lo,[e,t,i,a,o]);return this.logger.debug("ret=>",s),s}createPostStruct(e){var t;const i={};return vi(e.title)||Object.assign(i,{title:e.title}),vi(e.mt_keywords)||Object.assign(i,{mt_keywords:e.mt_keywords}),vi(e.description)||Object.assign(i,{description:e.description}),vi(e.wp_slug)||Object.assign(i,{wp_slug:e.wp_slug}),Gt()||Object.assign(i,{dateCreated:e.dateCreated||new Date}),Object.assign(i,{categories:e.categories||[]}),Object.assign(i,{post_status:null!=(t=e.post_status)?t:To}),vi(e.wp_password)||Object.assign(i,{wp_password:e.wp_password}),i}async getCategories(e,t,i){const a=[];try{const e=await this.commonXmlrpcClient.methodCall(Ro,[this.apiType,t,i]);this.logger.debug("获取的分类信息，dataArr=>",e),e.forEach((e=>{const t=new $o;t.description=e.description,t.categoryId=e.categoryId,a.push(t)}))}catch(o){this.logger.error("分类获取失败",o)}return a}}class qo{constructor(e){a(this,"metaWeblogApi"),a(this,"username"),a(this,"logger"),a(this,"cfg"),a(this,"password"),a(this,"appkey"),this.logger=pi.getLogger("utils/platform/metaweblog/metaWeblogApiAdaptor.ts"),this.cfg=Si(e),this.metaWeblogApi=new Wo(e),this.username=this.cfg.username,this.password=this.cfg.password,this.appkey=e}async getUsersBlogs(){let e=[];return e=await this.metaWeblogApi.getUsersBlogs(this.appkey,this.username,this.password),this.logger.debug("getUsersBlogs=>",e),e}async getRecentPostsCount(e){return await Promise.resolve(0)}async getRecentPosts(e){const t=[];let i;i=await this.metaWeblogApi.getRecentPosts(this.appkey,this.username,this.password,e);for(let a=0;a<i.length;a++){const e=i[a],o=new Uo;o.postid=e.postid,o.title=e.title,o.mt_keywords=e.mt_keywords,o.permalink=e.permalink,o.description=e.description,o.wp_slug=e.wp_slug,o.dateCreated=e.dateCreated,o.categories=e.categories,t.push(o)}return t}async getPost(e){let t;return t=await this.metaWeblogApi.getPost(e,this.username,this.password),t}async editPost(e,t,i){let a;return a=await this.metaWeblogApi.editPost(e,this.username,this.password,t,null==i||i),a}async newPost(e,t){let i;return i=await this.metaWeblogApi.newPost(this.appkey,this.username,this.password,e,null==t||t),i}async deletePost(e){let t;return t=await this.metaWeblogApi.deletePost(this.appkey,e,this.username,this.password,!0),t}async getCategories(){let e;return e=await this.metaWeblogApi.getCategories(this.appkey,this.username,this.password),this.logger.debug("获取分类列表=>",e),e}async getPreviewUrl(e){var t;const i=this.cfg.previewUrl.replace("[postid]",e),a=_i(null!=(t=this.cfg.home)?t:"",i);return this.logger.debug("previewUrl",a),a}}class Fo extends Ao{constructor(e){super(e),a(this,"vuepressCfg"),this.logger=pi.getLogger("utils/platform/github/vuepress/vuepressApiV1.ts"),this.vuepressCfg=e}async getGithubPageTreeNode(e){const t=await this.getPageData(e),i=[];if(t&&t.length>0){for(let e=0;e<t.length;e++){const a=t[e];if(a.name.indexOf(".vuepress")>-1)continue;if(a.name.indexOf("@pages")>-1)continue;if(a.name.indexOf("_posts")>-1)continue;const o={value:a.path,label:a.name,isLeaf:a.name.indexOf(".md")>-1};i.push(o)}this.logger.debug("getPageTreeNode,data=>",t)}return i}}const Jo={VUEPRESS_POSTID_KEY:"custom-vuepress-slug",HUGO_POSTID_KEY:"custom-hugo-slug",HEXO_POSTID_KEY:"custom-hexo-slug",JEKYLL_POSTID_KEY:"custom-jekyll-slug",JVUE_POSTID_KEY:"custom-jvue-post-id",CONFLUENCE_POSTID_KEY:"custom-conf-post-id",CNBLOGS_POSTID_KEY:"custom-cnblogs-post-id",WORDPRESS_POSTID_KEY:"custom-wordpress-post-id",LIANDI_POSTID_KEY:"custom-liandi-post-id",YUQUE_POSTID_KEY:"custom-yuque-post-id",KMS_POSTID_KEY:"custom-kms-post-id",WECHAT_POSTID_KEY:"custom-wechat-post-id"};class Xo extends yo{constructor(){super("",Ha.Github_Vuepress,"","",""),this.defaultPath="docs",this.posidKey=Jo.VUEPRESS_POSTID_KEY,this.previewMdUrl="/[user]/[repo]/blob/[branch]/[docpath]",this.previewUrl="/post/[postid].html",this.mdFilenameRule="[filename].md"}}class zo extends Oo{constructor(){super(_a.API_TYPE_VUEPRESS),a(this,"vuepressApi");const e=new Xo;this.vuepressApi=new Fo(e)}}class Qo extends Oo{constructor(){super(_a.API_TYPE_HUGO)}}class Zo extends Oo{constructor(){super(_a.API_TYPE_HEXO)}}class es extends Oo{constructor(){super(_a.API_TYPE_JEKYLL)}}class ts extends qo{constructor(){super(_a.API_TYPE_JVUE)}}class is extends qo{constructor(){super(_a.API_TYPE_CONFLUENCE)}}class as extends qo{constructor(){super(_a.API_TYPE_CNBLOGS)}}class os extends qo{constructor(){super(_a.API_TYPE_WORDPRESS)}}class ss{constructor(e){a(this,"apiType"),a(this,"cfg"),this.apiType=e,this.cfg=Si(e)}async deletePost(e){throw new Error("该功能未实现，请在子类重写该方法")}async editPost(e,t,i){throw new Error("该功能未实现，请在子类重写该方法")}async getPost(e,t){throw new Error("该功能未实现，请在子类重写该方法")}async getRecentPosts(e,t,i){throw new Error("该功能未实现，请在子类重写该方法")}async getUsersBlogs(){throw new Error("该功能未实现，请在子类重写该方法")}async newPost(e,t){throw new Error("该功能未实现，请在子类重写该方法")}async getCategories(){return[]}async getRecentPostsCount(e){return 0}async getPreviewUrl(e){return""}}class ns{constructor(){a(this,"logger"),this.logger=pi.getLogger("utils/platform/commonblog/commonblogApi.ts")}async fetchCORS(e,t,i){const a=Mi().middlewareUrl+"/fetch";this.logger.debug("apiUrl=>",e),this.logger.debug("fetchOptions=>",t);const o={apiUrl:e,fetchOptions:t};null!=i&&Object.assign(o,{formJson:i});const s={fetchParams:o},n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)};return this.logger.debug("middleApiUrl=>",a),this.logger.debug("middleFetchOption=>",n),await fetch(a,n)}async fetchChrome(e,t,i){try{const a={type:"fetchChromeJson",apiUrl:e,fetchCORSOptions:t};null!=i&&Object.assign(a,{formJson:JSON.stringify(i)}),this.logger.debug("fetchChrome reqOps=>",a);const o=await async function(e){return await new Promise((t=>{chrome.runtime.sendMessage(e,t)}))}(a);return this.logger.debug("fetchChromeJson resJson=>",o),o}catch(a){throw new Error("请求异常",a)}}async fetchCall(e,t,i){let a;if(Kt(e)?(this.logger.warn("检测到本地请求，直接fetch获取数据"),a=await fetch(e,t)):Ht?(this.logger.warn("当前处于挂件模式，使用electron的fetch获取数据"),a=await fetch(e,t)):Xt()?(this.logger.warn("当前处于Chrome插件中，需要模拟fetch解决CORS跨域问题"),a=await this.fetchChrome(e,t,i)):(this.logger.warn("当前处于非挂件模式，已开启请求代理解决CORS跨域问题"),this.logger.warn("formJson=>",i),a=await this.fetchCORS(e,t,i)),!a)throw new Error("请求错误或者返回结果为空");return this.logger.debug("最终返回给前端的数据=>",a),a}async fetchEntry(e,t,i){const a=await this.fetchCall(e,t,i);return this.logger.debug("请求结果，result=>",a),a}parseCORSBody(e){return e.body}async doFetch(e,t,i){const a=await this.fetchEntry(e,t,i);if(!a)throw new Error("请求异常");let o;if("true"==={VITE_LOG_INFO_ENABLED:"false",VITE_DEBUG_MODE:"false",VITE_MIDDLEWARE_URL:"https://api.terwer.space/api/middleware"}.TEST||void 0!==a&&a instanceof Response){const t=a.status;if(200!==t){if(401===t)throw new Error("因权限不足操作已被禁止");if(t>401){if(413===t)throw new Error("请求内容过多，请删减文章正文之后再试");let e=a.statusText;throw e=vi(e)?"网络超时或者服务器错误，请稍后再试。":"错误信息："+e,new Error(e)}throw new Error("fetch请求错误")}if(Kt(e))o=await a.json();else if(Ht)o=await a.json();else{const e=await a.json();o=this.parseCORSBody(e)}}else o=a;return o}async doFormFetch(e,t,i){if(Ji().isInSiyuan){const a=new URLSearchParams;return i.forEach((e=>{a.append(e.key,e.value)})),t.body=a,await this.doFetch(e,t)}return Xt(),await this.doFetch(e,t,i)}}class ls extends ns{constructor(e,t,i){super(),a(this,"baseUrl"),a(this,"username"),a(this,"token"),this.logger=pi.getLogger("utils/platform/commonblog/liandi/liandiApi.ts"),this.baseUrl=e,this.username=t,this.token=i}async getUser(){return await this.liandiRequest("/user",{},"GET",!0)}async addArticle(e,t,i){const a={articleTitle:e,articleTags:i,articleContent:t};await this.liandiRequest("/article",a,"POST",!0);const o=await this.getFirstArticleId();return this.logger.debug("liandi addArticle postid=>",o),o}async getFirstArticleId(){const e="/user/"+this.username+"/articles?p=1",t=(await this.liandiRequest(e,{},"GET",!0)).articles;if(0===t.length)throw new Error("未获取到帖子");return t[0].oId}async updateArticle(e,t,i,a){const o="/article/"+e,s={articleTitle:t,articleTags:a,articleContent:i};return await this.liandiRequest(o,s,"PUT",!0),!0}async liandiRequest(e,t,i,a){const o=this.baseUrl+e;let s="POST";null!=i&&(s=i);const n={method:s};wi(t)||Object.assign(n,{body:JSON.stringify(t)}),a&&Object.assign(n,{headers:{Authorization:`token ${this.token}`,"User-Agent":"Terwer/0.1.0"}}),this.logger.debug("向链滴请求数据，apiUrl=>",o),this.logger.debug("向链滴请求数据，fetchOps=>",n);const l=await this.doFetch(o,n);if(this.logger.debug("向链滴请求数据，resJson=>",l),0===l.code)return l.data;if(-1===l.code)throw new Error(l.msg);{const e=l.msg;if(!vi(e))throw new Error(e);throw new Error("发布帖子受限或者系统异常")}}}class rs extends ss{constructor(){var e,t;super(_a.API_TYPE_LIANDI),a(this,"logger"),a(this,"liandiApi"),this.logger=pi.getLogger("utils/platform/commonblog/liandi/liandiApiAdaptor.ts"),this.liandiApi=new ls(this.cfg.apiUrl,null!=(e=this.cfg.username)?e:"",null!=(t=this.cfg.token)?t:"")}async getUsersBlogs(){var e,t;const i=[],a=await this.liandiApi.getUser();this.logger.debug("user=>",a);const o=new Eo;return o.blogid=this.apiType,o.blogName=null!=(t=null!=(e=a.user.userName)?e:this.cfg.blogName)?t:"链滴",o.url=this.cfg.apiUrl,i.push(o),i}async getRecentPostsCount(e){return 0}async deletePost(e){throw new Error("链滴社区API不支持删除帖子")}async editPost(e,t,i){const a=await this.liandiApi.updateArticle(e,t.title,t.description,t.mt_keywords);return this.logger.debug("liandi newPost=>",a),a}async newPost(e,t){const i=await this.liandiApi.addArticle(e.title,e.description,e.mt_keywords);return this.logger.warn("liandi newPost=>",i),null!=i?i:""}async getPreviewUrl(e){var t,i;const a=(null!=(t=this.cfg.previewUrl)?t:"").replace("[postid]",e);return _i(null!=(i=this.cfg.home)?i:"",a)}}class cs extends ns{constructor(e,t,i,o){super(),a(this,"baseUrl"),a(this,"blogid"),a(this,"username"),a(this,"token"),this.logger=pi.getLogger("utils/platform/commonblog/yuque/yuqueApi.ts"),this.baseUrl=e,this.blogid=t,this.username=i,this.token=o}async repos(){const e="/users/"+this.username+"/repos";return await this.yuqueRequest(e,{},"GET")}async addDoc(e,t,i,a){let o="/repos/"+this.blogid+"/docs";a&&(o="/repos/"+a+"/docs",this.logger.warn("yuque addDoc with repo",a));const s={title:e,slug:t,format:"markdown",body:i},n=await this.yuqueRequest(o,s,"POST");if(this.logger.debug("yuqueRequest addDoc=>",n),!n)throw new Error("请求语雀API异常");return Mt(n.id,"")}async updateDoc(e,t,i,a,o){let s="/repos/"+this.blogid+"/docs/"+e;o&&(s="/repos/"+o+"/docs/"+e,this.logger.warn("yuque updateDoc with repo",o));const n={title:t,slug:i,body:a,_force_asl:1};if(!(await this.yuqueRequest(s,n,"PUT")))throw new Error("请求语雀API异常");return!0}async delDoc(e,t){let i="/repos/"+this.blogid+"/docs/"+e;t&&(i="/repos/"+t+"/docs/"+e,this.logger.warn("yuque delDoc with repo",t));if(!(await this.yuqueRequest(i,{},"DELETE")))throw new Error("请求语雀API异常");return!0}async getDoc(e,t){let i="/repos/"+this.blogid+"/docs/"+e;t&&(i="/repos/"+t+"/docs/"+e,this.logger.warn("yuque getDoc with repo",t));const a=await this.yuqueRequest(i,{},"GET");if(!a)throw new Error("请求语雀API异常");return a}async yuqueRequest(e,t,i){const a=this.baseUrl+e;let o="POST";i&&(o=i);const s={method:o};wi(t)||Object.assign(s,{body:JSON.stringify(t)}),Object.assign(s,{headers:{"Content-Type":"application/json","X-Auth-Token":this.token,"User-Agent":"Terwer/0.1.0"}}),this.logger.debug("向语雀请求数据，apiUrl=>",a),this.logger.debug("向语雀请求数据，fetchOps=>",s);const n=await this.doFetch(a,s);return this.logger.debug("向语雀请求数据，resJson=>",n),n.data?n.data:null}}class us extends ss{constructor(){var e,t,i;super(_a.API_TYPE_YUQUE),a(this,"logger"),a(this,"yuqueApi"),this.logger=pi.getLogger("utils/platform/commonblog/yuque/yuqueApiAdaptor.ts"),this.yuqueApi=new cs(this.cfg.apiUrl,null!=(e=this.cfg.blogid)?e:"",null!=(t=this.cfg.username)?t:"",null!=(i=this.cfg.token)?i:"")}async getUsersBlogs(){const e=[],t=await this.yuqueApi.repos();return this.logger.debug("repos=>",t),t.forEach((t=>{const i=new Eo;i.blogid=t.namespace,i.blogName=t.name,i.url=t.namespace,e.push(i)})),e}async deletePost(e){const t=this.getYuquePostKey(e);return await this.yuqueApi.delDoc(t.docId,t.docRepo)}async editPost(e,t,i){const a=this.getYuquePostKey(e);return await this.yuqueApi.updateDoc(a.docId,t.title,t.wp_slug,t.description,a.docRepo)}async newPost(e,t){if(null!=e.cate_slugs&&e.cate_slugs.length>0){const t=e.cate_slugs[0];return await this.yuqueApi.addDoc(e.title,e.wp_slug,e.description,t)}return await this.yuqueApi.addDoc(e.title,e.wp_slug,e.description)}async getPost(e,t){const i=this.getYuquePostKey(e),a=await this.yuqueApi.getDoc(i.docId,i.docRepo);this.logger.debug("yuqueDoc=>",a);const o=new Uo;o.title=a.title,o.description=a.body;const s=a.book,n=[],l=[];return n.push(s.name),o.categories=n,l.push(s.namespace),o.cate_slugs=l,o}async getCategories(){const e=[],t=await this.yuqueApi.repos();return this.logger.debug("yuque repos=>",t),t&&t.length>0&&t.forEach((t=>{if("Book"===t.type){const i=new $o;i.categoryId=t.slug,i.categoryName=t.name,i.description=t.name,i.categoryDescription=t.name,e.push(i)}})),e}async getPreviewUrl(e){var t,i,a,o;const s=null!=(t=this.cfg.previewUrl)?t:"",n=this.getYuquePostKey(e),l=n.docId,r=null!=(a=null!=(i=n.docRepo)?i:this.cfg.blogid)?a:"",c=s.replace("[postid]",l).replace("[notebook]",r);return _i(null!=(o=this.cfg.home)?o:"",c)}getYuquePostKey(e){let t,i;if(e.indexOf("_")>0){const a=e.split("_");t=a[0],i=a[1]}else t=e;return{docId:t,docRepo:i}}}class ps extends ns{constructor(e,t){super(),a(this,"baseUrl"),a(this,"basicToken"),this.baseUrl=e,this.basicToken=t}async addDoc(e,t){const i=[{key:"fdDocTemplateId",value:"181f20dcfc5744e90b0b8254499b4af0"},{key:"docSubject",value:e},{key:"docContent",value:t},{key:"fdDocCreator",value:"180f58069509ef61dd964994e4591dab"},{key:"authorType",value:"1"},{key:"docAuthor",value:"180f58069509ef61dd964994e4591dab"}];return(await this.kmsRequestForm("/addDoc",i)).fdId}async updateDoc(e,t,i){const a=[{key:"fdId",value:e},{key:"docSubject",value:t},{key:"docContent",value:i}];return await this.kmsRequestForm("/updateDoc",a),!0}async delDoc(e){const t={fdId:e};return await this.kmsRequestJson("/delDoc",t),!0}async kmsRequestForm(e,t){const i=this.baseUrl+e,a={headers:{Authorization:`Basic ${this.basicToken}`},method:"POST"},o=await this.doFormFetch(i,a,t),s=o.code,n=o.msg;if(200!==s)throw 401===s?new Error(Mt("因权限不足操作已被禁止：",n)):new Error("请求错误");return o.data}async kmsRequestJson(e,t){const i=this.baseUrl+e,a={body:JSON.stringify(t),headers:{"Content-Type":"application/json",Authorization:`Basic ${this.basicToken}`},method:"POST"},o=await this.doFetch(i,a),s=o.code,n=o.msg;if(200!==s)throw 401===s?new Error(Mt("因权限不足操作已被禁止：",n)):new Error("请求错误");return o.data}}class gs extends ss{constructor(){var e,t;super(_a.API_TYPE_KMS),a(this,"kmsApi");const i=null!=(e=this.cfg.username)?e:"",o=null!=(t=this.cfg.password)?t:"",s=vt.toBase64(`${i}:${o}`);this.kmsApi=new ps(this.cfg.apiUrl,s)}async getUsersBlogs(){const e=[],t=new Eo;return t.blogid=this.apiType,t.blogName="KMS",t.url=this.cfg.apiUrl,e.push(t),e}async deletePost(e){return await this.kmsApi.delDoc(e)}async editPost(e,t,i){return await this.kmsApi.updateDoc(e,t.title,t.description)}async newPost(e,t){return await this.kmsApi.addDoc(e.title,e.description)}async getPreviewUrl(e){var t,i;const a=(null!=(t=this.cfg.previewUrl)?t:"").replace("[postid]",e);return _i(null!=(i=this.cfg.home)?i:"",a)}}class ds{constructor(e){if(a(this,"type"),a(this,"apiAdaptor"),this.type=e,e.includes("-")){const t=e.split("-");if(t.length>0){const i=t[0].toLowerCase();if(i.includes(Ka.Github.toLowerCase()))return void(this.apiAdaptor=new Oo(e));if(i===Ka.Metaweblog.toLowerCase())return void(this.apiAdaptor=new qo(e));if(i===Ka.Wordpress.toLowerCase())return void(this.apiAdaptor=new qo(e))}}switch(this.type){case _a.API_TYPE_SIYUAN:this.apiAdaptor=new Io;break;case _a.API_TYPE_VUEPRESS:this.apiAdaptor=new zo;break;case _a.API_TYPE_HUGO:this.apiAdaptor=new Qo;break;case _a.API_TYPE_HEXO:this.apiAdaptor=new Zo;break;case _a.API_TYPE_JEKYLL:this.apiAdaptor=new es;break;case _a.API_TYPE_JVUE:this.apiAdaptor=new ts;break;case _a.API_TYPE_CONFLUENCE:this.apiAdaptor=new is;break;case _a.API_TYPE_CNBLOGS:this.apiAdaptor=new as;break;case _a.API_TYPE_WORDPRESS:this.apiAdaptor=new os;break;case _a.API_TYPE_LIANDI:this.apiAdaptor=new rs;break;case _a.API_TYPE_YUQUE:this.apiAdaptor=new us;break;case _a.API_TYPE_KMS:this.apiAdaptor=new gs;break;default:throw new Error("未找到接口适配器，请检查参数")}}async getRecentPostsCount(e){return await this.apiAdaptor.getRecentPostsCount(e)}async getRecentPosts(e,t,i){return await this.apiAdaptor.getRecentPosts(e,t,i)}async getUsersBlogs(){return await this.apiAdaptor.getUsersBlogs()}async getPost(e,t){return await this.apiAdaptor.getPost(e,t)}async editPost(e,t,i){return await this.apiAdaptor.editPost(e,t,i)}async newPost(e,t){return await this.apiAdaptor.newPost(e,t)}async deletePost(e){return await this.apiAdaptor.deletePost(e)}async getCategories(){return await this.apiAdaptor.getCategories()}async getPreviewUrl(e){return await this.apiAdaptor.getPreviewUrl(e)}}const ms={class:"github-setting-basic"},hs={href:"https://github.com/settings/tokens/new",target:"_blank"},bs={key:0,class:"github-setting-advanced"},fs=R({__name:"GithubSetting",props:{isReload:{type:Boolean,default:!1},apiType:{type:String,default:""},cfg:{type:yo,default:null}},setup(e){const t=e,i=pi.getLogger("components/publish/tab/setting/GithubSetting.vue"),{t:a}=ye(),o=$(!1),s=$(!1),n=$(!1),l=$(!0),r=$(),c=F({githubUser:"",githubRepo:"",githubToken:"",defaultBranch:"main",defaultPath:"docs/_posts",msg:"auto published by sy-post-publisher",author:"terwer",email:"youweics@163.com",home:"",baseUrl:"",previewMdUrl:"",previewUrl:"",mdFilenameRule:"[filename]"}),u=F({githubUser:[{required:!0,message:()=>a("form.validate.name.required")}],githubRepo:[{required:!0,message:()=>a("form.validate.name.required")}],githubToken:[{required:!0,message:()=>a("form.validate.name.required")}],defaultBranch:[{required:!0,message:()=>a("form.validate.name.required")}],defaultPath:[{required:!0,message:()=>a("form.validate.name.required")}],msg:[{required:!0,message:()=>a("form.validate.name.required")}],author:[{required:!0,message:()=>a("form.validate.name.required")}],email:[{required:!0,message:()=>a("form.validate.name.required")}]}),p=()=>{o.value=!1},g=()=>{o.value=!0},d=e=>{l.value=e},m=async()=>{s.value=!0,h(!0);const e=Si(t.apiType);let o;try{const i=new ds(t.apiType),a=new Uo;let s;a.postid="content/post/test.md",a.description="# Hello world";try{s=await i.newPost(a)}catch(r){o=r,e.apiStatus=!1,n.value=!1}s?(e.apiStatus=!0,n.value=!0):(e.apiStatus=!1,n.value=!1),l.value&&await i.deletePost(a.postid)}catch(r){e.apiStatus=!1,n.value=!1,i.error(r)}Oi(t.apiType,e),n.value?we.success(a("main.opt.success")):o?we.error(a("setting.blog.vali.error")+"=>"+o):we.error(a("setting.blog.vali.error")),s.value=!1},h=e=>{const i=t.cfg;i.githubUser=c.githubUser,i.githubRepo=c.githubRepo,i.githubToken=c.githubToken,i.defaultPath=c.defaultPath,i.defaultBranch=c.defaultBranch,i.defaultMsg=c.msg,i.author=c.author,i.email=c.email,i.home=c.home,i.baseUrl=c.baseUrl,i.previewMdUrl=c.previewMdUrl,i.previewUrl=c.previewUrl,i.mdFilenameRule=c.mdFilenameRule,i.apiStatus=n.value,Oi(t.apiType,i),!0!==e&&we.success(a("main.opt.success"))};return M((async()=>{(()=>{let e=Si(t.apiType);wi(e)&&(e=t.cfg),e&&(c.githubUser=e.githubUser,c.githubRepo=e.githubRepo,c.githubToken=e.githubToken,c.defaultPath=e.defaultPath,c.defaultBranch=e.defaultBranch,c.msg=e.defaultMsg,c.author=e.author,c.email=e.email,c.home=e.home,c.baseUrl=e.baseUrl,c.previewMdUrl=e.previewMdUrl,c.previewUrl=e.previewUrl,c.mdFilenameRule=e.mdFilenameRule,n.value=e.apiStatus)})()})),(e,t)=>{const b=ve,f=ke,y=Ce,w=Ee,v=Te,_=Se,P=Ue;return Y(),H(P,{"label-width":"120px",ref_key:"formRef",ref:r,model:c,rules:u,"status-icon":""},{default:K((()=>[G(y,{label:e.$t("main.publish.editmode")},{default:K((()=>[G(f,null,{default:K((()=>[G(b,{type:o.value?"default":"primary",onClick:p},{default:K((()=>[q(X(e.$t("main.publish.editmode.simple")),1)])),_:1},8,["type"]),G(b,{type:o.value?"primary":"default",onClick:g},{default:K((()=>[q(X(e.$t("main.publish.editmode.complex")),1)])),_:1},8,["type"])])),_:1})])),_:1},8,["label"]),z("div",ms,[G(y,{label:e.$t("setting.blog.type.github.user"),prop:"githubUser"},{default:K((()=>[G(w,{modelValue:c.githubUser,"onUpdate:modelValue":t[0]||(t[0]=e=>c.githubUser=e),placeholder:e.$t("setting.blog.type.github.user.tip")},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),G(y,{label:e.$t("setting.blog.type.github.repo"),prop:"githubRepo"},{default:K((()=>[G(w,{modelValue:c.githubRepo,"onUpdate:modelValue":t[1]||(t[1]=e=>c.githubRepo=e),placeholder:e.$t("setting.blog.type.github.repo.tip")},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),G(y,{label:e.$t("setting.blog.type.github.default.branch"),prop:"defaultBranch"},{default:K((()=>[G(w,{modelValue:c.defaultBranch,"onUpdate:modelValue":t[2]||(t[2]=e=>c.defaultBranch=e),placeholder:e.$t("setting.blog.type.github.default.branch.tip")},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),G(y,{label:e.$t("setting.blog.type.github.token"),prop:"githubToken"},{default:K((()=>[G(w,{type:"password",modelValue:c.githubToken,"onUpdate:modelValue":t[3]||(t[3]=e=>c.githubToken=e),placeholder:e.$t("setting.blog.type.github.token.tip"),"show-password":""},null,8,["modelValue","placeholder"]),z("a",hs,X(e.$t("setting.blog.type.github.token.gen")),1)])),_:1},8,["label"])]),o.value?(Y(),B("div",bs,[G(y,{label:e.$t("setting.blog.type.github.default.path"),prop:"defaultPath"},{default:K((()=>[G(w,{modelValue:c.defaultPath,"onUpdate:modelValue":t[4]||(t[4]=e=>c.defaultPath=e),placeholder:e.$t("setting.blog.type.github.default.path.tip")},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),G(y,{label:e.$t("setting.blog.type.github.msg"),prop:"msg"},{default:K((()=>[G(w,{modelValue:c.msg,"onUpdate:modelValue":t[5]||(t[5]=e=>c.msg=e),placeholder:e.$t("setting.blog.type.github.msg.tip")},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),G(y,{label:e.$t("setting.blog.type.github.author"),prop:"author"},{default:K((()=>[G(w,{modelValue:c.author,"onUpdate:modelValue":t[6]||(t[6]=e=>c.author=e),placeholder:e.$t("setting.blog.type.github.author.tip")},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),G(y,{label:e.$t("setting.blog.type.github.email"),prop:"email"},{default:K((()=>[G(w,{modelValue:c.email,"onUpdate:modelValue":t[7]||(t[7]=e=>c.email=e),placeholder:e.$t("setting.blog.type.github.email.tip")},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),G(y,{label:e.$t("setting.common.home")},{default:K((()=>[G(w,{modelValue:c.home,"onUpdate:modelValue":t[8]||(t[8]=e=>c.home=e),placeholder:e.$t("setting.common.tip")},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),G(y,{label:e.$t("setting.github.baseUrl")},{default:K((()=>[G(w,{modelValue:c.baseUrl,"onUpdate:modelValue":t[9]||(t[9]=e=>c.baseUrl=e),placeholder:e.$t("setting.github.baseUrl.tip")},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),G(y,{label:e.$t("setting.blog.previewMdUrl")},{default:K((()=>[G(w,{modelValue:c.previewMdUrl,"onUpdate:modelValue":t[10]||(t[10]=e=>c.previewMdUrl=e),placeholder:e.$t("setting.blog.previewMdUrl.tip")},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),G(y,{label:e.$t("setting.blog.previewUrl")},{default:K((()=>[G(w,{modelValue:c.previewUrl,"onUpdate:modelValue":t[11]||(t[11]=e=>c.previewUrl=e),placeholder:e.$t("setting.blog.previewUrl.tip")},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),G(y,{label:e.$t("setting.blog.mdFilenameRule")},{default:K((()=>[G(w,{modelValue:c.mdFilenameRule,"onUpdate:modelValue":t[12]||(t[12]=e=>c.mdFilenameRule=e),placeholder:e.$t("setting.blog.mdFilenameRule.tip")},null,8,["modelValue","placeholder"])])),_:1},8,["label"])])):W("",!0),G(y,{label:e.$t("form.validate.github.auto.delete")},{default:K((()=>[G(v,{modelValue:l.value,"onUpdate:modelValue":t[13]||(t[13]=e=>l.value=e),onChange:d},null,8,["modelValue"])])),_:1},8,["label"]),G(y,null,{default:K((()=>[G(b,{type:"primary",onClick:m,loading:s.value},{default:K((()=>[q(X(s.value?e.$t("setting.blog.vali.ing"):e.$t("setting.blog.vali")),1)])),_:1},8,["loading"]),n.value?W("",!0):(Y(),H(_,{key:0,title:e.$t("setting.blog.vali.tip"),type:"warning",closable:!1},null,8,["title"])),n.value?(Y(),H(_,{key:1,title:e.$t("setting.blog.vali.ok"),type:"success",closable:!1},null,8,["title"])):W("",!0)])),_:1}),G(y,null,{default:K((()=>[G(b,{type:"primary",onClick:t[14]||(t[14]=e=>(async e=>{if(!e)return;await e.validate(((e,t)=>{e?i.debug("校验成功"):i.error(a("main.opt.failure"),t)}))&&h(!1)})(r.value))},{default:K((()=>[q(X(e.$t("setting.blog.save")),1)])),_:1}),G(b,{onClick:t[15]||(t[15]=e=>{var t;(t=r.value)&&t.resetFields()})},{default:K((()=>[q(X(e.$t("setting.blog.cancel")),1)])),_:1})])),_:1})])),_:1},8,["model","rules"])}}}),ys=R({__name:"VuepressSetting",setup(e){const t=$(_a.API_TYPE_VUEPRESS),i=new Xo,a=$(i);return(e,i)=>(Y(),H(fs,{"api-type":t.value,cfg:a.value},null,8,["api-type","cfg"]))}});class ws extends yo{constructor(){super("",Ha.Github_Hugo,"","",""),this.defaultPath="content/post",this.posidKey=Jo.HUGO_POSTID_KEY,this.previewMdUrl="/[user]/[repo]/blob/[branch]/[docpath]",this.previewUrl="/post/[postid].html",this.mdFilenameRule="[slug].md"}}const vs=R({__name:"HugoSetting",setup(e){const t=$(_a.API_TYPE_HUGO),i=new ws,a=$(i);return(e,i)=>(Y(),H(fs,{"api-type":t.value,cfg:a.value},null,8,["api-type","cfg"]))}});class _s extends yo{constructor(){super("",Ha.Github_Hexo,"","",""),this.defaultPath="source/_posts",this.posidKey=Jo.HEXO_POSTID_KEY,this.previewMdUrl="/[user]/[repo]/blob/[branch]/[docpath]",this.previewUrl="/post/[postid].html",this.mdFilenameRule="[slug].md"}}const Ps=R({__name:"HexoSetting",setup(e){const t=$(_a.API_TYPE_HEXO),i=new _s,a=$(i);return(e,i)=>(Y(),H(fs,{"api-type":t.value,cfg:a.value},null,8,["api-type","cfg"]))}});class ks extends yo{constructor(){super("",Ha.Github_Jekyll,"","",""),this.defaultPath="_posts",this.posidKey=Jo.JEKYLL_POSTID_KEY,this.previewMdUrl="/[user]/[repo]/blob/[branch]/[docpath]",this.previewUrl="/post/[postid].html",this.mdFilenameRule="[yyyy]-[mm]-[dd]-[slug].md"}}const Cs=R({__name:"JekyllSetting",setup(e){const t=$(_a.API_TYPE_JEKYLL),i=new ks,a=$(i);return(e,i)=>(Y(),H(fs,{"api-type":t.value,cfg:a.value},null,8,["api-type","cfg"]))}});class Es extends Po{constructor(){super("https://[your-jvue-site]","https://[your-jvue-site]/xmlrpc","",""),this.posidKey=Jo.JVUE_POSTID_KEY,this.previewUrl="/post/[postid].html",this.pageType=vo.Markdown}}const Ts=R({__name:"MetaweblogSetting",props:{isReload:{type:Boolean,default:!1},apiType:{type:String,default:""},cfg:{type:Po,default:null}},setup(e){const t=e,i=pi.getLogger("components/publish/tab/setting/MetaweblogSetting.vue"),{t:a}=ye(),o=parseInt(vo.Markdown.toString()),s=$(""),n=$(""),l=$(""),r=$(""),c=$(""),u=$(o),p=$(!1),g=$(!1),d=$(""),m=$(a("setting.blog.platform.support.metaweblog")+t.apiType+" "),h=async()=>{let e;p.value=!0;try{b(!0);const e=Si(t.apiType),i=new ds(t.apiType),a=await i.getUsersBlogs();if(a&&a.length>0){const t=a[0];e.blogName=t.blogName,d.value=t.blogName,e.apiStatus=!0,g.value=!0}else e.apiStatus=!1,g.value=!1;Oi(t.apiType,e)}catch(o){e=o}g.value?we.success(a("main.opt.success")):we.error(a("setting.blog.vali.error")+"=>"+e),p.value=!1,i.debug("Metaweblog通用Setting验证完毕")},b=e=>{i.debug("Metaweblog通用Setting保存配置");const o=t.cfg;o.home=s.value,o.username=r.value,o.password=c.value,o.apiUrl=n.value,o.previewUrl=l.value,o.blogName=d.value,o.pageType=u.value,o.apiStatus=g.value,Oi(t.apiType,o),!0!==e&&we.success(a("main.opt.success"))};return M((async()=>{(()=>{i.debug("Metaweblog通用Setting配置初始化");let e=Si(t.apiType);wi(e)&&(e=t.cfg),e&&(i.debug("get setting conf=>",e),s.value=e.home,n.value=e.apiUrl,l.value=e.previewUrl,r.value=e.username,c.value=e.password,d.value=e.blogName,u.value=e.pageType,g.value=e.apiStatus)})()})),(e,i)=>{const a=Se,o=Ee,f=Ce,y=Ie,w=Ae,v=ve,_=Ue;return Y(),H(_,{"label-width":"120px"},{default:K((()=>[G(a,{class:"top-version-tip",title:m.value+d.value,type:"info",closable:!1},null,8,["title"]),G(f,{label:e.$t("setting.blog.url")},{default:K((()=>[G(o,{modelValue:s.value,"onUpdate:modelValue":i[0]||(i[0]=e=>s.value=e),placeholder:t.cfg.placeholder.homePlaceholder},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),G(f,{label:e.$t("setting.blog.username")},{default:K((()=>[G(o,{modelValue:r.value,"onUpdate:modelValue":i[1]||(i[1]=e=>r.value=e),placeholder:t.cfg.placeholder.usernamePlaceholder},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),G(f,{label:e.$t("setting.blog.password")},{default:K((()=>[G(o,{type:"password",modelValue:c.value,"onUpdate:modelValue":i[2]||(i[2]=e=>c.value=e),"show-password":"",placeholder:t.cfg.placeholder.passwordPlaceholder},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),G(f,{label:e.$t("setting.blog.apiurl")},{default:K((()=>[G(o,{modelValue:n.value,"onUpdate:modelValue":i[3]||(i[3]=e=>n.value=e),placeholder:t.cfg.placeholder.apiUrlPlaceholder},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),G(f,{label:e.$t("setting.blog.previewUrl")},{default:K((()=>[G(o,{modelValue:l.value,"onUpdate:modelValue":i[4]||(i[4]=e=>l.value=e),placeholder:t.cfg.placeholder.previewUrlPlaceholder},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),G(f,{label:e.$t("setting.blog.pageType")},{default:K((()=>[G(w,{modelValue:u.value,"onUpdate:modelValue":i[5]||(i[5]=e=>u.value=e),class:"ml-4"},{default:K((()=>[G(y,{label:0,size:"large"},{default:K((()=>[q("Markdown")])),_:1}),G(y,{label:1,size:"large"},{default:K((()=>[q("HTML")])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["label"]),G(f,null,{default:K((()=>[G(v,{type:"primary",onClick:h,loading:p.value},{default:K((()=>[q(X(p.value?e.$t("setting.blog.vali.ing"):e.$t("setting.blog.vali")),1)])),_:1},8,["loading"]),g.value?W("",!0):(Y(),H(a,{key:0,title:e.$t("setting.blog.vali.tip.metaweblog"),type:"warning",closable:!1},null,8,["title"])),g.value?(Y(),H(a,{key:1,title:e.$t("setting.blog.vali.ok.metaweblog"),type:"success",closable:!1},null,8,["title"])):W("",!0)])),_:1}),G(f,null,{default:K((()=>[G(v,{type:"primary",onClick:b},{default:K((()=>[q(X(e.$t("setting.blog.save")),1)])),_:1}),G(v,null,{default:K((()=>[q(X(e.$t("setting.blog.cancel")),1)])),_:1})])),_:1})])),_:1})}}}),Ss=R({__name:"JVueSetting",setup(e){const t=$(_a.API_TYPE_JVUE),{t:i}=ye(),a=new Es,o=new _o;o.homePlaceholder=i("setting.jvue.home.tip"),o.usernamePlaceholder=i("setting.jvue.username.tip"),o.passwordPlaceholder=i("setting.jvue.password.tip"),o.apiUrlPlaceholder=i("setting.jvue.apiUrl.tip"),o.previewUrlPlaceholder=i("setting.jvue.previewUrl.tip"),a.placeholder=o;const s=$(a);return(e,i)=>(Y(),H(Ts,{"api-type":t.value,cfg:s.value},null,8,["api-type","cfg"]))}});class Us extends Po{constructor(){super("https://youweics.atlassian.net/wiki/spaces/[spaceKey]","http://localhost:3000/api/xmlrpc","",""),this.posidKey=Jo.CONFLUENCE_POSTID_KEY,this.previewUrl="pages/[postid]",this.pageType=vo.Html}}const Is=R({__name:"ConfluenceSetting",setup(e){const t=$(_a.API_TYPE_CONFLUENCE),{t:i}=ye(),a=new Us,o=new _o;o.homePlaceholder=i("setting.conf.home.tip"),o.usernamePlaceholder=i("setting.conf.username.tip"),o.passwordPlaceholder=i("setting.conf.password.tip"),o.apiUrlPlaceholder=i("setting.conf.apiUrl.tip"),o.previewUrlPlaceholder=i("setting.conf.previewUrl.tip"),a.placeholder=o;const s=$(a);return(e,i)=>(Y(),H(Ts,{"api-type":t.value,cfg:s.value},null,8,["api-type","cfg"]))}});class As extends Po{constructor(){super("https://www.cnblogs.com/[yourblog]","https://rpc.cnblogs.com/metaweblog/[yourblog]","",""),this.posidKey=Jo.CNBLOGS_POSTID_KEY,this.previewUrl="/p/[postid].html",this.pageType=vo.Markdown}}const Os=R({__name:"CnblogsSetting",setup(e){const t=$(_a.API_TYPE_CNBLOGS),{t:i}=ye(),a=new As,o=new _o;o.homePlaceholder=i("setting.cnblogs.home.tip"),o.usernamePlaceholder=i("setting.cnblogs.username.tip"),o.passwordPlaceholder=i("setting.cnblogs.password.tip"),o.apiUrlPlaceholder=i("setting.cnblogs.apiUrl.tip"),o.previewUrlPlaceholder=i("setting.cnblogs.previewUrl.tip"),a.placeholder=o;const s=$(a);return(e,i)=>(Y(),H(Ts,{"api-type":t.value,cfg:s.value},null,8,["api-type","cfg"]))}});class xs extends Po{constructor(){super("http://localhost:8000","http://localhost:8000/xmlrpc.php","",""),this.posidKey=Jo.WORDPRESS_POSTID_KEY,this.previewUrl="/?p=[postid]",this.pageType=vo.Markdown}}const Ns=R({__name:"WordpressSetting",setup(e){const t=$(_a.API_TYPE_WORDPRESS),{t:i}=ye(),a=new xs,o=new _o;o.homePlaceholder=i("setting.wordpress.home.tip"),o.usernamePlaceholder=i("setting.wordpress.username.tip"),o.passwordPlaceholder=i("setting.wordpress.password.tip"),o.apiUrlPlaceholder=i("setting.wordpress.apiUrl.tip"),o.previewUrlPlaceholder=i("setting.wordpress.previewUrl.tip"),a.placeholder=o;const s=$(a);return(e,i)=>(Y(),H(Ts,{"api-type":t.value,cfg:s.value},null,8,["api-type","cfg"]))}});class Ds{constructor(){a(this,"homePlaceholder"),a(this,"apiUrlPlaceholder"),a(this,"usernamePlaceholder"),a(this,"passwordPlaceholder"),a(this,"tokenPlaceholder"),a(this,"apiStatusPlaceholder"),a(this,"blogNamePlaceholder"),a(this,"blogidPlaceholder"),a(this,"posidKeyPlaceholder"),a(this,"previewUrlPlaceholder"),a(this,"pageTypePlaceholder"),a(this,"tokenSettingUrl")}}class Ls{constructor(){a(this,"home"),a(this,"apiUrl"),a(this,"username"),a(this,"password"),a(this,"token"),a(this,"apiStatus"),a(this,"blogName"),a(this,"blogid"),a(this,"posidKey"),a(this,"previewUrl"),a(this,"pageType"),a(this,"tokenSettingUrl"),a(this,"placeholder"),this.home="",this.apiUrl="",this.username="",this.password="",this.token="",this.apiStatus=!1,this.blogName="",this.blogid="",this.posidKey="",this.previewUrl="",this.pageType=vo.Markdown,this.tokenSettingUrl="",this.placeholder=new Ds}}class Vs extends Ls{constructor(){super(),this.home="https://ld246.com/",this.apiUrl="https://ld246.com/api/v2",this.tokenSettingUrl="https://ld246.com/settings/account",this.posidKey=Jo.LIANDI_POSTID_KEY,this.previewUrl="/article/[postid]",this.pageType=vo.Markdown}}const Rs=["href"],$s=["href"],Ms=R({__name:"CommonBlogSetting",props:{isReload:{type:Boolean,default:!1},apiType:{type:String,default:""},cfg:{type:Ls,default:null},usernameEnabled:{type:Boolean,default:!1},passwordEnabled:{type:Boolean,default:!1},tokenEnabled:{type:Boolean,default:!1}},setup(e){const t=e,i=pi.getLogger("components/publish/tab/setting/CommonBlogSetting.vue"),{t:a}=ye(),o=$(""),s=$(""),n=$(""),l=$(""),r=$(""),c=$(!1),u=$(!1),p=$(""),g=$(""),d=$(""),m=$(a("setting.blog.platform.support.common")+t.apiType+" "),h=async()=>{c.value=!0;try{b(!0);const e=Si(t.apiType),i=new ds(t.apiType),a=await i.getUsersBlogs();if(a&&a.length>0){const i=a[0];e.apiStatus=!0,u.value=!0,e.blogName=i.blogName,p.value=i.blogName,e.blogid=i.blogid,g.value=i.blogid,Oi(t.apiType,e)}else e.apiStatus=!1,u.value=!1,Oi(t.apiType,e)}catch(e){}u.value?we.success(a("main.opt.success")):we.error(a("setting.blog.vali.error")),c.value=!1,i.debug("通用Setting验证完毕")},b=e=>{i.debug("Metaweblog通用Setting保存配置");const c=t.cfg;c.home=o.value,c.username=n.value,c.password=l.value,c.token=r.value,c.apiUrl=s.value,c.apiStatus=u.value,c.blogName=p.value,c.blogid=g.value,Oi(t.apiType,c),!0!==e&&we.success(a("main.opt.success"))};return M((async()=>{(()=>{i.debug("通用Setting配置初始化");let e=Si(t.apiType);wi(e)&&(e=t.cfg),e&&(i.debug("get setting conf=>",e),o.value=e.home||"",s.value=e.apiUrl||"",n.value=e.username||"",l.value=e.password||"",r.value=e.token||"",u.value=e.apiStatus||!1,p.value=e.blogName||"",g.value=e.blogid||"",d.value=e.tokenSettingUrl||"")})()})),(e,i)=>{const a=Se,g=Ee,f=Ce,y=ve,w=Ue;return Y(),H(w,{"label-width":"120px"},{default:K((()=>[G(a,{class:"top-version-tip",title:m.value+p.value,type:"info",closable:!1},null,8,["title"]),G(f,{label:e.$t("setting.common.home")},{default:K((()=>[G(g,{modelValue:o.value,"onUpdate:modelValue":i[0]||(i[0]=e=>o.value=e),placeholder:t.cfg.placeholder.homePlaceholder},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),t.usernameEnabled?(Y(),H(f,{key:0,label:e.$t("setting.common.username")},{default:K((()=>[G(g,{modelValue:n.value,"onUpdate:modelValue":i[1]||(i[1]=e=>n.value=e),placeholder:t.cfg.placeholder.usernamePlaceholder},null,8,["modelValue","placeholder"])])),_:1},8,["label"])):W("",!0),t.passwordEnabled?(Y(),H(f,{key:1,label:e.$t("setting.common.password")},{default:K((()=>[G(g,{type:"password",modelValue:l.value,"onUpdate:modelValue":i[2]||(i[2]=e=>l.value=e),"show-password":"",placeholder:t.cfg.placeholder.passwordPlaceholder},null,8,["modelValue","placeholder"]),z("a",{href:d.value,target:"_blank"},X(e.$t("setting.common.username.gen"))+"："+X(d.value),9,Rs)])),_:1},8,["label"])):W("",!0),t.tokenEnabled?(Y(),H(f,{key:2,label:e.$t("setting.common.token")},{default:K((()=>[G(g,{type:"password",modelValue:r.value,"onUpdate:modelValue":i[3]||(i[3]=e=>r.value=e),"show-password":"",placeholder:t.cfg.placeholder.passwordPlaceholder},null,8,["modelValue","placeholder"]),z("a",{href:d.value,target:"_blank"},X(e.$t("setting.common.token.gen"))+"："+X(d.value),9,$s)])),_:1},8,["label"])):W("",!0),G(f,{label:e.$t("setting.common.apiurl")},{default:K((()=>[G(g,{modelValue:s.value,"onUpdate:modelValue":i[4]||(i[4]=e=>s.value=e),placeholder:t.cfg.placeholder.apiUrlPlaceholder},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),G(f,null,{default:K((()=>[G(y,{type:"primary",onClick:h,loading:c.value},{default:K((()=>[q(X(c.value?e.$t("setting.blog.vali.ing"):e.$t("setting.blog.vali")),1)])),_:1},8,["loading"]),u.value?W("",!0):(Y(),H(a,{key:0,title:e.$t("setting.blog.vali.tip.metaweblog"),type:"warning",closable:!1},null,8,["title"])),u.value?(Y(),H(a,{key:1,title:e.$t("setting.blog.vali.ok.metaweblog"),type:"success",closable:!1},null,8,["title"])):W("",!0)])),_:1}),G(f,null,{default:K((()=>[G(y,{type:"primary",onClick:b},{default:K((()=>[q(X(e.$t("setting.blog.save")),1)])),_:1}),G(y,null,{default:K((()=>[q(X(e.$t("setting.blog.cancel")),1)])),_:1})])),_:1})])),_:1})}}}),js=R({__name:"LiandiSetting",setup(e){const{t:t}=ye(),i=$(_a.API_TYPE_LIANDI),a=new Vs,o=new Ds;o.homePlaceholder=t("setting.liandi.home.tip"),o.usernamePlaceholder=t("setting.liandi.username.tip"),o.passwordPlaceholder=t("setting.liandi.password.tip"),o.apiUrlPlaceholder=t("setting.liandi.apiurl.tip"),a.placeholder=o;const s=$(a);return(e,t)=>(Y(),H(Ms,{"api-type":i.value,"username-enabled":!0,"token-enabled":!0,cfg:s.value},null,8,["api-type","cfg"]))}});class Ys extends Ls{constructor(){super(),this.home="https://www.yuque.com/",this.apiUrl="https://www.yuque.com/api/v2",this.tokenSettingUrl="https://www.yuque.com/settings/tokens",this.posidKey=Jo.YUQUE_POSTID_KEY,this.previewUrl="/[notebook]/[postid]",this.pageType=vo.Markdown}}const Bs=R({__name:"YuqueSetting",setup(e){const{t:t}=ye(),i=$(_a.API_TYPE_YUQUE),a=new Ys,o=new Ds;o.homePlaceholder=t("setting.yuque.home.tip"),o.usernamePlaceholder=t("setting.yuque.username.tip"),o.passwordPlaceholder=t("setting.yuque.password.tip"),o.apiUrlPlaceholder=t("setting.yuque.apiurl.tip"),a.placeholder=o;const s=$(a);return(e,t)=>(Y(),H(Ms,{"api-type":i.value,"username-enabled":!0,"token-enabled":!0,cfg:s.value},null,8,["api-type","cfg"]))}});class Gs extends Ls{constructor(){super(),this.home="http://localhost:9564/kms16_release/kms/multidoc",this.apiUrl="http://localhost:9564/kms16_release/api/kms-multidoc/kmsMultidocKnowledgeRestService",this.tokenSettingUrl="http://localhost:9564/kms16_release/sys/profile/index.jsp#integrate/RestService/",this.posidKey=Jo.KMS_POSTID_KEY,this.previewUrl="/kms_multidoc_knowledge/kmsMultidocKnowledge.do?method=view&fdId=[postid]",this.pageType=vo.Html}}const Ks=R({__name:"KmsSetting",setup(e){const{t:t}=ye(),i=$(_a.API_TYPE_KMS),a=new Gs,o=new Ds;o.homePlaceholder=t("setting.kms.home.tip"),o.usernamePlaceholder=t("setting.kms.username.tip"),o.passwordPlaceholder=t("setting.kms.password.tip"),o.apiUrlPlaceholder=t("setting.kms.apiurl.tip"),a.placeholder=o;const s=$(a);return(e,t)=>(Y(),H(Ms,{"api-type":i.value,"username-enabled":!0,"password-enabled":!0,cfg:s.value},null,8,["api-type","cfg"]))}}),Hs="githubHugo-zdlc6l",Ws="metaweblog-zahrlw",qs="metaweblog-22pamt",Fs={key:1},Js=R({__name:"PlatformSetting",props:{isReload:{type:Boolean,default:!1}},setup(e){const t=e,i=pi.getLogger("components/publish/tab/PlatformSetting.vue"),{tabCountStore:a,vuepressEnabled:o,hugoEnabled:s,hexoEnabled:l,jekyllEnabled:r,jvueEnabled:c,confEnabled:u,cnblogsEnabled:p,wordpressEnabled:g,liandiEnabled:d,yuqueEnabled:m,kmsEnabled:h,doCount:b}=fo(),f=F({dynamicConfigArray:[],githubArray:[],metaweblogArray:[],wordpressArray:[]}),{t:y}=ye(),w=$((e=>new wo(e))),v=$((e=>{const t=new ko(eo(e.platformKey)),i=new _o,a=new _o;switch(e.platformKey){case qs:i.homePlaceholder=y("setting.typecho.home.tip"),i.usernamePlaceholder=y("setting.typecho.username.tip"),i.passwordPlaceholder=y("setting.typecho.password.tip"),i.apiUrlPlaceholder=y("setting.typecho.apiUrl.tip"),i.previewUrlPlaceholder=y("setting.typecho.previewUrl.tip"),t.placeholder=i;break;case Ws:a.homePlaceholder=y("setting.oschina.home.tip"),a.usernamePlaceholder=y("setting.oschina.username.tip"),a.passwordPlaceholder=y("setting.oschina.password.tip"),a.apiUrlPlaceholder=y("setting.oschina.apiUrl.tip"),a.previewUrlPlaceholder=y("setting.oschina.previewUrl.tip"),t.placeholder=a}return t})),_=$((e=>{const t=new Co(eo(e.platformKey));return e.platformKey,t})),P=e=>{const t=[];return e.forEach((e=>{const i=new Ga(e.platformType,e.platformKey,e.platformName);i.subPlatformType=e.subPlatformType;const a=za(e.platformKey),o=Ti(a);i.modelValue=o,o&&t.push(i)})),t},k=()=>{b();const e=qa();f.dynamicConfigArray=P(e.totalCfg||[]),f.githubArray=P(e.githubCfg||[]),f.metaweblogArray=P(e.metaweblogCfg||[]),f.wordpressArray=P(e.wordpressCfg||[]),i.debug("dynamicJsonCfg=>",JSON.stringify(e))};return Q((()=>t.isReload),((e,t)=>{k(),i.debug("platform-setting初始化")})),M((()=>{k()})),(e,t)=>{const i=Oe,b=xe,y=Se;return n(a).tabCount>0?(Y(),H(b,{key:0,type:"border-card"},{default:K((()=>[n(o)?(Y(),H(i,{key:0,label:e.$t("setting.vuepress")+e.$t("setting.blog.setting")},{default:K((()=>[G(ys)])),_:1},8,["label"])):W("",!0),n(s)?(Y(),H(i,{key:1,label:e.$t("setting.hugo")+e.$t("setting.blog.setting")},{default:K((()=>[G(vs)])),_:1},8,["label"])):W("",!0),n(l)?(Y(),H(i,{key:2,label:e.$t("setting.hexo")+e.$t("setting.blog.setting")},{default:K((()=>[G(Ps)])),_:1},8,["label"])):W("",!0),n(r)?(Y(),H(i,{key:3,label:e.$t("setting.jekyll")+e.$t("setting.blog.setting")},{default:K((()=>[G(Cs)])),_:1},8,["label"])):W("",!0),n(c)?(Y(),H(i,{key:4,label:e.$t("setting.jvue")+e.$t("setting.blog.setting")},{default:K((()=>[G(Ss)])),_:1},8,["label"])):W("",!0),n(u)?(Y(),H(i,{key:5,label:e.$t("setting.conf")+e.$t("setting.blog.setting")},{default:K((()=>[G(Is)])),_:1},8,["label"])):W("",!0),n(p)?(Y(),H(i,{key:6,label:e.$t("setting.cnblogs")+e.$t("setting.blog.setting")},{default:K((()=>[G(Os)])),_:1},8,["label"])):W("",!0),n(g)?(Y(),H(i,{key:7,label:e.$t("setting.wordpress")+e.$t("setting.blog.setting")},{default:K((()=>[G(Ns)])),_:1},8,["label"])):W("",!0),n(d)?(Y(),H(i,{key:8,label:e.$t("setting.liandi")+e.$t("setting.blog.setting")},{default:K((()=>[G(js)])),_:1},8,["label"])):W("",!0),n(m)?(Y(),H(i,{key:9,label:e.$t("setting.yuque")+e.$t("setting.blog.setting")},{default:K((()=>[G(Bs)])),_:1},8,["label"])):W("",!0),n(h)?(Y(),H(i,{key:10,label:e.$t("setting.kms")+e.$t("setting.blog.setting")},{default:K((()=>[G(Ks)])),_:1},8,["label"])):W("",!0),(Y(!0),B(ee,null,Z(f.githubArray,(t=>(Y(),H(i,{key:t.platformKey,label:t.platformName+e.$t("setting.blog.setting")},{default:K((()=>[G(fs,{"api-type":t.platformKey,cfg:w.value(t)},null,8,["api-type","cfg"])])),_:2},1032,["label"])))),128)),(Y(!0),B(ee,null,Z(f.metaweblogArray,(t=>(Y(),H(i,{key:t.platformKey,label:t.platformName+e.$t("setting.blog.setting")},{default:K((()=>[G(Ts,{"api-type":t.platformKey,cfg:v.value(t)},null,8,["api-type","cfg"])])),_:2},1032,["label"])))),128)),(Y(!0),B(ee,null,Z(f.wordpressArray,(t=>(Y(),H(i,{key:t.platformKey,label:t.platformName+e.$t("setting.blog.setting")},{default:K((()=>[G(Ns,{"api-type":t.platformKey,cfg:_.value(t)},null,8,["api-type","cfg"])])),_:2},1032,["label"])))),128))])),_:1})):(Y(),B("div",Fs,[G(y,{class:"top-version-tip",title:e.$t("config.platform.none"),type:"error",closable:!1},null,8,["title"])]))}}}),Xs={key:1},zs=go(R({__name:"ServiceSwitch",props:{isReload:{type:Boolean,default:!1}},setup(e){const t=e,{tabCountStore:i,vuepressEnabled:a,hugoEnabled:o,hexoEnabled:l,jekyllEnabled:r,jvueEnabled:c,confEnabled:u,cnblogsEnabled:p,wordpressEnabled:g,liandiEnabled:d,yuqueEnabled:m,kmsEnabled:h,switchFormData:b,doCount:f}=fo(),y=$(!1),w=e=>{Ai(bo.SWITCH_VUEPRESS_KEY,e),A()},v=e=>{Ai(bo.SWITCH_HUGO_KEY,e),A()},_=e=>{Ai(bo.SWITCH_HEXO_KEY,e),A()},P=e=>{Ai(bo.SWITCH_JEKYLL_KEY,e),A()},k=e=>{Ai(bo.SWITCH_JVUE_KEY,e),A()},C=e=>{Ai(bo.SWITCH_CNBLOGS_KEY,e),A()},E=e=>{Ai(bo.SWITCH_WORDPRESS_KEY,e),A()},T=e=>{Ai(bo.SWITCH_LIANDI_KEY,e),A()},S=e=>{Ai(bo.SWITCH_YUQUE_KEY,e),A()},U=e=>{Ai(bo.SWITCH_KMS_KEY,e),A()},I=e=>{const t=function(e){const t=e.split("_");return{switchKey:za(t[0]),switchValue:"true"===t[1]}}(e);Ai(t.switchKey,t.switchValue),A()},A=()=>{f(),0===i.tabCount?y.value=!0:y.value=!1};return Q((()=>t.isReload),(async(e,t)=>{A()})),M((()=>{A()})),(e,t)=>{const i=Te,u=Ce,f=Se,A=Ue;return Y(),H(A,{class:"switch-form",inline:"","label-width":"150px"},{default:K((()=>[G(u,{label:e.$t("service.switch.vuepress")},{default:K((()=>[G(i,{modelValue:n(a),"onUpdate:modelValue":t[0]||(t[0]=e=>s(a)?a.value=e:null),onChange:w},null,8,["modelValue"])])),_:1},8,["label"]),G(u,{label:e.$t("service.switch.hugo")},{default:K((()=>[G(i,{modelValue:n(o),"onUpdate:modelValue":t[1]||(t[1]=e=>s(o)?o.value=e:null),onChange:v},null,8,["modelValue"])])),_:1},8,["label"]),G(u,{label:e.$t("service.switch.hexo")},{default:K((()=>[G(i,{modelValue:n(l),"onUpdate:modelValue":t[2]||(t[2]=e=>s(l)?l.value=e:null),onChange:_},null,8,["modelValue"])])),_:1},8,["label"]),G(u,{label:e.$t("service.switch.jekyll")},{default:K((()=>[G(i,{modelValue:n(r),"onUpdate:modelValue":t[3]||(t[3]=e=>s(r)?r.value=e:null),onChange:P},null,8,["modelValue"])])),_:1},8,["label"]),G(u,{label:e.$t("service.switch.jvue")},{default:K((()=>[G(i,{modelValue:n(c),"onUpdate:modelValue":t[4]||(t[4]=e=>s(c)?c.value=e:null),onChange:k},null,8,["modelValue"])])),_:1},8,["label"]),W("",!0),G(u,{label:e.$t("service.switch.cnblogs")},{default:K((()=>[G(i,{modelValue:n(p),"onUpdate:modelValue":t[6]||(t[6]=e=>s(p)?p.value=e:null),onChange:C},null,8,["modelValue"])])),_:1},8,["label"]),G(u,{label:e.$t("service.switch.wordpress")},{default:K((()=>[G(i,{modelValue:n(g),"onUpdate:modelValue":t[7]||(t[7]=e=>s(g)?g.value=e:null),onChange:E},null,8,["modelValue"])])),_:1},8,["label"]),G(u,{label:e.$t("service.switch.liandi")},{default:K((()=>[G(i,{modelValue:n(d),"onUpdate:modelValue":t[8]||(t[8]=e=>s(d)?d.value=e:null),onChange:T},null,8,["modelValue"])])),_:1},8,["label"]),G(u,{label:e.$t("service.switch.yuque")},{default:K((()=>[G(i,{modelValue:n(m),"onUpdate:modelValue":t[9]||(t[9]=e=>s(m)?m.value=e:null),onChange:S},null,8,["modelValue"])])),_:1},8,["label"]),G(u,{label:e.$t("service.switch.kms")},{default:K((()=>[G(i,{modelValue:n(h),"onUpdate:modelValue":t[10]||(t[10]=e=>s(h)?h.value=e:null),onChange:U},null,8,["modelValue"])])),_:1},8,["label"]),(Y(!0),B(ee,null,Z(n(b).dynamicConfigArray,(e=>(Y(),H(u,{key:e.posid,label:e.platformName},{default:K((()=>[G(i,{modelValue:e.modelValue,"onUpdate:modelValue":t=>e.modelValue=t,"active-value":n(Qa)(e.platformKey),"inactive-value":n(Za)(e.platformKey),onChange:I},null,8,["modelValue","onUpdate:modelValue","active-value","inactive-value"])])),_:2},1032,["label"])))),128)),y.value?(Y(),B("div",Xs,[z("p",null,[G(f,{title:e.$t("platform.must.select.one"),type:"error",closable:!1},null,8,["title"])])])):W("",!0)])),_:1})}}}),[["__scopeId","data-v-c6f66bd8"]]),Qs=[{platformType:"Github",subPlatformType:"Github_Hugo",platformKey:"githubHugo-zdlc6l",platformName:"Docsy"},{platformType:"Github",subPlatformType:"Github_Vitepress",platformKey:"githubVitepress-mhxj3",platformName:"Vitepress"},{platformType:"Github",subPlatformType:"Github_Nuxt",platformKey:"githubNuxt-z1xcb7x",platformName:"Nuxt content"},{platformType:"Github",subPlatformType:"Github_Next",platformKey:"githubNext-ziz9v8",platformName:"Nextra"}],Zs=[{platformType:"Metaweblog",subPlatformType:"none",platformKey:"metaweblog-zahrlw",platformName:"开源中国"},{platformType:"Metaweblog",subPlatformType:"none",platformKey:"metaweblog-22pamt",platformName:"Typecho"}],en=[],tn=pi.getLogger("utils/import/importUtil.ts"),an=[Hs,qs],on=(e,t)=>{if(Xa(t,e))return an.includes(e)&&nn(e,t),!1;const i="switch-"+e,a="custom-"+e+"-post-id";return!(Ni(e)||Ni(i)||Ni(a))},sn=(e,t,i,a)=>{const o=new Ga(e,t,i);return o.subPlatformType=a,o},nn=(e,t)=>{for(let i=0;i<t.length;i++){if(t[i].platformKey!==e)continue;const a=t[i];tn.debug("pcfg=>",a),qs===e&&"Typeecho"===a.platformName&&(a.platformName="Typecho",tn.warn("Typeecho 已经修正为=>",a.platformName)),Hs==e&&"Docsy"!==a.platformName&&(a.platformName="Docsy",tn.warn("Docsy 已经修正为=>",a.platformName))}},ln=go(R({__name:"DynamicPlatform",setup(e){const t=pi.getLogger("components/publish/tab/DynamicPlatform.vue"),{t:i}=ye(),a=$(!0),o=Ha.Github_Jekyll,s=$(),l=F({subtype:o,ptype:Ka.Github,dynCfg:new Ga(Ka.Github,Ja(Ka.Github,o),"Jekyll-1"),subtypeOptions:[],dynamicConfigArray:[]}),r=F({platformName:[{required:!0,message:()=>i("form.validate.name.required")}]}),c=e=>{l.subtype=e,t.debug(l.subtype),u(l.ptype)},u=e=>{l.ptype=e,l.subtypeOptions=Wa(e);const i=function(e,t,i){if("Github"===e&&"none"===t)return"";let a=e;return i&&(a=t),a+="-1",a}(e,l.subtype,l.subtypeOptions.length>0&&l.subtype!==Ha.NONE);l.dynCfg=new Ga(e,Ja(e,l.subtypeOptions.length>0?l.subtype:Ha.NONE),i),a.value=l.ptype!==Ka.Custom,t.debug(l.ptype)},p=async e=>{if(!e)return;if(!(e=>{if(l.ptype===Ka.Custom)return we.error(i("dynamic.platform.opt.noselect")),!1;const a=l.dynCfg.platformKey;if(t.debug("将要保存的平台key",a),Xa(l.dynamicConfigArray,a))return we.error(i("dynamic.platform.opt.key.exist")),!1;const o="switch-"+a,s="custom-"+a+"-post-id";return!(Ni(a)||Ni(o)||Ni(s))||(we.error(i("dynamic.platform.opt.key.exist")),!1)})())return;if(!(await e.validate(((e,a)=>{e?t.debug("校验成功"):t.error(i("main.opt.failure"),a)}))))return;const a=new Ga(l.ptype,l.dynCfg.platformKey,l.dynCfg.platformName);l.ptype===Ka.Github?a.subPlatformType=l.subtype:a.subPlatformType=Ha.NONE,l.dynamicConfigArray.push(a),Fa(l.dynamicConfigArray),y(),we.success(i("main.opt.success"))},g=[],d=$(0),m=$(),h=$(i("dynamic.platform.opt.item.select")),b=e=>{m.value=e,h.value=i("dynamic.platform.opt.item.select.tip")+m.value.platformName,t.debug(m.value)},f=async()=>{Me.confirm(i("dynamic.platform.opt.del.confirm"),i("main.opt.warning"),{confirmButtonText:i("main.opt.ok"),cancelButtonText:i("main.opt.cancel"),type:"warning"}).then((async()=>{if(m.value&&m.value.platformKey){for(let e=0;e<l.dynamicConfigArray.length;e++)m.value.platformKey===l.dynamicConfigArray[e].platformKey&&l.dynamicConfigArray.splice(e,1);Fa(l.dynamicConfigArray),y(),we.success(i("main.opt.success"))}else we.error(i("dynamic.platform.opt.item.no.select.tip"))})).catch((()=>{}))},y=()=>{g.length=0;for(let e=0;e<l.dynamicConfigArray.length;e++)g.push(l.dynamicConfigArray[e]);d.value=l.dynamicConfigArray.length};return M((async()=>{t.info("开始导入预定义平台..."),(()=>{const e=qa().totalCfg||[];Qs&&Qs.length>0&&Qs.forEach((t=>{if(on(t.platformKey,e)){const i=sn(Ka[t.platformType],t.platformKey,t.platformName,Ha[t.subPlatformType]);e.push(i)}})),Zs&&Zs.length>0&&Zs.forEach((t=>{if(on(t.platformKey,e)){const i=sn(Ka[t.platformType],t.platformKey,t.platformName,Ha.NONE);e.push(i)}})),en&&en.length>0&&en.forEach((t=>{if(on(t.platformKey,e)){const i=sn(Ka[t.platformType],t.platformKey,t.platformName,Ha.NONE);e.push(i)}})),tn.debug("将要导入预定义平台：",e),Fa(e)})(),t.info("导入预定义平台成功."),await(async()=>{l.subtypeOptions=Wa(Ka.Github),l.dynamicConfigArray=qa().totalCfg||[],y(),t.debug("dynamic init page=>",l.dynamicConfigArray)})()})),(e,t)=>{const i=Se,o=ve,y=ke,w=Ce,v=Ne,_=De,P=Ee,k=Ue,C=Pe,E=Le,T=Ve,S=Re,U=$e;return Y(),H(U,null,{default:K((()=>[G(C,{height:"300px",class:"publish-dyn-header"},{default:K((()=>[G(k,{"label-width":"165px",ref_key:"formRef",ref:s,model:l.dynCfg,rules:r},{default:K((()=>[G(i,{class:"top-version-tip",title:e.$t("dynamic.platform.tip"),type:"info",closable:!1},null,8,["title"]),G(w,{label:e.$t("dynamic.platform.type")},{default:K((()=>[G(y,null,{default:K((()=>[G(o,{type:l.ptype===n(Ka).Github?"primary":"",onClick:t[0]||(t[0]=e=>u(n(Ka).Github))},{default:K((()=>[q(X(e.$t("dynamic.platform.type.github")),1)])),_:1},8,["type"]),G(o,{type:l.ptype===n(Ka).Metaweblog?"primary":"",onClick:t[1]||(t[1]=e=>u(n(Ka).Metaweblog))},{default:K((()=>[q(X(e.$t("dynamic.platform.type.metaweblog")),1)])),_:1},8,["type"]),G(o,{type:l.ptype===n(Ka).Wordpress?"primary":"",onClick:t[2]||(t[2]=e=>u(n(Ka).Wordpress))},{default:K((()=>[q(X(e.$t("dynamic.platform.type.wordpress")),1)])),_:1},8,["type"]),G(o,{type:l.ptype===n(Ka).Custom?"primary":"",onClick:t[3]||(t[3]=e=>u(n(Ka).Custom))},{default:K((()=>[q(X(e.$t("dynamic.platform.type.custom")),1)])),_:1},8,["type"])])),_:1})])),_:1},8,["label"]),a.value?W("",!0):(Y(),H(w,{key:0},{default:K((()=>[G(i,{title:"敬请期待",type:"info",closable:!1})])),_:1})),l.subtypeOptions.length>0&&a.value?(Y(),H(w,{key:1},{default:K((()=>[G(_,{modelValue:l.subtype,"onUpdate:modelValue":t[4]||(t[4]=e=>l.subtype=e),class:"m-2",placeholder:"Select",onChange:c},{default:K((()=>[(Y(!0),B(ee,null,Z(l.subtypeOptions,(e=>(Y(),H(v,{key:e,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})):W("",!0),a.value?(Y(),H(w,{key:2,label:l.ptype+e.$t("dynamic.platform.name"),prop:"platformName"},{default:K((()=>[G(P,{modelValue:l.dynCfg.platformName,"onUpdate:modelValue":t[5]||(t[5]=e=>l.dynCfg.platformName=e),placeholder:e.$t("dynamic.platform.name.tip")},null,8,["modelValue","placeholder"])])),_:1},8,["label"])):W("",!0),W("",!0),a.value?(Y(),H(w,{key:4},{default:K((()=>[G(o,{type:"primary",onClick:t[6]||(t[6]=e=>p(s.value))},{default:K((()=>[q(X(e.$t("dynamic.platform.opt.add")),1)])),_:1})])),_:1})):W("",!0)])),_:1},8,["model","rules"])])),_:1}),G(S,{class:"dyn-table-list"},{default:K((()=>[G(w,null,{default:K((()=>[(Y(),H(T,{data:g,key:d.value,border:"",stripe:"","highlight-current-row":"","empty-text":"暂无数据",onCurrentChange:b},{default:K((()=>[G(E,{prop:"platformType",label:e.$t("dynamic.platform.type")},null,8,["label"]),G(E,{prop:"subPlatformType",label:e.$t("dynamic.platform.subtype")},null,8,["label"]),G(E,{prop:"platformKey",label:e.$t("dynamic.platform.key")},null,8,["label"]),G(E,{prop:"platformName",label:e.$t("dynamic.platform.name")},null,8,["label"])])),_:1}))])),_:1}),G(w,null,{default:K((()=>[m.value?(Y(),H(i,{key:0,class:"top-version-tip",title:h.value,type:"info",closable:!1},null,8,["title"])):W("",!0),G(o,{type:"danger",onClick:f},{default:K((()=>[q(X(e.$t("dynamic.platform.opt.del.select")),1)])),_:1})])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-3d72b4ef"]]);var rn=(e=>(e.PicgoPageMenuType_Uninstall="uninstall",e.PicgoPageMenuType_Disable="disable",e.PicgoPageMenuType_Enable="enable",e.PicgoPageMenuType_Update="update",e.PicgoPageMenuType_ConfigThing="configThing",e.PicgoPageMenuType_Transfer="transformer",e.PicgoPageMenuType_Plugin="plugin",e))(rn||{});const cn=new class extends ns{async upload(e){let t=JSON.stringify([]);const i="http://127.0.0.1:36677/upload",a={method:"POST"};let o;e&&(o={list:e}),wi(o)||Object.assign(a,{body:JSON.stringify(o)}),Object.assign(a,{headers:{"Content-Type":"application/json","User-Agent":"Terwer/0.1.0"}}),this.logger.debug("调用HTTP请求上传图片到PicGO，apiUrl=>",i),this.logger.debug("调用HTTP请求上传图片到PicGO，fetchOps=>",a);const s=await this.doFetch(i,a);if(this.logger.debug("resJson=>",JSON.stringify(s)),!s.success)throw new Error("调用HTTP上传到PicGO失败，请检查配置=>"+s.message);{const e=[];s.result&&s.result.length>0&&s.result.forEach((t=>{const i={fileName:t.substring(t.lastIndexOf("/")+1),imgUrl:t};e.push(i)})),t=JSON.stringify(e)}return Promise.resolve(t)}},un=(e=undefined)=>qi.getSiyuanWindow().SyPicgo.getPicgoObj().getConfig(e),pn=(e,t=undefined)=>{const i=qi.getSiyuanWindow().SyPicgo.getPicgoObj();let a;a="string"==typeof e?{[e]:t}:Bt.getRawData(e),i.saveConfig(a)},gn=e=>Object.assign({_configName:"Default"},Bt.trimValues(e),{_id:Pa(),_createdAt:Date.now(),_updatedAt:Date.now()}),dn=e=>{var t;const i=qi.getSiyuanWindow().SyPicgo.getPicgoObj();if(!e)return{configList:[],defaultId:""};const a=null!=(t=i.getConfig(`uploader.${e}`))?t:{};let o=a.configList,s=a.defaultId||"";if(!o){const t=(e=>{var t;const i=qi.getSiyuanWindow().SyPicgo.getPicgoObj(),a=null!=(t=i.getConfig(`picBed.${e}`))?t:{};a._id||Object.assign(a,gn(a));const o=[a];return i.saveConfig({[`uploader.${e}`]:{configList:o,defaultId:a._id},[`picBed.${e}`]:a}),{configList:o,defaultId:a._id}})(e);o=t.configList,s=t.defaultId}return{configList:o,defaultId:s}},mn=(e,t,i)=>{const a=qi.getSiyuanWindow().SyPicgo.getPicgoObj();e&&(i&&a.saveConfig({[`uploader.${e}.defaultId`]:i}),t&&a.saveConfig({[`picBed.${e}`]:t}),a.saveConfig({"picBed.current":e,"picBed.uploader":e}))},hn=()=>{var e;const t=qi.getSiyuanWindow(),i=null==(e=null==t?void 0:t.SyPicgo)?void 0:e.getPicgoObj();return i?i.baseDir:"[PicGO未挂载]"},bn=()=>{var e;const t=qi.getSiyuanWindow(),i=null==(e=null==t?void 0:t.SyPicgo)?void 0:e.getPicgoObj();return i?i.configPath:"[PicGO未挂载]"},fn=(e,t)=>{if("uploader"===e){un("picBed.current")===t&&pn({"picBed.current":"github","picBed.uploader":"github"})}if("transformer"===e){un("picBed.transformer")===t&&pn({"picBed.transformer":"path"})}},yn=(e,t={})=>{const i=qi.getSiyuanWindow();(null==i?void 0:i.SyPicgo).ipcMethods.handleEvent(e,t)},wn={getPicgoConfig:un,savePicgoConfig:pn,getPicBedConfig:e=>{var t,i;const a=qi.getSiyuanWindow().SyPicgo.getPicgoObj(),o=(null==(t=a.helper.uploader.get(e))?void 0:t.name)||e;if(null==(i=a.helper.uploader.get(e))?void 0:i.config){return{config:(e=>{for(const t in e)"function"==typeof e[t].default&&(e[t].default=e[t].default()),"function"==typeof e[t].choices&&(e[t].choices=e[t].choices());return e})(a.helper.uploader.get(e).config(a)),name:o}}return{config:[],name:o}},getPicBeds:()=>{const e=qi.getSiyuanWindow().SyPicgo.getPicgoObj(),t=e.helper.uploader.getIdList(),i=e.getConfig("picBed.list")||[];return t.map((t=>{const a=i.find((e=>e.type===t));return{type:t,name:e.helper.uploader.get(t).name||t,visible:!a||a.visible}})).sort((e=>"github"===e.type?-1:0))},getUploaderConfigList:dn,selectUploaderConfig:(e,t)=>{const i=qi.getSiyuanWindow().SyPicgo.getPicgoObj(),{configList:a}=dn(e),o=a.find((e=>e._id===t));return o&&i.saveConfig({[`uploader.${e}.defaultId`]:t,[`picBed.${e}`]:o}),o},changeCurrentUploader:mn,deleteUploaderConfig:(e,t)=>{const i=qi.getSiyuanWindow().SyPicgo.getPicgoObj(),{configList:a,defaultId:o}=dn(e);if(a.length<=1)return;let s=o;const n=a.filter((e=>e._id!==t));return t===o&&(s=n[0]._id,mn(e,n[0],n[0]._id)),i.saveConfig({[`uploader.${e}.configList`]:n}),{configList:n,defaultId:s}},updateUploaderConfig:(e,t,i)=>{const a=qi.getSiyuanWindow().SyPicgo.getPicgoObj(),{configList:o,defaultId:s}=dn(e),n=o.find((e=>e._id===t));let l,r=s;n?l=Object.assign(n,Bt.trimValues(i),{_updatedAt:Date.now()}):(l=gn(i),r=l._id,o.push(l)),a.saveConfig({[`uploader.${e}.configList`]:o,[`uploader.${e}.defaultId`]:r,[`picBed.${e}`]:l})},uploadByPicGO:async e=>{if(e){if(zi()){return qi.getSiyuanWindow().SyPicgo.upload(e)}return cn.upload(e)}if(zi()){return qi.getSiyuanWindow().SyPicgo.uploadFormClipboard()}return cn.upload()},getPicgoBasedir:hn,getPicgoCfgPath:bn,getPicgoCfgFile:e=>{const t=qi.getSiyuanWindow(),i=null==t?void 0:t.SyPicgo,a=null==i?void 0:i.getPicgoObj();return a?i.combinePath(a.baseDir,e):"[PicGO未挂载]"},ipcHandleEvent:yn,ipcRegisterEvent:(e,t={})=>{const i=qi.getSiyuanWindow();(null==i?void 0:i.SyPicgo).ipcMethods.registerEvent(e,t)},ipcRemoveEvent:e=>{const t=qi.getSiyuanWindow();(null==t?void 0:t.SyPicgo).ipcMethods.removeEvent(e)},getPicgoVersion:()=>{const e=qi.getSiyuanWindow(),t=null==e?void 0:e.SyPicgo,i=null==t?void 0:t.getPicgoObj();return i?i.VERSION:"1.5.0"},buildPluginMenu:(e,t)=>{const i=qi.getSiyuanWindow(),a=[],o={label:t(rn.PicgoPageMenuType_Enable)["setting.picgo.plugin.enable"],enabled:!e.enabled,click(){pn({[`picgoPlugins.${e.fullName}`]:!0}),zt.reloadPageWithMessage("插件已启用，即将刷新页面...")}},s={label:t(rn.PicgoPageMenuType_Disable)["setting.picgo.plugin.disable"],enabled:e.enabled,click(){pn({[`picgoPlugins.${e.fullName}`]:!1}),e.config.transformer.name&&fn("transformer",e.config.transformer.name),e.config.uploader.name&&fn("uploader",e.config.uploader.name),zt.reloadPageWithMessage("插件已禁用，即将刷新页面...")}},n={label:t(rn.PicgoPageMenuType_Uninstall)["setting.picgo.plugin.uninstall"],click(){yn("picgoHandlePluginIng",e.fullName),yn("uninstallPlugin",e.fullName)}};t(rn.PicgoPageMenuType_Update)["setting.picgo.plugin.update"],a.push(o),a.push(s),a.push(n),a.push({label:" -------- ",click(){}});const l=t(rn.PicgoPageMenuType_Plugin);for(const p in e.config)if("uploader"!==p&&e.config[p].config.length>0){const t={label:`${l["setting.picgo.plugin.config.setting"]} - ${e.config[p].fullName||e.config[p].name}`,click(){const t=p,i=e.config[p].fullName||e.config[p].name,a=e.config[p].config;yn("picgoConfigPlugin",{currentType:t,configName:i,config:a})}};a.push(t)}const r=i.syp.buildMenu(a,i),{getCurrentWindow:c}=i.require("@electron/remote"),u=c();r.popup({elecWin:u})},handleRestoreState:fn,clearPicgoCfg:()=>{const e=qi.getSiyuanWindow(),t=hn();(null==e?void 0:e.SyPicgo).rmFolder(t)},backupPicgoCfg:()=>{const e=qi.getSiyuanWindow(),t=null==e?void 0:e.SyPicgo,i=null==t?void 0:t.getPicgoObj();if(!i)throw new Error("[PicGO未挂载]");const a=bn(),o=t.readFileAsJson(a),s="sy-picgo-cfg-v"+i.GUI_VERSION+".json";Vi(o,s)},importPicgoCfg:async()=>{const e=qi.getSiyuanWindow(),t=null==e?void 0:e.SyPicgo,i=bn();await ca((function(e){e.picgoPlugins={};const a=JSON.stringify(e);t.restoreCfg(a,i),zt.reloadPageWithMessage("导入成功")}))}},vn=be("picbedStore",(()=>{const e=$("github");return{defaultPicBed:e,setDefaultPicBed:function(t){e.value=t}}})),_n={class:"config-form-box"},Pn={class:"config-form-header"},kn={class:"flex items-center"},Cn=["title"],En={class:"config-form"},Tn=go(R({__name:"ConfigForm",props:{configType:String,config:Object,id:String,configId:String,isNewForm:Boolean},emits:["on-change"],setup(e,{emit:t}){const i=e,a=pi.getLogger("components/picgo/setting/PicbedConfigForm.vue"),o=$(),s=$([]),l=F({});Q(i.config,(e=>{a.info("检测到配置文件变化，val=>",e),function(e){!function(e){const t=i.isNewForm?{}:function(){const e=i.configId;let t;switch(i.configType){case"plugin":t=wn.getPicgoConfig(`${i.configId}`)||{_configName:i.configId};break;case"uploader":t=(wn.getPicgoConfig(`uploader.${i.id}.configList`)||[]).find((t=>t._id===e))||{};break;case"transformer":t=wn.getPicgoConfig(`transformer.${i.configId}`)||{};break;default:t={}}return t}(),o=i.isNewForm?void 0:i.configId;Object.assign(l,t),a.debug("form属性=>",l),a.debug("configId=>",o);const n=r(e);a.debug("追加form属性rawVal=>",n),n.length>0&&(s.value=Pt(n).map((e=>{var i;if(!o)return e;let a=void 0!==e.default?e.default:"checkbox"===e.type?[]:null;if("checkbox"===e.type){const t=(null==(i=e.choices)?void 0:i.filter((e=>e.checked)).map((e=>e.value)))||[];a=kt(a,t)}return t&&void 0!==t[e.name]&&(a=t[e.name]),l[e.name]=a,e})));a.debug("完整form属性=>",l),a.debug("动态配置configList=>",s.value),a.debug("追加form完成.")}(e)}(e)}),{deep:!0,immediate:!0});const c=()=>{t("on-change")},u=async()=>{const e=await async function(){return new Promise((e=>{var t;null==(t=o.value)||t.validate((t=>{if(!t)return e(!1),!1;e(l)}))}))}()||!1;if(!1!==e)switch(i.configType){case"plugin":wn.savePicgoConfig(`${i.configId}`,e);break;case"uploader":wn.updateUploaderConfig(i.id,null==e?void 0:e._id,e);break;case"transformer":wn.savePicgoConfig(`transformer.${i.configId}`,e)}c()};return(e,t)=>{const i=je,a=Ee,r=Ce,p=Ne,g=De,d=Te,m=ve,h=Ue;return Y(),B("div",_n,[z("div",Pn,[G(i,{icon:n(te),title:"返回",onClick:c},{content:K((()=>[z("div",kn,[z("span",{class:"text-large font-600 mr-3",title:l._configName},X(l._configName),9,Cn)])])),_:1},8,["icon"])]),z("div",En,[G(h,{ref_key:"$configForm",ref:o,"label-width":"250px",model:l},{default:K((()=>[G(r,{label:e.$t("setting.picgo.config.name"),required:"",prop:"_configName"},{default:K((()=>[G(a,{modelValue:l._configName,"onUpdate:modelValue":t[0]||(t[0]=e=>l._configName=e),placeholder:e.$t("setting.picgo.config.name.placeholder")},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(Y(!0),B(ee,null,Z(s.value,((e,t)=>(Y(),H(r,{key:e.name+t,label:e.alias||e.name,required:e.required,prop:e.name},{default:K((()=>["input"===e.type||"password"===e.type?(Y(),H(a,{key:0,modelValue:l[e.name],"onUpdate:modelValue":t=>l[e.name]=t,type:"password"===e.type?"password":"input",placeholder:e.message||e.name},null,8,["modelValue","onUpdate:modelValue","type","placeholder"])):"list"===e.type&&e.choices?(Y(),H(g,{key:1,modelValue:l[e.name],"onUpdate:modelValue":t=>l[e.name]=t,placeholder:e.message||e.name},{default:K((()=>[(Y(!0),B(ee,null,Z(e.choices,(e=>(Y(),H(p,{key:e.name||e.value||e,label:e.name||e.value||e,value:e.value||e},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"])):"checkbox"===e.type&&e.choices?(Y(),H(g,{key:2,modelValue:l[e.name],"onUpdate:modelValue":t=>l[e.name]=t,placeholder:e.message||e.name,multiple:"","collapse-tags":""},{default:K((()=>[(Y(!0),B(ee,null,Z(e.choices,(e=>(Y(),H(p,{key:e.value||e,label:e.name||e.value||e,value:e.value||e},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"])):"confirm"===e.type?(Y(),H(d,{key:3,modelValue:l[e.name],"onUpdate:modelValue":t=>l[e.name]=t,"active-text":"yes","inactive-text":"no"},null,8,["modelValue","onUpdate:modelValue"])):W("",!0)])),_:2},1032,["label","required","prop"])))),128)),G(r,null,{default:K((()=>[G(m,{onClick:u},{default:K((()=>[q(X(e.$t("main.opt.ok")),1)])),_:1})])),_:1})])),_:1},8,["model"])])])}}}),[["__scopeId","data-v-03d6abbd"]]),Sn={class:"picbed-setting"},Un={class:"bed-type-list"},In={class:"profile-box"},An={key:0,class:"profile-setting"},On={class:"profile-card-box"},xn=["onClick"],Nn={class:"profile-card-line"},Dn={class:"pull-right"},Ln={class:"profile-date"},Vn={class:"profile-action"},Rn={key:1,class:"profile-form"},$n=go(R({__name:"PicbedSetting",props:{isReload:Boolean},setup(e){const t=e,i=pi.getLogger("components/picgo/setting/PicbedSetting.vue"),a=F({showPicBedList:[]}),o=F({defaultConfigId:"",curConfigList:[],curConfig:{},curConfigId:""}),s=$(""),l=$(""),c=vn(),{t:u}=ye(),p=$(!1),g=$(!1);function d(){const e=wn.getPicBedConfig(s.value);o.curConfig=e.config,o.curConfigId=void 0,p.value=!0,g.value=!0,i.debug("addNewConfig type=>",s.value),i.debug("addNewConfig id=>",o.curConfigId),i.debug("addNewConfig config=>",r(o.curConfig))}function m(){p.value=!1,g.value=!1}const h=(e=undefined)=>{const t=wn.getPicBeds().map((e=>e.visible?e:null)).filter((e=>e));e||(e=t.length>0?t[0].type:"github"),s.value=e,a.showPicBedList=t;const i=(e=>wn.getUploaderConfigList(e))(e);o.curConfigList=i.configList,o.defaultConfigId=i.defaultId,l.value=wn.getPicgoConfig("picBed.uploader")||wn.getPicgoConfig("picBed.current")||"github",c.setDefaultPicBed(l.value)};return Q((()=>t.isReload),(()=>{h(),i.debug("picbed-setting初始化")})),M((()=>{h()})),(e,t)=>{const b=Se,f=ve,y=ke,w=j("font-awesome-icon"),v=_e;return Y(),B("div",Sn,[G(b,{title:e.$t("setting.picgo.picbed.current.selected.tip")+s.value+"，"+e.$t("setting.picgo.picbed.current.tip")+l.value,type:"success",closable:!1},null,8,["title"]),z("div",Un,[G(y,null,{default:K((()=>[(Y(!0),B(ee,null,Z(a.showPicBedList,(e=>(Y(),H(f,{type:s.value===e.type?"primary":"",key:e.name,onClick:t=>(e=>{m(),s.value=e.type,h(e.type),i.debug("item=>",e)})(e)},{default:K((()=>[q(X(e.name),1)])),_:2},1032,["type","onClick"])))),128))])),_:1})]),z("div",In,[g.value?(Y(),B("div",Rn,[G(Tn,{"config-type":"uploader",id:s.value,config:o.curConfig,"config-id":o.curConfigId,"is-new-form":p.value,onOnChange:m},null,8,["id","config","config-id","is-new-form"])])):(Y(),B("div",An,[z("div",On,[(Y(!0),B(ee,null,Z(o.curConfigList,(t=>(Y(),B("div",{key:t._id,class:"profile-card-item",onClick:()=>function(e){o.defaultConfigId=e;const t=wn.selectUploaderConfig(s.value,e);i.debug("selectItem config=>",t)}(t._id)},[G(n(Ye),null,{default:K((()=>[z("div",Nn,[z("span",null,X(t._configName),1),z("span",Dn,[G(v,{content:e.$t("main.opt.edit"),class:"box-item",effect:"dark",placement:"bottom","popper-class":"publish-menu-tooltip"},{default:K((()=>[G(f,{onClick:ie((e=>function(e){const t=wn.getPicBedConfig(s.value);o.curConfig=t.config,o.curConfigId=e,p.value=!1,g.value=!0,i.debug("editConfig type=>",s.value),i.debug("editConfig id=>",o.curConfigId),i.debug("editConfig config=>",r(o.curConfig))}(t._id)),["stop"])},{default:K((()=>[G(w,{icon:"fa-solid fa-pen-to-square"})])),_:2},1032,["onClick"])])),_:2},1032,["content"]),G(v,{content:e.$t("main.opt.delete"),class:"box-item",effect:"dark",placement:"bottom","popper-class":"publish-menu-tooltip"},{default:K((()=>[G(f,{onClick:ie((e=>{return i=t._id,void wn.deleteUploaderConfig(s.value,i);var i}),["stop"])},{default:K((()=>[G(w,{icon:"fa-solid fa-trash-can"})])),_:2},1032,["onClick"])])),_:2},1032,["content"])])]),z("div",Ln,X(n(Na).formatTimestampToZhDate(t._updatedAt)),1),z("div",{class:ae({selected:t._id===o.defaultConfigId})},X(t._id===o.defaultConfigId?e.$t("setting.picgo.picbed.selected.tip"):e.$t("setting.picgo.picbed.unselected.tip")),3)])),_:2},1024)],8,xn)))),128)),z("div",{class:"profile-card-item",onClick:d},"+")]),z("div",Vn,[G(f,{class:"set-default-btn",type:"success",disabled:n(c).defaultPicBed===s.value,onClick:t[0]||(t[0]=e=>{return t=s.value,wn.savePicgoConfig({"picBed.current":t,"picBed.uploader":t}),c.setDefaultPicBed(t),l.value=t,i.info("当前存储的图床类型=>",t),void we.success(u("main.opt.success"));var t})},{default:K((()=>[q(X(e.$t("setting.picgo.picbed.set.default")),1)])),_:1},8,["disabled"])])]))])])}}}),[["__scopeId","data-v-416fff36"]]),Mn={key:0},jn=R({__name:"PicgoConfigSetting",setup(e){const t=pi.getLogger("components/picgo/setting/PicgoConfigSetting.vue"),{t:i}=ye(),a="https://registry.npmmirror.com",o=$([]),s=F({showPicBedList:[],autoRename:!1,nodePath:"",nodeRegistry:a,nodeProxy:""});function l(){const e=wn.getPicBeds();o.value=e,s.showPicBedList=o.value.map((e=>e.visible?e.name:null)).filter((e=>e))}function r(e){const i=o.value.map((t=>(e.includes(t.name)?t.visible=!0:t.visible=!1,t)));wn.savePicgoConfig({"picBed.list":i}),t.debug("保存启用的图床",i)}const c=e=>{const i=wn.getPicgoCfgFile(e);t.warn("即将打开文件=>",i),qi.openPath(i)},u=e=>{wn.savePicgoConfig({"settings.autoRename":e})},p=()=>{s.nodePath=s.nodePath.trim(),s.nodeRegistry=s.nodeRegistry.trim(),s.nodeProxy=s.nodeProxy.trim(),s.nodeRegistry=""===s.nodeRegistry?a:s.nodeRegistry,wn.savePicgoConfig({"settings.nodePath":s.nodePath,"settings.registry":s.nodeRegistry,"settings.proxy":""===s.nodeProxy?void 0:s.nodeProxy}),we.success(i("main.opt.success"))};return oe((()=>{wn.ipcRegisterEvent("getPicBeds",((e,t)=>{l()})),l(),function(){var e,i,o,n;const l=wn.getPicgoConfig();if(t.debug("PicGO setting initData=>",l),void 0!==l){const t=l.settings||{};s.autoRename=null==(e=t.autoRename)||e,s.nodePath=null!=(i=t.nodePath)?i:"",s.nodeRegistry=null!=(o=t.registry)?o:a,s.nodeProxy=null!=(n=t.nodeProxy)?n:"",wn.savePicgoConfig({"settings.autoRename":s.autoRename,"settings.registry":s.nodeRegistry})}}()})),se((()=>{wn.ipcRemoveEvent("getPicBeds")})),(e,t)=>{const i=ve,a=Ce,l=Be,g=Ge,d=Te,m=Ee,h=Ue;return Y(),B("div",null,[G(h,{"label-width":"125px"},{default:K((()=>[G(a,{label:e.$t("setting.picgo.picgo.open.config.file")},{default:K((()=>[G(i,{onClick:t[0]||(t[0]=e=>c("picgo.cfg.json"))},{default:K((()=>[q(X(e.$t("setting.picgo.picgo.click.to.open")),1)])),_:1})])),_:1},8,["label"]),G(a,{label:e.$t("setting.picgo.setting.log.file")},{default:K((()=>[G(i,{onClick:t[1]||(t[1]=e=>c("picgo.log"))},{default:K((()=>[q(X(e.$t("setting.picgo.picgo.click.to.open")),1)])),_:1})])),_:1},8,["label"]),G(a,{label:e.$t("setting.picgo.picgo.choose.showed.picbed")},{default:K((()=>[G(g,{modelValue:s.showPicBedList,"onUpdate:modelValue":t[2]||(t[2]=e=>s.showPicBedList=e),onChange:r},{default:K((()=>[(Y(!0),B(ee,null,Z(o.value,(e=>(Y(),H(l,{key:e.name,label:e.name},null,8,["label"])))),128))])),_:1},8,["modelValue"])])),_:1},8,["label"]),G(a,{label:e.$t("setting.picgo.setting.timestamp.rename")},{default:K((()=>[G(d,{modelValue:s.autoRename,"onUpdate:modelValue":t[3]||(t[3]=e=>s.autoRename=e),"active-text":e.$t("setting.picgo.setting.open"),"inactive-text":e.$t("setting.picgo.setting.close"),onChange:u},null,8,["modelValue","active-text","inactive-text"])])),_:1},8,["label"]),n(Yi)()?(Y(),B("div",Mn,[G(n(Ke)),z("p",null,X(e.$t("setting.picgo.setting.config.tip")),1),G(a,{label:e.$t("setting.picgo.setting.node.path")},{default:K((()=>[G(m,{modelValue:s.nodePath,"onUpdate:modelValue":t[4]||(t[4]=e=>s.nodePath=e),placeholder:e.$t("setting.picgo.setting.node.path.tip")},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),G(a,{label:e.$t("setting.picgo.setting.node.registry")},{default:K((()=>[G(m,{modelValue:s.nodeRegistry,"onUpdate:modelValue":t[5]||(t[5]=e=>s.nodeRegistry=e),placeholder:e.$t("setting.picgo.setting.node.registry.tip")},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),G(a,{label:e.$t("setting.picgo.setting.node.proxy")},{default:K((()=>[G(m,{modelValue:s.nodeProxy,"onUpdate:modelValue":t[6]||(t[6]=e=>s.nodeProxy=e),placeholder:e.$t("setting.picgo.setting.node.proxy.tip")},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),G(a,null,{default:K((()=>[G(i,{onClick:p},{default:K((()=>[q(X(e.$t("main.opt.ok")),1)])),_:1})])),_:1})])):W("",!0)])),_:1})])}}}),Yn=()=>qi.getSiyuanWindow().process.platform,Bn={id:"plugin-view"},Gn={class:"view-title"},Kn={key:0,class:"plugin-list-box"},Hn={class:"plugin-search-box"},Wn={class:"plugin-list-tip"},qn={key:0,class:"cli-only-badge",title:"CLI only"},Fn=["src","onerror"],Jn=["onClick"],Xn=["title"],zn={class:"plugin-item__info-bar"},Qn={class:"plugin-item__author"},Zn={class:"plugin-item__config"},el={key:0,class:"config-button work"},tl={key:1,class:"config-button nowork"},il=["onClick"],al={key:1,class:"config-button ing"},ol={key:2,class:"config-button ing"},sl={key:3,class:"config-button ing"},nl={key:0,class:"config-button ing"},ll={key:1,class:"plugin-config-form"},rl=R({__name:"PicgoPluginSetting",setup(e){const t=pi.getLogger("components/picgo/setting/PicgoPluginSetting.vue"),{t:i}=ye(),a=$(!1),o=$(""),s=F({pluginList:[],pluginNameList:[]}),n=$(""),l=$('this.src="/widgets/sy-post-publisher/lib/picgo/picgo-logo.png"'),r=ne((()=>o.value.match("picgo-plugin-")?o.value:""!==o.value?`picgo-plugin-${o.value}`:o.value));let c;const u=$(!1),p=F({currentType:"plugin",configName:"",config:{}});function g(){u.value=!1}function d(){wn.ipcHandleEvent("getPluginList")}Q(r,(e=>{e?(a.value=!0,s.pluginList=[],c(e)):d()}));const m=e=>["watermark-elec","s3","minio"].includes(e.name);function h(){ra("https://github.com/PicGo/Awesome-PicGo")}function b(){wn.ipcHandleEvent("importLocalPlugin")}async function f(e){wn.buildPluginMenu(e,y)}function y(e){const t=[];switch(e){case rn.PicgoPageMenuType_Uninstall:t["setting.picgo.plugin.uninstall"]=i("setting.picgo.plugin.uninstall");break;case rn.PicgoPageMenuType_Enable:t["setting.picgo.plugin.enable"]=i("setting.picgo.plugin.enable");break;case rn.PicgoPageMenuType_Disable:t["setting.picgo.plugin.disable"]=i("setting.picgo.plugin.disable");break;case rn.PicgoPageMenuType_Update:t["setting.picgo.plugin.update"]=i("setting.picgo.plugin.update");break;case rn.PicgoPageMenuType_ConfigThing:break;case rn.PicgoPageMenuType_Transfer:t["setting.picgo.plugin.enable"]=i("setting.picgo.plugin.enable"),t["setting.picgo.plugin.disable"]=i("setting.picgo.plugin.disable");break;case rn.PicgoPageMenuType_Plugin:t["setting.picgo.plugin.config.setting"]=i("setting.picgo.plugin.config.setting")}return t}function w(e){const i=`https://registry.npmjs.com/-/v1/search?text=${e}`;t.info("npmjs请求fetchUrl=>",i),fetch(i).then((async e=>{var i;const o=await e.json(),n=null!=(i=null==o?void 0:o.objects)?i:[];t.info("npmjs返回的package列表list=>",n),s.pluginList=n.filter((e=>e.package.name.includes("picgo-plugin-"))).map((e=>function(e){const t=v(e.package.name);let i=!1;e.package.keywords&&e.package.keywords.length>0&&e.package.keywords.includes("picgo-gui-plugin")&&(i=!0);return{name:t,fullName:e.package.name,author:e.package.author.name,description:e.package.description,logo:`https://cdn.jsdelivr.net/npm/${e.package.name}/logo.png`,config:{},homepage:e.package.links?e.package.links.homepage:"",hasInstall:s.pluginNameList.some((t=>t===e.package.name)),version:e.package.version,gui:i,ing:!1}}(e))),a.value=!1})).catch((e=>{a.value=!1}))}const v=e=>/^@[^/]+\/picgo-plugin-/.test(e)?e.replace(/^@[^/]+\/picgo-plugin-/,""):e.replace(/picgo-plugin-/,"");function _(){o.value=""}return oe((()=>{n.value=Yn(),wn.ipcRegisterEvent("pluginList",((e,i)=>{t.info("PicgoPluginSetting接收到pluginList事件,data=>",i);const a=i.rawArgs;if(a.success){const e=a.data;s.pluginList=e,s.pluginNameList=e.map((e=>e.fullName)),t.info("插件列表已经成功加载.",e)}else we.error(a.error)})),wn.ipcRegisterEvent("installPluginFinished",((e,o)=>{a.value=!1,t.info("PicgoPluginSetting接收到installPluginFinished事件,data=>",o);const n=o.rawArgs.body,l=o.rawArgs.success,r=o.rawArgs.errMsg;s.pluginList.forEach((e=>{e.fullName===n&&(e.ing=!1,e.hasInstall=l)})),l?(wn.ipcHandleEvent("getPicBeds"),we.success(i("setting.picgo.plugin.install.success"))):we.error(r),Ft()})),wn.ipcRegisterEvent("picgoHandlePluginIng",((e,t)=>{const i=t.rawArgs;s.pluginList.forEach((e=>{e.fullName!==i&&e.name!==i||(e.ing=!0)})),a.value=!0})),wn.ipcRegisterEvent("uninstallSuccess",((e,o)=>{a.value=!1,t.info("PicgoPluginSetting接收到installPluginFinished事件,data=>",o);const n=o.rawArgs.body,l=o.rawArgs.success,r=o.rawArgs.errMsg;l?(s.pluginList=s.pluginList.filter((e=>(e.fullName===n&&(e.config.transformer.name&&wn.handleRestoreState("transformer",e.config.transformer.name),e.config.uploader.name&&wn.handleRestoreState("uploader",e.config.uploader.name),wn.ipcHandleEvent("getPicBeds")),e.fullName!==n))),s.pluginNameList=s.pluginNameList.filter((e=>e!==n)),we.success(i("setting.picgo.plugin.uninstall.success"))):we.error(r),a.value=!1})),wn.ipcRegisterEvent("updateSuccess",((e,o)=>{a.value=!1,t.info("PicgoPluginSetting接收到updateSuccess事件,data=>",o);const n=o.rawArgs.body,l=o.rawArgs.success,r=o.rawArgs.errMsg;s.pluginList.forEach((e=>{e.fullName===n&&(e.ing=!1)})),l?we.success(i("setting.picgo.plugin.update.success")):we.error(r),u.value=!1,a.value=!1,Ft()})),wn.ipcRegisterEvent("picgoConfigPlugin",((e,i)=>{a.value=!1,t.info("PicgoPluginSetting接收到picgoConfigPlugin事件,data=>",i);const o=i.rawArgs.currentType,s=i.rawArgs.configName,n=i.rawArgs.config;t.info("_currentType=>",o),t.info("_configName=>",s),t.info("_config=>",n),p.currentType=o,p.configName=s,p.config=n,u.value=!0})),d(),c=Ct.exports.debounce(w,50)})),se((()=>{wn.ipcRemoveEvent("pluginList"),wn.ipcRemoveEvent("installPluginFinished"),wn.ipcRemoveEvent("picgoHandlePluginIng"),wn.ipcRemoveEvent("uninstallSuccess"),wn.ipcRemoveEvent("updateSuccess"),wn.ipcRemoveEvent("picgoConfigPlugin")})),(e,r)=>{const c=j("font-awesome-icon"),d=ve,y=_e,w=He,v=Ee,P=We,k=qe,C=Fe;return Y(),B("div",Bn,[z("div",Gn,[q(X(e.$t("setting.picgo.plugin"))+" - ",1),G(y,{content:e.$t("setting.picgo.plugin.list"),placement:"right"},{default:K((()=>[G(d,{class:"el-icon-goods",onClick:h},{default:K((()=>[G(c,{icon:"fa-solid fa-cart-shopping"})])),_:1})])),_:1},8,["content"]),G(y,{content:e.$t("setting.picgo.plugin.import.local"),placement:"left"},{default:K((()=>[G(d,{class:"el-icon-download",onClick:b},{default:K((()=>[G(c,{icon:"fa-solid fa-download"})])),_:1})])),_:1},8,["content"])]),u.value?(Y(),B("div",ll,[G(Tn,{"config-type":p.currentType,id:p.currentType,"config-id":p.configName,config:p.config,"is-new-form":!1,onOnChange:g},null,8,["config-type","id","config-id","config"])])):(Y(),B("div",Kn,[z("div",Hn,[G(P,{class:ae(["handle-bar",{"cut-width":s.pluginList.length>6}])},{default:K((()=>[G(v,{modelValue:o.value,"onUpdate:modelValue":r[0]||(r[0]=e=>o.value=e),placeholder:e.$t("setting.picgo.plugin.search.placeholder")},{suffix:K((()=>[G(w,{class:"el-input__icon",style:{cursor:"pointer"},onClick:_},{default:K((()=>[G(c,{icon:"fa-solid fa-xmark"})])),_:1})])),_:1},8,["modelValue","placeholder"])])),_:1},8,["class"])]),z("div",Wn,X("当前共有"+s.pluginList.length+"个插件。"),1),z("div",null,[le((Y(),H(P,{gutter:10,class:"plugin-list"},{default:K((()=>[(Y(!0),B(ee,null,Z(s.pluginList,(a=>(Y(),H(k,{key:a.fullName,class:"plugin-item__container",span:12},{default:K((()=>[z("div",{class:ae(["plugin-item",{darwin:"darwin"===n.value}])},[a.gui?W("",!0):(Y(),B("div",qn," CLI ")),z("img",{class:"plugin-item__logo",src:a.logo,onerror:l.value,alt:"img"},null,8,Fn),z("div",{class:ae(["plugin-item__content",{disabled:!a.enabled}])},[z("div",{class:"plugin-item__name",onClick:e=>{var t;(t=a.homepage)&&ra(t)}},[q(X(a.name)+" ",1),z("small",null,X(" "+a.version),1)],8,Jn),z("div",{class:"plugin-item__desc",title:a.description},X(a.description),9,Xn),z("div",zn,[z("span",Qn,X(a.author),1),z("span",Zn,[o.value?(Y(),B(ee,{key:0},[m(a)?(Y(),B("span",el,X(e.$t("setting.picgo.plugin.work")),1)):(Y(),B("span",tl,X(e.$t("setting.picgo.plugin.nowork")),1)),a.hasInstall?(Y(),B("span",sl,X(e.$t("setting.picgo.plugin.installed")),1)):(Y(),B(ee,{key:2},[!a.ing&&m(a)?(Y(),B("span",{key:0,class:"config-button install",onClick:e=>function(e){e.gui?(e.ing=!0,wn.ipcHandleEvent("installPlugin",e.fullName)):Me.confirm(i("setting.picgo.plugin.gui.not.implemented"),i("main.opt.tip"),{confirmButtonText:i("main.opt.ok"),cancelButtonText:i("main.opt.cancel"),type:"warning"}).then((()=>{e.ing=!0,wn.ipcHandleEvent("installPlugin",e.fullName)})).catch((()=>{t.warn("Install canceled")}))}(a)},X(e.$t("setting.picgo.plugin.install")),9,il)):a.ing||m(a)?a.ing?(Y(),B("span",ol,X(e.$t("setting.picgo.plugin.installing")),1)):W("",!0):(Y(),B("span",al,X(e.$t("setting.picgo.plugin.nouse")),1))],64))],64)):(Y(),B(ee,{key:1},[a.ing?(Y(),B("span",nl,X(e.$t("setting.picgo.plugin.doing.something")),1)):(Y(),B(ee,{key:1},[a.enabled?(Y(),H(w,{key:0,class:"el-icon-setting",onClick:e=>f(a)},{default:K((()=>[G(c,{icon:"fa-solid fa-gear"})])),_:2},1032,["onClick"])):(Y(),H(w,{key:1,class:"el-icon-remove-outline",onClick:e=>f(a)},{default:K((()=>[G(c,{icon:"fa-solid fa-bell-slash"})])),_:2},1032,["onClick"]))],64))],64))])])],2)],2)])),_:2},1024)))),128))])),_:1})),[[C,a.value]])])]))])}}}),cl=e=>(re("data-v-7f8cee7e"),e=e(),ce(),e),ul={key:0,style:{"padding-right":"20px"}},pl={class:"picgo-setting-tip"},gl={style:{display:"inline-block"}},dl={target:"_blank",href:"https://docs.publish.terwer.space/post/picgo-diagram-bed-use-zxqqec.html"},ml=cl((()=>z("a",{href:"https://picgo.github.io/PicGo-Core-Doc/zh/guide/config.html#%E6%89%8B%E5%8A%A8%E7%94%9F%E6%88%90"},"PicGO 官方文档",-1))),hl={class:"version-tip"},bl=cl((()=>z("a",{href:"https://github.com/terwer/Electron-PicGo-Core",target:"_blank"},"electron-picgo",-1))),fl=cl((()=>z("a",{href:"https://github.com/terwer",target:"_blank"},"terwer",-1))),yl=cl((()=>z("a",{href:"https://github.com/PicGo/PicGo-Core",target:"_blank"},"PicGo-Core",-1))),wl=cl((()=>z("p",null," 特别提示：picgo插件未经过全量测试，不保证所有插件都能运行，目前已经测试可用的插件如下： ",-1))),vl=cl((()=>z("p",null,[z("a",{href:"https://github.com/terwer/picgo-plugin-watermark-elec"},"picgo-plugin-watermark-elec"),q(" 搜索关键词：watermark-elec ")],-1))),_l=cl((()=>z("p",null,[z("a",{href:"https://github.com/wayjam/picgo-plugin-s3"},"picgo-plugin-s3"),q(" 搜索关键词：s3 ")],-1))),Pl=cl((()=>z("p",null,[z("a",{href:"https://github.com/Herbertzz/picgo-plugin-minio"},"picgo-plugin-minio"),q(" 搜索关键词：minio ")],-1))),kl={key:1},Cl={class:"picgo-browser-tip"},El=go(R({__name:"PicgoSetting",setup(e){const t=$(!1),i=$(""),a=()=>{t.value=!t.value};return oe((()=>{i.value=wn.getPicgoVersion()})),(e,o)=>{const s=Oe,l=xe;return n(Ht)?(Y(),B("div",ul,[G(l,{type:"border-card",onTabClick:a},{default:K((()=>[G(s,{label:e.$t("setting.picgo.picbed")},{default:K((()=>[G($n,{"is-reload":t.value},null,8,["is-reload"])])),_:1},8,["label"]),G(s,{label:e.$t("setting.picgo.picgo")},{default:K((()=>[G(jn)])),_:1},8,["label"]),n(Yi)()?(Y(),H(s,{key:0,label:e.$t("setting.picgo.plugin")},{default:K((()=>[G(rl)])),_:1},8,["label"])):W("",!0)])),_:1}),z("blockquote",pl,[z("div",null,[q(X(e.$t("picgo.siyuan.tip"))+" 。 当前系统默认的 PicGO 配置文件为： ",1),z("pre",gl,[z("code",null,X(n(wn).getPicgoCfgPath()),1)]),q(" 。 多个图床中，只能有一个图床设置为默认。默认图床会在上传的时候自动生效。从 0.7.0+ 开始，单个图床支持多份配置切换，每个图床只能有一个选中的配置生效。 "+X(e.$t("setting.picgo.refer.to"))+" ",1),z("a",dl,X(e.$t("setting.picgo.refer.to.online.doc")),1),q(" 或者 "),ml,q(" 。 ")])]),z("div",hl,[q(" 当前PicGo版本为 "),bl,q(" v"+X(i.value)+" ， 对 Electron 环境进行了更好的适配 ，由 ",1),fl,q(" 负责维护 。感谢原始 "),yl,q(" 项目。 "),wl,vl,_l,Pl])])):(Y(),B("div",kl,[z("div",Cl,[z("p",null,X(e.$t("picgo.chrome.tip"))+" 。",1),z("p",null,X(e.$t("picgo.pic.setting.no.tip"))+" 。",1)])]))}}}),[["__scopeId","data-v-7f8cee7e"]]),Tl={class:"locale-changer"},Sl=R({__name:"ChangeLocal",setup(e){const{locale:t}=ye(),i=[{value:"zh_CN",label:"简体中文"},{value:"en_US",label:"English"}],a=e=>{localStorage.Lang=e,t.value=e};return M((()=>{null!=localStorage.Lang&&(t.value=localStorage.Lang)})),(e,t)=>{const o=Ne,s=De,n=Ce,l=Ue;return Y(),B("div",Tl,[G(l,{"label-width":"150px"},{default:K((()=>[G(n,{label:e.$t("lang.choose")},{default:K((()=>[G(s,{modelValue:e.$i18n.locale,"onUpdate:modelValue":t[0]||(t[0]=t=>e.$i18n.locale=t),placeholder:e.$t("lang.choose.placeholder"),onChange:a},{default:K((()=>[(Y(),B(ee,null,Z(i,((e,t)=>G(o,{key:t,label:e.label,value:e.value},null,8,["label","value"]))),64))])),_:1},8,["modelValue","placeholder"])])),_:1},8,["label"])])),_:1})])}}}),Ul={class:"preference-setting"},Il=R({__name:"PreferenceSetting",props:{isReload:{type:Boolean,default:!1}},setup(e){const t=e,i=pi.getLogger("components/publish/tab/preference/PreferenceSetting.vue"),{t:a}=ye(),o=F({fixTitle:!1,removeH1:!1,newWin:!0,autoTag:!1,showCloseBtn:!1,usePicgo:!1,mainBg:""}),s={onTitleChange:e=>{i.debug("onTitleChange=>",e),o.fixTitle=e,n()},onH1Change:e=>{i.debug("onH1Change=>",e);const t=Pi(e);!0===t&&Me.confirm(a("preference.setting.removeH1.tip"),a("main.opt.warning"),{confirmButtonText:a("main.opt.ok"),cancelButtonText:a("main.opt.cancel"),type:"warning"}).then((async()=>{o.removeH1=e,n()})).catch((()=>{o.removeH1=!t}))},onNewWinChange:e=>{i.debug("onNewWinChange=>",e),o.newWin=e,n()},onAutoTagChange:e=>{i.debug("onAutoTagChange=>",e),o.autoTag=e,n()},onShowCloseBtnChange:e=>{i.debug("onShowCloseBtnChange=>",e),o.showCloseBtn=e,n()},onUsePicgoBtnChange:e=>{i.debug("onUsePicgoBtnChange=>",e),o.usePicgo=e,n()},handleSavePreference:()=>{n()}},n=()=>{const e=ro();e.fixTitle=Pi(o.fixTitle),e.removeH1=Pi(o.removeH1),e.newWin=Pi(o.newWin),e.autoTag=Pi(o.autoTag),e.showCloseBtn=Pi(o.showCloseBtn),e.usePicgo=Pi(o.usePicgo),e.mainBg=o.mainBg,Oi(gi.PUBLISH_PREFERENCE_CONFIG_KEY,e),i.debug("偏好设置已保存"),Ft()},l=()=>{const e=ro();o.fixTitle=Pi(e.fixTitle),o.removeH1=Pi(e.removeH1),o.newWin=Pi(e.newWin),o.autoTag=Pi(e.autoTag),o.showCloseBtn=Pi(e.showCloseBtn),o.usePicgo=Pi(e.usePicgo),o.mainBg=e.mainBg};return M((()=>{l()})),Q((()=>t.isReload),(async()=>{l(),i.debug("preference-setting刷新")})),(e,t)=>{const i=Te,a=Ce,n=Ue;return Y(),B("div",Ul,[G(n,{"label-width":"150px",inline:""},{default:K((()=>[G(a,{label:e.$t("preference.setting.fixTitle")},{default:K((()=>[G(i,{modelValue:o.fixTitle,"onUpdate:modelValue":t[0]||(t[0]=e=>o.fixTitle=e),onChange:s.onTitleChange},null,8,["modelValue","onChange"])])),_:1},8,["label"]),G(a,{label:e.$t("preference.setting.removeH1")},{default:K((()=>[G(i,{modelValue:o.removeH1,"onUpdate:modelValue":t[1]||(t[1]=e=>o.removeH1=e),onChange:s.onH1Change},null,8,["modelValue","onChange"])])),_:1},8,["label"]),G(a,{label:e.$t("preference.setting.newWin")},{default:K((()=>[G(i,{modelValue:o.newWin,"onUpdate:modelValue":t[2]||(t[2]=e=>o.newWin=e),onChange:s.onNewWinChange},null,8,["modelValue","onChange"])])),_:1},8,["label"]),G(a,{label:e.$t("main.auto.fetch.tag")},{default:K((()=>[G(i,{modelValue:o.autoTag,"onUpdate:modelValue":t[3]||(t[3]=e=>o.autoTag=e),onChange:s.onAutoTagChange},null,8,["modelValue","onChange"])])),_:1},8,["label"]),W("",!0),G(a,{label:e.$t("github.post.picgo.use")},{default:K((()=>[G(i,{modelValue:o.usePicgo,"onUpdate:modelValue":t[5]||(t[5]=e=>o.usePicgo=e),onChange:s.onUsePicgoBtnChange},null,8,["modelValue","onChange"])])),_:1},8,["label"])])),_:1}),W("",!0)])}}}),Al={class:"general-setting"},Ol=R({__name:"GeneralSetting",props:{isReload:{type:Boolean,default:!1}},setup(e){const t=e;return(e,i)=>(Y(),B("div",Al,[G(Sl),G(Il,{"is-reload":t.isReload},null,8,["is-reload"])]))}}),xl={class:"dialog-action"},Nl=R({__name:"siyuanApiSetting",props:{showCancel:Boolean},emits:["on-change"],setup(e,{emit:t}){const i=e,a=pi.getLogger("components/set/siyuanApiSetting.vue"),{t:o}=ye(),s="140px",n=$(),l=F({apiUrl:"http://127.0.0.1:6806",pwd:"",middlewareUrl:""}),r=F({apiUrl:[{required:!0,message:()=>o("form.validate.name.required")}],pwd:[{required:!1,message:()=>o("form.validate.name.required")}]}),c=async()=>{u()},u=()=>{t("on-change")};return oe((()=>{(()=>{const e=Mi();l.apiUrl=e.baseUrl,l.pwd=e.token,l.middlewareUrl=e.middlewareUrl,a.debug("初始化思源配置",e)})()})),(e,t)=>{const p=Ee,g=Ce,d=Se,m=ve,h=Ue;return Y(),B("div",null,[G(h,{ref_key:"siyuanApiSettingFormRef",ref:n,model:l,rules:r},{default:K((()=>[G(g,{label:e.$t("setting.blog.apiurl"),"label-width":s,prop:"apiUrl"},{default:K((()=>[G(p,{modelValue:l.apiUrl,"onUpdate:modelValue":t[0]||(t[0]=e=>l.apiUrl=e),autocomplete:"off",placeholder:e.$t("setting.blog.siyuan.apiurl")},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),G(g,{label:e.$t("setting.blog.password"),"label-width":s,prop:"pwd"},{default:K((()=>[G(p,{modelValue:l.pwd,"onUpdate:modelValue":t[1]||(t[1]=e=>l.pwd=e),type:"password",autocomplete:"off",placeholder:e.$t("setting.blog.siyuan.password"),"show-password":""},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),G(g,{label:e.$t("setting.blog.middlewareUrl"),"label-width":s,prop:"middlewareUrl"},{default:K((()=>[G(p,{modelValue:l.middlewareUrl,"onUpdate:modelValue":t[2]||(t[2]=e=>l.middlewareUrl=e),autocomplete:"off",placeholder:e.$t("setting.blog.middlewareUrl.tip")},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),G(g,null,{default:K((()=>[G(d,{class:"top-data-tip middleware-tip",title:e.$t("setting.blog.middlewareUrl.my.tip"),type:"success",closable:!1},null,8,["title"])])),_:1}),z("div",xl,[G(g,null,{default:K((()=>[i.showCancel?(Y(),H(m,{key:0,onClick:c},{default:K((()=>[q(X(e.$t("main.opt.cancel")),1)])),_:1})):W("",!0),G(m,{type:"primary",onClick:t[3]||(t[3]=e=>(async e=>{if(!e)return;if(await e.validate(((e,t)=>{e?a.debug("校验成功"):(a.error(o("main.opt.failure"),t),we.error(o("main.opt.failure")))})))try{const e=new $i(l.apiUrl,l.pwd,l.middlewareUrl);Oi(Ri,e),a.debug("保存思源配置",e),we.success(o("main.opt.success")),u(),Ft()}catch(t){u(),we.error(o("main.opt.failure")),a.error(o("main.opt.failure"),t)}})(n.value))},{default:K((()=>[q(X(e.$t("main.opt.ok")),1)])),_:1})])),_:1})])])),_:1},8,["model","rules"])])}}}),Dl=R({__name:"SetIndex",setup:e=>(e,t)=>{const i=Oe,a=xe;return Y(),H(a,{"tab-position":"left"},{default:K((()=>[G(i,{label:e.$t("service.tab.change.local")},{default:K((()=>[G(Ol)])),_:1},8,["label"]),G(i,{label:e.$t("blog.change.siyuan.api")},{default:K((()=>[G(Nl,{"show-cancel":!1})])),_:1},8,["label"]),G(i,{label:e.$t("dynamic.platform.new")},{default:K((()=>[G(ln)])),_:1},8,["label"]),G(i,{label:e.$t("service.tab.service.switch")},{default:K((()=>[G(zs)])),_:1},8,["label"]),G(i,{label:e.$t("service.tab.publish.setting")},{default:K((()=>[G(Js)])),_:1},8,["label"]),G(i,{label:e.$t("picgo.pic.setting")},{default:K((()=>[G(El)])),_:1},8,["label"])])),_:1})}}),Ll={class:"card-header"},Vl={class:"card-header"},Rl=go(R({__name:"ImportData",setup(e){const t=async()=>{await(async()=>{try{await ua(),we.success("导入成功"),Ft()}catch(e){e.toString().indexOf("AbortError")>-1?Ci.warn("您取消了导入=>",e):(Ci.error("配置文件解析错误=>",e),we.error(Mt("配置文件解析错误=>",e)))}})()},i=async()=>{await wn.importPicgoCfg()};return(e,a)=>{const o=ve,s=Se,l=Ye;return Y(),B("div",null,[G(l,{class:"box-card"},{header:K((()=>[z("div",Ll,[G(o,{type:"primary",onClick:t},{default:K((()=>[q(X(e.$t("setting.conf.import.syp")),1)])),_:1})])])),default:K((()=>[G(s,{title:e.$t("setting.conf.import.syp.tip"),type:"info",closable:!1},null,8,["title"])])),_:1}),n(Ht)?(Y(),H(l,{key:0,class:"box-card"},{header:K((()=>[z("div",Vl,[G(o,{type:"danger",onClick:i},{default:K((()=>[q(X(e.$t("setting.conf.import.picgo")),1)])),_:1})])])),default:K((()=>[G(s,{title:e.$t("setting.conf.import.picgo.tip"),type:"info",closable:!1},null,8,["title"])])),_:1})):W("",!0)])}}}),[["__scopeId","data-v-c8b429f6"]]),$l="0.8.0",Ml={class:"card-header"},jl={class:"card-header"},Yl=go(R({__name:"ExportData",setup(e){const t=()=>{Li(`sy-p-cfg-v${$l}.json`)},i=()=>{wn.backupPicgoCfg()};return(e,a)=>{const o=ve,s=Se,l=Ye;return Y(),B("div",null,[G(l,{class:"box-card"},{header:K((()=>[z("div",Ml,[G(o,{type:"primary",onClick:t},{default:K((()=>[q(X(e.$t("setting.conf.export.syp")),1)])),_:1})])])),default:K((()=>[G(s,{title:e.$t("setting.conf.export.syp.tip"),type:"success",closable:!1},null,8,["title"])])),_:1}),n(Ht)?(Y(),H(l,{key:0,class:"box-card"},{header:K((()=>[z("div",jl,[G(o,{type:"danger",onClick:i},{default:K((()=>[q(X(e.$t("setting.conf.export.picgo")),1)])),_:1})])])),default:K((()=>[G(s,{title:e.$t("setting.conf.export.syp.tip"),type:"success",closable:!1},null,8,["title"])])),_:1})):W("",!0)])}}}),[["__scopeId","data-v-a0f5d4af"]]),Bl={class:"card-header"},Gl={class:"card-header"},Kl=R({__name:"ClearData",setup(e){const{t:t}=ye(),i=()=>{Me.confirm(t("main.opt.warning.tip"),t("main.opt.warning"),{confirmButtonText:t("main.opt.ok"),cancelButtonText:t("main.opt.cancel"),type:"warning"}).then((async()=>{(()=>{const e=ki();e.clear(),e.length})(),zt.reloadPageWithMessage(t("main.opt.success"))})).catch((()=>{}))},a=()=>{Me.confirm(t("main.opt.warning.tip"),t("main.opt.warning"),{confirmButtonText:t("main.opt.ok"),cancelButtonText:t("main.opt.cancel"),type:"warning"}).then((async()=>{wn.clearPicgoCfg(),zt.reloadPageWithMessage(t("main.opt.success"))})).catch((()=>{}))};return(e,t)=>{const o=ve,s=Se,l=Ye;return Y(),B("div",null,[G(l,{class:"box-card"},{header:K((()=>[z("div",Bl,[G(o,{type:"primary",onClick:i},{default:K((()=>[q(X(e.$t("setting.conf.clear.syp")),1)])),_:1})])])),default:K((()=>[G(s,{title:e.$t("setting.conf.clear.tip"),type:"error",closable:!1},null,8,["title"])])),_:1}),n(Ht)?(Y(),H(l,{key:0,class:"box-card"},{header:K((()=>[z("div",Gl,[G(o,{type:"danger",onClick:a},{default:K((()=>[q(X(e.$t("setting.conf.clear.picgo")),1)])),_:1})])])),default:K((()=>[G(s,{title:e.$t("setting.conf.clear.picgo.tip"),type:"error",closable:!1},null,8,["title"])])),_:1})):W("",!0)])}}}),Hl=R({__name:"TransportSelect",setup(e){const t=$("export");return(e,i)=>{const a=Oe,o=xe;return Y(),B("div",null,[G(o,{modelValue:t.value,"onUpdate:modelValue":i[0]||(i[0]=e=>t.value=e),class:"transport-tabs"},{default:K((()=>[G(a,{label:e.$t("setting.conf.export"),name:"export"},{default:K((()=>[G(Yl)])),_:1},8,["label"]),G(a,{label:e.$t("setting.conf.import"),name:"import"},{default:K((()=>[G(Rl)])),_:1},8,["label"]),G(a,{label:e.$t("setting.conf.clear"),name:"clear"},{default:K((()=>[G(Kl)])),_:1},8,["label"])])),_:1},8,["modelValue"])])}}}),Wl=e=>(re("data-v-6fb14376"),e=e(),ce(),e),ql={class:"footer"},Fl={class:"text"},Jl={class:"text"},Xl=Wl((()=>z("span",{class:"text"},".",-1))),zl=Wl((()=>z("span",{class:"text"},".",-1))),Ql=Wl((()=>z("span",{class:"text"},".",-1))),Zl=Wl((()=>z("span",{class:"text"},".",-1))),er=go(R({__name:"DefaultFooter",setup(e){const t=pi.getLogger("layouts/default/DefaultFooter"),i=ue(),a=pe(i),o=$(!1),s=$(!1),l=$(!1),r=$($l),c=()=>{o.value=!0};return M((()=>{Xi()?t.info("恭喜你，正在以挂件模式运行"):t.info("正在以非挂件模式运行，部分功能将通过请求代理的方式进行模拟，请知悉"),(()=>{const e=ta.getDevice();e!==ea.DeviceType_Chrome_Extension&&e!==ea.DeviceType_Chrome_Browser||(l.value=!0)})(),Gt()&&document.body.clientWidth>660&&(document.getElementById("app").style.minHeight="100%")})),(e,t)=>{const l=Xe;return Y(),B("div",null,[z("div",ql,[z("div",null,[z("span",Fl," ©2011-"+X(n(xa)()),1),z("span",{class:"text s-dark",onClick:t[0]||(t[0]=e=>{window.open("https://github.com/terwer/src-sy-post-publisher")})}," sy-post-publisher "),z("span",Jl,"v"+X(r.value)+" ",1),z("span",{class:"text s-dark",onClick:t[1]||(t[1]=e=>{window.open("https://www.terwer.space/about")})},X(e.$t("syp.about")),1),Xl,z("span",{class:"text s-dark",onClick:t[2]||(t[2]=e=>n(a)())},X(n(i)?e.$t("theme.mode.light"):e.$t("theme.mode.dark")),1),zl,z("span",{class:"text s-dark",onClick:c},X(e.$t("setting.conf.transport")),1),Ql,z("span",{class:"text s-dark",onClick:t[3]||(t[3]=e=>{ra("/blog/index.html")})},X(e.$t("blog.newwin.open")),1),Zl,z("span",{class:"text s-dark",onClick:t[4]||(t[4]=e=>{s.value=!0})},X(e.$t("setting.blog.index")),1),G(l,{modelValue:o.value,"onUpdate:modelValue":t[5]||(t[5]=e=>o.value=e),title:e.$t("setting.conf.transport")},{default:K((()=>[G(Hl)])),_:1},8,["modelValue","title"]),G(l,{modelValue:s.value,"onUpdate:modelValue":t[6]||(t[6]=e=>s.value=e),title:e.$t("setting.blog.index")},{default:K((()=>[G(Dl)])),_:1},8,["modelValue","title"])])])])}}}),[["__scopeId","data-v-6fb14376"]]),tr={id:"app-layout-default"},ir={class:"default-main"},ar=go(R({__name:"AppLayoutDefault",setup:e=>(e,t)=>(Y(),B("div",tr,[G(mo),z("div",ir,[ge(e.$slots,"default",{},void 0,!0)]),G(er)]))}),[["__scopeId","data-v-daa4119e"]]),or=R({__name:"AppLayout",setup(e){const t=de(ar);return(e,i)=>(Y(),H(me(n(t)),null,{default:K((()=>[ge(e.$slots,"default")])),_:3}))}});export{_a as $,ds as A,Ft as B,gi as C,Lt as D,xt as E,Ia as F,bi as G,yi as H,Ao as I,no as J,_i as K,pi as L,ao as M,oo as N,At as O,Uo as P,Vt as Q,Da as R,Io as S,Ea as T,lo as U,Ca as V,Ji as W,Ki as X,ka as Y,$t as Z,or as _,Xi as a,Va as a0,$a as a1,Ma as a2,Ra as a3,wi as a4,Dt as a5,vo as a6,It as a7,Ls as a8,Ii as a9,Oa as aa,fo as ab,qa as ac,Ga as ad,Ti as ae,to as af,Js as ag,zs as ah,ln as ai,El as aj,Jo as ak,eo as al,za as am,la as an,Gi as ao,Bt as ap,zt as aq,ti as ar,Ht as as,wn as at,Ui as au,Mi as av,da as aw,xi as ax,Dl as ay,Yi as b,Zi as c,Xt as d,Rt as e,ro as f,Hi as g,Pi as h,zi as i,ra as j,go as k,vi as l,Nt as m,Ua as n,Ei as o,va as p,hi as q,Ut as r,qi as s,Mt as t,jt as u,ji as v,Gt as w,Jt as x,Si as y,mi as z};
